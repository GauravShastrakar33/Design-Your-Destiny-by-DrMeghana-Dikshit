var C0=e=>{throw TypeError(e)};var tp=(e,t,n)=>t.has(e)||C0("Cannot "+n);var Q=(e,t,n)=>(tp(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?C0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),je=(e,t,n,r)=>(tp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ke=(e,t,n)=>(tp(e,t,"access private method"),n);var Cu=(e,t,n,r)=>({set _(s){je(e,t,s,n)},get _(){return Q(e,t,r)}});function YO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kN={exports:{}},Qf={},_N={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),ZO=Symbol.for("react.portal"),XO=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),e4=Symbol.for("react.profiler"),t4=Symbol.for("react.provider"),n4=Symbol.for("react.context"),r4=Symbol.for("react.forward_ref"),s4=Symbol.for("react.suspense"),i4=Symbol.for("react.memo"),a4=Symbol.for("react.lazy"),E0=Symbol.iterator;function o4(e){return e===null||typeof e!="object"?null:(e=E0&&e[E0]||e["@@iterator"],typeof e=="function"?e:null)}var CN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EN=Object.assign,TN={};function rl(e,t,n){this.props=e,this.context=t,this.refs=TN,this.updater=n||CN}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AN(){}AN.prototype=rl.prototype;function wv(e,t,n){this.props=e,this.context=t,this.refs=TN,this.updater=n||CN}var jv=wv.prototype=new AN;jv.constructor=wv;EN(jv,rl.prototype);jv.isPureReactComponent=!0;var T0=Array.isArray,PN=Object.prototype.hasOwnProperty,Nv={current:null},ON={key:!0,ref:!0,__self:!0,__source:!0};function DN(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)PN.call(t,r)&&!ON.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:au,type:e,key:a,ref:o,props:s,_owner:Nv.current}}function l4(e,t){return{$$typeof:au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sv(e){return typeof e=="object"&&e!==null&&e.$$typeof===au}function c4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var A0=/\/+/g;function np(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c4(""+e.key):t.toString(36)}function ld(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case au:case ZO:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+np(o,0):r,T0(s)?(n="",e!=null&&(n=e.replace(A0,"$&/")+"/"),ld(s,t,n,"",function(u){return u})):s!=null&&(Sv(s)&&(s=l4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(A0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",T0(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+np(a,l);o+=ld(a,t,n,c,s)}else if(c=o4(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+np(a,l++),o+=ld(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(e,t,n){if(e==null)return e;var r=[],s=0;return ld(e,r,"","",function(a){return t.call(n,a,s++)}),r}function u4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},cd={transition:null},d4={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:cd,ReactCurrentOwner:Nv};function RN(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Eu,forEach:function(e,t,n){Eu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Eu(e,function(){t++}),t},toArray:function(e){return Eu(e,function(t){return t})||[]},only:function(e){if(!Sv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=rl;Ye.Fragment=XO;Ye.Profiler=e4;Ye.PureComponent=wv;Ye.StrictMode=JO;Ye.Suspense=s4;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d4;Ye.act=RN;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=EN({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Nv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)PN.call(t,c)&&!ON.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:au,type:e.type,key:s,ref:a,props:r,_owner:o}};Ye.createContext=function(e){return e={$$typeof:n4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t4,_context:e},e.Consumer=e};Ye.createElement=DN;Ye.createFactory=function(e){var t=DN.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:r4,render:e}};Ye.isValidElement=Sv;Ye.lazy=function(e){return{$$typeof:a4,_payload:{_status:-1,_result:e},_init:u4}};Ye.memo=function(e,t){return{$$typeof:i4,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=cd.transition;cd.transition={};try{e()}finally{cd.transition=t}};Ye.unstable_act=RN;Ye.useCallback=function(e,t){return xn.current.useCallback(e,t)};Ye.useContext=function(e){return xn.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return xn.current.useEffect(e,t)};Ye.useId=function(){return xn.current.useId()};Ye.useImperativeHandle=function(e,t,n){return xn.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return xn.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return xn.current.useReducer(e,t,n)};Ye.useRef=function(e){return xn.current.useRef(e)};Ye.useState=function(e){return xn.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return xn.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return xn.current.useTransition()};Ye.version="18.3.1";_N.exports=Ye;var j=_N.exports;const ze=bv(j),MN=YO({__proto__:null,default:ze},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4=j,h4=Symbol.for("react.element"),p4=Symbol.for("react.fragment"),m4=Object.prototype.hasOwnProperty,g4=f4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v4={key:!0,ref:!0,__self:!0,__source:!0};function IN(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)m4.call(t,r)&&!v4.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:h4,type:e,key:a,ref:o,props:s,_owner:g4.current}}Qf.Fragment=p4;Qf.jsx=IN;Qf.jsxs=IN;kN.exports=Qf;var i=kN.exports,LN={exports:{}},Wn={},FN={exports:{}},$N={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,R){var O=F.length;F.push(R);e:for(;0<O;){var D=O-1>>>1,$=F[D];if(0<s($,R))F[D]=R,F[O]=$,O=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var R=F[0],O=F.pop();if(O!==R){F[0]=O;e:for(var D=0,$=F.length,q=$>>>1;D<q;){var K=2*(D+1)-1,W=F[K],V=K+1,z=F[V];if(0>s(W,O))V<$&&0>s(z,W)?(F[D]=z,F[V]=O,D=V):(F[D]=W,F[K]=O,D=K);else if(V<$&&0>s(z,O))F[D]=z,F[V]=O,D=V;else break e}}return R}function s(F,R){var O=F.sortIndex-R.sortIndex;return O!==0?O:F.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,v=!1,x=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=F)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function w(F){if(m=!1,b(F),!x)if(n(c)!==null)x=!0,U(N);else{var R=n(u);R!==null&&L(w,R.startTime-F)}}function N(F,R){x=!1,m&&(m=!1,g(E),E=-1),v=!0;var O=f;try{for(b(R),d=n(c);d!==null&&(!(d.expirationTime>R)||F&&!_());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var $=D(d.expirationTime<=R);R=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(c)&&r(c),b(R)}else r(c);d=n(c)}if(d!==null)var q=!0;else{var K=n(u);K!==null&&L(w,K.startTime-R),q=!1}return q}finally{d=null,f=O,v=!1}}var T=!1,S=null,E=-1,A=5,C=-1;function _(){return!(e.unstable_now()-C<A)}function k(){if(S!==null){var F=e.unstable_now();C=F;var R=!0;try{R=S(!0,F)}finally{R?P():(T=!1,S=null)}}else T=!1}var P;if(typeof p=="function")P=function(){p(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=k,P=function(){B.postMessage(null)}}else P=function(){y(k,0)};function U(F){S=F,T||(T=!0,P())}function L(F,R){E=y(function(){F(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,U(N))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var O=f;f=R;try{return F()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,R){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var O=f;f=F;try{return R()}finally{f=O}},e.unstable_scheduleCallback=function(F,R,O){var D=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=O+$,F={id:h++,callback:R,priorityLevel:F,startTime:O,expirationTime:$,sortIndex:-1},O>D?(F.sortIndex=O,t(u,F),n(c)===null&&F===n(u)&&(m?(g(E),E=-1):m=!0,L(w,O-D))):(F.sortIndex=$,t(c,F),x||v||(x=!0,U(N))),F},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(F){var R=f;return function(){var O=f;f=R;try{return F.apply(this,arguments)}finally{f=O}}}})($N);FN.exports=$N;var y4=FN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=j,Un=y4;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BN=new Set,pc={};function Pa(e,t){Lo(e,t),Lo(e+"Capture",t)}function Lo(e,t){for(pc[e]=t,e=0;e<t.length;e++)BN.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,b4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P0={},O0={};function w4(e){return mm.call(O0,e)?!0:mm.call(P0,e)?!1:b4.test(e)?O0[e]=!0:(P0[e]=!0,!1)}function j4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N4(e,t,n,r){if(t===null||typeof t>"u"||j4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var kv=/[\-:]([a-z])/g;function _v(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kv,_v);Xt[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kv,_v);Xt[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kv,_v);Xt[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cv(e,t,n,r){var s=Xt.hasOwnProperty(t)?Xt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N4(t,n,s,r)&&(n=null),r||s===null?w4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ps=x4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Ev=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),VN=Symbol.for("react.provider"),UN=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),qN=Symbol.for("react.offscreen"),D0=Symbol.iterator;function jl(e){return e===null||typeof e!="object"?null:(e=D0&&e[D0]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Object.assign,rp;function Bl(e){if(rp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rp=t&&t[1]||""}return`
`+rp+e}var sp=!1;function ip(e,t){if(!e||sp)return"";sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bl(e):""}function S4(e){switch(e.tag){case 5:return Bl(e.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return e=ip(e.type,!1),e;case 11:return e=ip(e.type.render,!1),e;case 1:return e=ip(e.type,!0),e;default:return""}}function xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ka:return"Fragment";case Ha:return"Portal";case gm:return"Profiler";case Ev:return"StrictMode";case vm:return"Suspense";case ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case UN:return(e.displayName||"Context")+".Consumer";case VN:return(e._context.displayName||"Context")+".Provider";case Tv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Av:return t=e.displayName||null,t!==null?t:xm(e.type)||"Memo";case Us:t=e._payload,e=e._init;try{return xm(e(t))}catch{}}return null}function k4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(t);case 8:return t===Ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _4(e){var t=zN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Au(e){e._valueTracker||(e._valueTracker=_4(e))}function WN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bm(e,t){var n=t.checked;return _t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function R0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HN(e,t){t=t.checked,t!=null&&Cv(e,"checked",t,!1)}function wm(e,t){HN(e,t);var n=vi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jm(e,t.type,n):t.hasOwnProperty("defaultValue")&&jm(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jm(e,t,n){(t!=="number"||Fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vl=Array.isArray;function uo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Nm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return _t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(Vl(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vi(n)}}function KN(e,t){var n=vi(t.value),r=vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function L0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pu,GN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C4=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(e){C4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zl[t]=Zl[e]})});function YN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zl.hasOwnProperty(e)&&Zl[e]?(""+t).trim():t+"px"}function ZN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=YN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var E4=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(e,t){if(t){if(E4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function _m(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function Pv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Em=null,fo=null,ho=null;function F0(e){if(e=cu(e)){if(typeof Em!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Jf(t),Em(e.stateNode,e.type,t))}}function XN(e){fo?ho?ho.push(e):ho=[e]:fo=e}function JN(){if(fo){var e=fo,t=ho;if(ho=fo=null,F0(e),t)for(e=0;e<t.length;e++)F0(t[e])}}function eS(e,t){return e(t)}function tS(){}var ap=!1;function nS(e,t,n){if(ap)return e(t,n);ap=!0;try{return eS(e,t,n)}finally{ap=!1,(fo!==null||ho!==null)&&(tS(),JN())}}function gc(e,t){var n=e.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var Tm=!1;if(js)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Tm=!1}function T4(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Xl=!1,$d=null,Bd=!1,Am=null,A4={onError:function(e){Xl=!0,$d=e}};function P4(e,t,n,r,s,a,o,l,c){Xl=!1,$d=null,T4.apply(A4,arguments)}function O4(e,t,n,r,s,a,o,l,c){if(P4.apply(this,arguments),Xl){if(Xl){var u=$d;Xl=!1,$d=null}else throw Error(fe(198));Bd||(Bd=!0,Am=u)}}function Oa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $0(e){if(Oa(e)!==e)throw Error(fe(188))}function D4(e){var t=e.alternate;if(!t){if(t=Oa(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return $0(s),e;if(a===r)return $0(s),t;a=a.sibling}throw Error(fe(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function sS(e){return e=D4(e),e!==null?iS(e):null}function iS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iS(e);if(t!==null)return t;e=e.sibling}return null}var aS=Un.unstable_scheduleCallback,B0=Un.unstable_cancelCallback,R4=Un.unstable_shouldYield,M4=Un.unstable_requestPaint,Ot=Un.unstable_now,I4=Un.unstable_getCurrentPriorityLevel,Ov=Un.unstable_ImmediatePriority,oS=Un.unstable_UserBlockingPriority,Vd=Un.unstable_NormalPriority,L4=Un.unstable_LowPriority,lS=Un.unstable_IdlePriority,Gf=null,qr=null;function F4(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Gf,e,void 0,(e.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:V4,$4=Math.log,B4=Math.LN2;function V4(e){return e>>>=0,e===0?32:31-($4(e)/B4|0)|0}var Ou=64,Du=4194304;function Ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ud(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ul(l):(a&=o,a!==0&&(r=Ul(a)))}else o=n&~s,o!==0?r=Ul(o):a!==0&&(r=Ul(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yr(t),s=1<<n,r|=e[n],t&=~s;return r}function U4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-yr(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=U4(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Pm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cS(){var e=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),e}function op(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ou(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yr(t),e[t]=n}function z4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Dv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ft=0;function uS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dS,Rv,fS,hS,pS,Om=!1,Ru=[],ai=null,oi=null,li=null,vc=new Map,yc=new Map,Ws=[],W4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V0(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":vc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(t.pointerId)}}function Sl(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=cu(t),t!==null&&Rv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function H4(e,t,n,r,s){switch(t){case"focusin":return ai=Sl(ai,e,t,n,r,s),!0;case"dragenter":return oi=Sl(oi,e,t,n,r,s),!0;case"mouseover":return li=Sl(li,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return vc.set(a,Sl(vc.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,yc.set(a,Sl(yc.get(a)||null,e,t,n,r,s)),!0}return!1}function mS(e){var t=Gi(e.target);if(t!==null){var n=Oa(t);if(n!==null){if(t=n.tag,t===13){if(t=rS(n),t!==null){e.blockedOn=t,pS(e.priority,function(){fS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return t=cu(n),t!==null&&Rv(t),e.blockedOn=n,!1;t.shift()}return!0}function U0(e,t,n){ud(e)&&n.delete(t)}function K4(){Om=!1,ai!==null&&ud(ai)&&(ai=null),oi!==null&&ud(oi)&&(oi=null),li!==null&&ud(li)&&(li=null),vc.forEach(U0),yc.forEach(U0)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Om||(Om=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,K4)))}function xc(e){function t(s){return kl(s,e)}if(0<Ru.length){kl(Ru[0],e);for(var n=1;n<Ru.length;n++){var r=Ru[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ai!==null&&kl(ai,e),oi!==null&&kl(oi,e),li!==null&&kl(li,e),vc.forEach(t),yc.forEach(t),n=0;n<Ws.length;n++)r=Ws[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ws.length&&(n=Ws[0],n.blockedOn===null);)mS(n),n.blockedOn===null&&Ws.shift()}var po=Ps.ReactCurrentBatchConfig,qd=!0;function Q4(e,t,n,r){var s=ft,a=po.transition;po.transition=null;try{ft=1,Mv(e,t,n,r)}finally{ft=s,po.transition=a}}function G4(e,t,n,r){var s=ft,a=po.transition;po.transition=null;try{ft=4,Mv(e,t,n,r)}finally{ft=s,po.transition=a}}function Mv(e,t,n,r){if(qd){var s=Dm(e,t,n,r);if(s===null)vp(e,t,r,zd,n),V0(e,r);else if(H4(s,e,t,n,r))r.stopPropagation();else if(V0(e,r),t&4&&-1<W4.indexOf(e)){for(;s!==null;){var a=cu(s);if(a!==null&&dS(a),a=Dm(e,t,n,r),a===null&&vp(e,t,r,zd,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else vp(e,t,r,null,n)}}var zd=null;function Dm(e,t,n,r){if(zd=null,e=Pv(r),e=Gi(e),e!==null)if(t=Oa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zd=e,null}function gS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I4()){case Ov:return 1;case oS:return 4;case Vd:case L4:return 16;case lS:return 536870912;default:return 16}default:return 16}}var si=null,Iv=null,dd=null;function vS(){if(dd)return dd;var e,t=Iv,n=t.length,r,s="value"in si?si.value:si.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return dd=s.slice(e,1<r?1-r:void 0)}function fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mu(){return!0}function q0(){return!1}function Hn(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mu:q0,this.isPropagationStopped=q0,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=Hn(sl),lu=_t({},sl,{view:0,detail:0}),Y4=Hn(lu),lp,cp,_l,Yf=_t({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(lp=e.screenX-_l.screenX,cp=e.screenY-_l.screenY):cp=lp=0,_l=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:cp}}),z0=Hn(Yf),Z4=_t({},Yf,{dataTransfer:0}),X4=Hn(Z4),J4=_t({},lu,{relatedTarget:0}),up=Hn(J4),eD=_t({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),tD=Hn(eD),nD=_t({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rD=Hn(nD),sD=_t({},sl,{data:0}),W0=Hn(sD),iD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oD[e])?!!t[e]:!1}function Fv(){return lD}var cD=_t({},lu,{key:function(e){if(e.key){var t=iD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fv,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uD=Hn(cD),dD=_t({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H0=Hn(dD),fD=_t({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fv}),hD=Hn(fD),pD=_t({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=Hn(pD),gD=_t({},Yf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vD=Hn(gD),yD=[9,13,27,32],$v=js&&"CompositionEvent"in window,Jl=null;js&&"documentMode"in document&&(Jl=document.documentMode);var xD=js&&"TextEvent"in window&&!Jl,yS=js&&(!$v||Jl&&8<Jl&&11>=Jl),K0=" ",Q0=!1;function xS(e,t){switch(e){case"keyup":return yD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function bD(e,t){switch(e){case"compositionend":return bS(t);case"keypress":return t.which!==32?null:(Q0=!0,K0);case"textInput":return e=t.data,e===K0&&Q0?null:e;default:return null}}function wD(e,t){if(Qa)return e==="compositionend"||!$v&&xS(e,t)?(e=vS(),dd=Iv=si=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yS&&t.locale!=="ko"?null:t.data;default:return null}}var jD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jD[e.type]:t==="textarea"}function wS(e,t,n,r){XN(r),t=Wd(t,"onChange"),0<t.length&&(n=new Lv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ec=null,bc=null;function ND(e){OS(e,0)}function Zf(e){var t=Za(e);if(WN(t))return e}function SD(e,t){if(e==="change")return t}var jS=!1;if(js){var dp;if(js){var fp="oninput"in document;if(!fp){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),fp=typeof Y0.oninput=="function"}dp=fp}else dp=!1;jS=dp&&(!document.documentMode||9<document.documentMode)}function Z0(){ec&&(ec.detachEvent("onpropertychange",NS),bc=ec=null)}function NS(e){if(e.propertyName==="value"&&Zf(bc)){var t=[];wS(t,bc,e,Pv(e)),nS(ND,t)}}function kD(e,t,n){e==="focusin"?(Z0(),ec=t,bc=n,ec.attachEvent("onpropertychange",NS)):e==="focusout"&&Z0()}function _D(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zf(bc)}function CD(e,t){if(e==="click")return Zf(t)}function ED(e,t){if(e==="input"||e==="change")return Zf(t)}function TD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jr=typeof Object.is=="function"?Object.is:TD;function wc(e,t){if(jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mm.call(t,s)||!jr(e[s],t[s]))return!1}return!0}function X0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J0(e,t){var n=X0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X0(n)}}function SS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kS(){for(var e=window,t=Fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fd(e.document)}return t}function Bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AD(e){var t=kS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SS(n.ownerDocument.documentElement,n)){if(r!==null&&Bv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=J0(n,a);var o=J0(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PD=js&&"documentMode"in document&&11>=document.documentMode,Ga=null,Rm=null,tc=null,Mm=!1;function eb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||Ga==null||Ga!==Fd(r)||(r=Ga,"selectionStart"in r&&Bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tc&&wc(tc,r)||(tc=r,r=Wd(Rm,"onSelect"),0<r.length&&(t=new Lv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ga)))}function Iu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ya={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionend:Iu("Transition","TransitionEnd")},hp={},_S={};js&&(_S=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Xf(e){if(hp[e])return hp[e];if(!Ya[e])return e;var t=Ya[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _S)return hp[e]=t[n];return e}var CS=Xf("animationend"),ES=Xf("animationiteration"),TS=Xf("animationstart"),AS=Xf("transitionend"),PS=new Map,tb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){PS.set(e,t),Pa(t,[e])}for(var pp=0;pp<tb.length;pp++){var mp=tb[pp],OD=mp.toLowerCase(),DD=mp[0].toUpperCase()+mp.slice(1);Mi(OD,"on"+DD)}Mi(CS,"onAnimationEnd");Mi(ES,"onAnimationIteration");Mi(TS,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(AS,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function nb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,O4(r,t,void 0,e),e.currentTarget=null}function OS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;nb(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;nb(s,l,u),a=c}}}if(Bd)throw e=Am,Bd=!1,Am=null,e}function yt(e,t){var n=t[Bm];n===void 0&&(n=t[Bm]=new Set);var r=e+"__bubble";n.has(r)||(DS(t,e,2,!1),n.add(r))}function gp(e,t,n){var r=0;t&&(r|=4),DS(n,e,r,t)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Lu]){e[Lu]=!0,BN.forEach(function(n){n!=="selectionchange"&&(RD.has(n)||gp(n,!1,e),gp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lu]||(t[Lu]=!0,gp("selectionchange",!1,t))}}function DS(e,t,n,r){switch(gS(t)){case 1:var s=Q4;break;case 4:s=G4;break;default:s=Mv}n=s.bind(null,t,n,e),s=void 0,!Tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vp(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Gi(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}nS(function(){var u=a,h=Pv(n),d=[];e:{var f=PS.get(e);if(f!==void 0){var v=Lv,x=e;switch(e){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":v=uD;break;case"focusin":x="focus",v=up;break;case"focusout":x="blur",v=up;break;case"beforeblur":case"afterblur":v=up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=X4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hD;break;case CS:case ES:case TS:v=tD;break;case AS:v=mD;break;case"scroll":v=Y4;break;case"wheel":v=vD;break;case"copy":case"cut":case"paste":v=rD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=H0}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var p=u,b;p!==null;){b=p;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=gc(p,g),w!=null&&m.push(Nc(p,w,b)))),y)break;p=p.return}0<m.length&&(f=new v(f,x,null,n,h),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Cm&&(x=n.relatedTarget||n.fromElement)&&(Gi(x)||x[Ns]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Gi(x):null,x!==null&&(y=Oa(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(m=z0,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=H0,w="onPointerLeave",g="onPointerEnter",p="pointer"),y=v==null?f:Za(v),b=x==null?f:Za(x),f=new m(w,p+"leave",v,n,h),f.target=y,f.relatedTarget=b,w=null,Gi(h)===u&&(m=new m(g,p+"enter",x,n,h),m.target=b,m.relatedTarget=y,w=m),y=w,v&&x)t:{for(m=v,g=x,p=0,b=m;b;b=$a(b))p++;for(b=0,w=g;w;w=$a(w))b++;for(;0<p-b;)m=$a(m),p--;for(;0<b-p;)g=$a(g),b--;for(;p--;){if(m===g||g!==null&&m===g.alternate)break t;m=$a(m),g=$a(g)}m=null}else m=null;v!==null&&rb(d,f,v,m,!1),x!==null&&y!==null&&rb(d,y,x,m,!0)}}e:{if(f=u?Za(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var N=SD;else if(G0(f))if(jS)N=ED;else{N=_D;var T=kD}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=CD);if(N&&(N=N(e,u))){wS(d,N,n,h);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&jm(f,"number",f.value)}switch(T=u?Za(u):window,e){case"focusin":(G0(T)||T.contentEditable==="true")&&(Ga=T,Rm=u,tc=null);break;case"focusout":tc=Rm=Ga=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,eb(d,n,h);break;case"selectionchange":if(PD)break;case"keydown":case"keyup":eb(d,n,h)}var S;if($v)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Qa?xS(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(yS&&n.locale!=="ko"&&(Qa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Qa&&(S=vS()):(si=h,Iv="value"in si?si.value:si.textContent,Qa=!0)),T=Wd(u,E),0<T.length&&(E=new W0(E,e,null,n,h),d.push({event:E,listeners:T}),S?E.data=S:(S=bS(n),S!==null&&(E.data=S)))),(S=xD?bD(e,n):wD(e,n))&&(u=Wd(u,"onBeforeInput"),0<u.length&&(h=new W0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}OS(d,t)})}function Nc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=gc(e,n),a!=null&&r.unshift(Nc(e,a,s)),a=gc(e,t),a!=null&&r.push(Nc(e,a,s))),e=e.return}return r}function $a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rb(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=gc(n,a),c!=null&&o.unshift(Nc(n,c,l))):s||(c=gc(n,a),c!=null&&o.push(Nc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var MD=/\r\n?/g,ID=/\u0000|\uFFFD/g;function sb(e){return(typeof e=="string"?e:""+e).replace(MD,`
`).replace(ID,"")}function Fu(e,t,n){if(t=sb(t),sb(e)!==t&&n)throw Error(fe(425))}function Hd(){}var Im=null,Lm=null;function Fm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,LD=typeof clearTimeout=="function"?clearTimeout:void 0,ib=typeof Promise=="function"?Promise:void 0,FD=typeof queueMicrotask=="function"?queueMicrotask:typeof ib<"u"?function(e){return ib.resolve(null).then(e).catch($D)}:$m;function $D(e){setTimeout(function(){throw e})}function yp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),xc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xc(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ab(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),$r="__reactFiber$"+il,Sc="__reactProps$"+il,Ns="__reactContainer$"+il,Bm="__reactEvents$"+il,BD="__reactListeners$"+il,VD="__reactHandles$"+il;function Gi(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ns]||n[$r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ab(e);e!==null;){if(n=e[$r])return n;e=ab(e)}return t}e=n,n=e.parentNode}return null}function cu(e){return e=e[$r]||e[Ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Za(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Jf(e){return e[Sc]||null}var Vm=[],Xa=-1;function Ii(e){return{current:e}}function bt(e){0>Xa||(e.current=Vm[Xa],Vm[Xa]=null,Xa--)}function mt(e,t){Xa++,Vm[Xa]=e.current,e.current=t}var yi={},cn=Ii(yi),En=Ii(!1),fa=yi;function Fo(e,t){var n=e.type.contextTypes;if(!n)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tn(e){return e=e.childContextTypes,e!=null}function Kd(){bt(En),bt(cn)}function ob(e,t,n){if(cn.current!==yi)throw Error(fe(168));mt(cn,t),mt(En,n)}function RS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(fe(108,k4(e)||"Unknown",s));return _t({},n,r)}function Qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,fa=cn.current,mt(cn,e),mt(En,En.current),!0}function lb(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=RS(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,bt(En),bt(cn),mt(cn,e)):bt(En),mt(En,n)}var cs=null,eh=!1,xp=!1;function MS(e){cs===null?cs=[e]:cs.push(e)}function UD(e){eh=!0,MS(e)}function Li(){if(!xp&&cs!==null){xp=!0;var e=0,t=ft;try{var n=cs;for(ft=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cs=null,eh=!1}catch(s){throw cs!==null&&(cs=cs.slice(e+1)),aS(Ov,Li),s}finally{ft=t,xp=!1}}return null}var Ja=[],eo=0,Gd=null,Yd=0,Zn=[],Xn=0,ha=null,fs=1,hs="";function qi(e,t){Ja[eo++]=Yd,Ja[eo++]=Gd,Gd=e,Yd=t}function IS(e,t,n){Zn[Xn++]=fs,Zn[Xn++]=hs,Zn[Xn++]=ha,ha=e;var r=fs;e=hs;var s=32-yr(r)-1;r&=~(1<<s),n+=1;var a=32-yr(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fs=1<<32-yr(t)+s|n<<s|r,hs=a+e}else fs=1<<a|n<<s|r,hs=e}function Vv(e){e.return!==null&&(qi(e,1),IS(e,1,0))}function Uv(e){for(;e===Gd;)Gd=Ja[--eo],Ja[eo]=null,Yd=Ja[--eo],Ja[eo]=null;for(;e===ha;)ha=Zn[--Xn],Zn[Xn]=null,hs=Zn[--Xn],Zn[Xn]=null,fs=Zn[--Xn],Zn[Xn]=null}var $n=null,Fn=null,wt=!1,hr=null;function LS(e,t){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$n=e,Fn=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$n=e,Fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ha!==null?{id:fs,overflow:hs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$n=e,Fn=null,!0):!1;default:return!1}}function Um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qm(e){if(wt){var t=Fn;if(t){var n=t;if(!cb(e,t)){if(Um(e))throw Error(fe(418));t=ci(n.nextSibling);var r=$n;t&&cb(e,t)?LS(r,n):(e.flags=e.flags&-4097|2,wt=!1,$n=e)}}else{if(Um(e))throw Error(fe(418));e.flags=e.flags&-4097|2,wt=!1,$n=e}}}function ub(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$n=e}function $u(e){if(e!==$n)return!1;if(!wt)return ub(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fm(e.type,e.memoizedProps)),t&&(t=Fn)){if(Um(e))throw FS(),Error(fe(418));for(;t;)LS(e,t),t=ci(t.nextSibling)}if(ub(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fn=ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fn=null}}else Fn=$n?ci(e.stateNode.nextSibling):null;return!0}function FS(){for(var e=Fn;e;)e=ci(e.nextSibling)}function $o(){Fn=$n=null,wt=!1}function qv(e){hr===null?hr=[e]:hr.push(e)}var qD=Ps.ReactCurrentBatchConfig;function Cl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function Bu(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function db(e){var t=e._init;return t(e._payload)}function $S(e){function t(g,p){if(e){var b=g.deletions;b===null?(g.deletions=[p],g.flags|=16):b.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=hi(g,p),g.index=0,g.sibling=null,g}function a(g,p,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<p?(g.flags|=2,p):b):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,b,w){return p===null||p.tag!==6?(p=_p(b,g.mode,w),p.return=g,p):(p=s(p,b),p.return=g,p)}function c(g,p,b,w){var N=b.type;return N===Ka?h(g,p,b.props.children,w,b.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Us&&db(N)===p.type)?(w=s(p,b.props),w.ref=Cl(g,p,b),w.return=g,w):(w=xd(b.type,b.key,b.props,null,g.mode,w),w.ref=Cl(g,p,b),w.return=g,w)}function u(g,p,b,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=Cp(b,g.mode,w),p.return=g,p):(p=s(p,b.children||[]),p.return=g,p)}function h(g,p,b,w,N){return p===null||p.tag!==7?(p=la(b,g.mode,w,N),p.return=g,p):(p=s(p,b),p.return=g,p)}function d(g,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_p(""+p,g.mode,b),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tu:return b=xd(p.type,p.key,p.props,null,g.mode,b),b.ref=Cl(g,null,p),b.return=g,b;case Ha:return p=Cp(p,g.mode,b),p.return=g,p;case Us:var w=p._init;return d(g,w(p._payload),b)}if(Vl(p)||jl(p))return p=la(p,g.mode,b,null),p.return=g,p;Bu(g,p)}return null}function f(g,p,b,w){var N=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(g,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tu:return b.key===N?c(g,p,b,w):null;case Ha:return b.key===N?u(g,p,b,w):null;case Us:return N=b._init,f(g,p,N(b._payload),w)}if(Vl(b)||jl(b))return N!==null?null:h(g,p,b,w,null);Bu(g,b)}return null}function v(g,p,b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,l(p,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:return g=g.get(w.key===null?b:w.key)||null,c(p,g,w,N);case Ha:return g=g.get(w.key===null?b:w.key)||null,u(p,g,w,N);case Us:var T=w._init;return v(g,p,b,T(w._payload),N)}if(Vl(w)||jl(w))return g=g.get(b)||null,h(p,g,w,N,null);Bu(p,w)}return null}function x(g,p,b,w){for(var N=null,T=null,S=p,E=p=0,A=null;S!==null&&E<b.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var C=f(g,S,b[E],w);if(C===null){S===null&&(S=A);break}e&&S&&C.alternate===null&&t(g,S),p=a(C,p,E),T===null?N=C:T.sibling=C,T=C,S=A}if(E===b.length)return n(g,S),wt&&qi(g,E),N;if(S===null){for(;E<b.length;E++)S=d(g,b[E],w),S!==null&&(p=a(S,p,E),T===null?N=S:T.sibling=S,T=S);return wt&&qi(g,E),N}for(S=r(g,S);E<b.length;E++)A=v(S,g,E,b[E],w),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),p=a(A,p,E),T===null?N=A:T.sibling=A,T=A);return e&&S.forEach(function(_){return t(g,_)}),wt&&qi(g,E),N}function m(g,p,b,w){var N=jl(b);if(typeof N!="function")throw Error(fe(150));if(b=N.call(b),b==null)throw Error(fe(151));for(var T=N=null,S=p,E=p=0,A=null,C=b.next();S!==null&&!C.done;E++,C=b.next()){S.index>E?(A=S,S=null):A=S.sibling;var _=f(g,S,C.value,w);if(_===null){S===null&&(S=A);break}e&&S&&_.alternate===null&&t(g,S),p=a(_,p,E),T===null?N=_:T.sibling=_,T=_,S=A}if(C.done)return n(g,S),wt&&qi(g,E),N;if(S===null){for(;!C.done;E++,C=b.next())C=d(g,C.value,w),C!==null&&(p=a(C,p,E),T===null?N=C:T.sibling=C,T=C);return wt&&qi(g,E),N}for(S=r(g,S);!C.done;E++,C=b.next())C=v(S,g,E,C.value,w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),p=a(C,p,E),T===null?N=C:T.sibling=C,T=C);return e&&S.forEach(function(k){return t(g,k)}),wt&&qi(g,E),N}function y(g,p,b,w){if(typeof b=="object"&&b!==null&&b.type===Ka&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tu:e:{for(var N=b.key,T=p;T!==null;){if(T.key===N){if(N=b.type,N===Ka){if(T.tag===7){n(g,T.sibling),p=s(T,b.props.children),p.return=g,g=p;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Us&&db(N)===T.type){n(g,T.sibling),p=s(T,b.props),p.ref=Cl(g,T,b),p.return=g,g=p;break e}n(g,T);break}else t(g,T);T=T.sibling}b.type===Ka?(p=la(b.props.children,g.mode,w,b.key),p.return=g,g=p):(w=xd(b.type,b.key,b.props,null,g.mode,w),w.ref=Cl(g,p,b),w.return=g,g=w)}return o(g);case Ha:e:{for(T=b.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){n(g,p.sibling),p=s(p,b.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Cp(b,g.mode,w),p.return=g,g=p}return o(g);case Us:return T=b._init,y(g,p,T(b._payload),w)}if(Vl(b))return x(g,p,b,w);if(jl(b))return m(g,p,b,w);Bu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,b),p.return=g,g=p):(n(g,p),p=_p(b,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return y}var Bo=$S(!0),BS=$S(!1),Zd=Ii(null),Xd=null,to=null,zv=null;function Wv(){zv=to=Xd=null}function Hv(e){var t=Zd.current;bt(Zd),e._currentValue=t}function zm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mo(e,t){Xd=e,zv=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_n=!0),e.firstContext=null)}function sr(e){var t=e._currentValue;if(zv!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(Xd===null)throw Error(fe(308));to=e,Xd.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var Yi=null;function Kv(e){Yi===null?Yi=[e]:Yi.push(e)}function VS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Kv(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ss(e,r)}function Ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qs=!1;function Qv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function US(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ss(e,n)}return s=r.interleaved,s===null?(t.next=t,Kv(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ss(e,n)}function hd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dv(e,n)}}function fb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jd(e,t,n,r){var s=e.updateQueue;qs=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,h=u=c=null,l=a;do{var f=l.lane,v=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(f=t,v=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){d=x.call(v,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(v,d,f):x,f==null)break e;d=_t({},d,f);break e;case 2:qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ma|=o,e.lanes=o,e.memoizedState=d}}function hb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(fe(191,s));s.call(r)}}}var uu={},zr=Ii(uu),kc=Ii(uu),_c=Ii(uu);function Zi(e){if(e===uu)throw Error(fe(174));return e}function Gv(e,t){switch(mt(_c,t),mt(kc,e),mt(zr,uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sm(t,e)}bt(zr),mt(zr,t)}function Vo(){bt(zr),bt(kc),bt(_c)}function qS(e){Zi(_c.current);var t=Zi(zr.current),n=Sm(t,e.type);t!==n&&(mt(kc,e),mt(zr,n))}function Yv(e){kc.current===e&&(bt(zr),bt(kc))}var St=Ii(0);function ef(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bp=[];function Zv(){for(var e=0;e<bp.length;e++)bp[e]._workInProgressVersionPrimary=null;bp.length=0}var pd=Ps.ReactCurrentDispatcher,wp=Ps.ReactCurrentBatchConfig,pa=0,kt=null,It=null,Vt=null,tf=!1,nc=!1,Cc=0,zD=0;function tn(){throw Error(fe(321))}function Xv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Jv(e,t,n,r,s,a){if(pa=a,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pd.current=e===null||e.memoizedState===null?QD:GD,e=n(r,s),nc){a=0;do{if(nc=!1,Cc=0,25<=a)throw Error(fe(301));a+=1,Vt=It=null,t.updateQueue=null,pd.current=YD,e=n(r,s)}while(nc)}if(pd.current=nf,t=It!==null&&It.next!==null,pa=0,Vt=It=kt=null,tf=!1,t)throw Error(fe(300));return e}function ey(){var e=Cc!==0;return Cc=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?kt.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function ir(){if(It===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Vt===null?kt.memoizedState:Vt.next;if(t!==null)Vt=t,It=e;else{if(e===null)throw Error(fe(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Vt===null?kt.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function Ec(e,t){return typeof t=="function"?t(e):t}function jp(e){var t=ir(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=It,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((pa&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,kt.lanes|=h,ma|=h}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,jr(r,t.memoizedState)||(_n=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,kt.lanes|=a,ma|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Np(e){var t=ir(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);jr(a,t.memoizedState)||(_n=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zS(){}function WS(e,t){var n=kt,r=ir(),s=t(),a=!jr(r.memoizedState,s);if(a&&(r.memoizedState=s,_n=!0),r=r.queue,ty(QS.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Tc(9,KS.bind(null,n,r,s,t),void 0,null),zt===null)throw Error(fe(349));pa&30||HS(n,t,s)}return s}function HS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KS(e,t,n,r){t.value=n,t.getSnapshot=r,GS(t)&&YS(e)}function QS(e,t,n){return n(function(){GS(t)&&YS(e)})}function GS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function YS(e){var t=Ss(e,1);t!==null&&xr(t,e,1,-1)}function pb(e){var t=Dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:e},t.queue=e,e=e.dispatch=KD.bind(null,kt,e),[t.memoizedState,e]}function Tc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZS(){return ir().memoizedState}function md(e,t,n,r){var s=Dr();kt.flags|=e,s.memoizedState=Tc(1|t,n,void 0,r===void 0?null:r)}function th(e,t,n,r){var s=ir();r=r===void 0?null:r;var a=void 0;if(It!==null){var o=It.memoizedState;if(a=o.destroy,r!==null&&Xv(r,o.deps)){s.memoizedState=Tc(t,n,a,r);return}}kt.flags|=e,s.memoizedState=Tc(1|t,n,a,r)}function mb(e,t){return md(8390656,8,e,t)}function ty(e,t){return th(2048,8,e,t)}function XS(e,t){return th(4,2,e,t)}function JS(e,t){return th(4,4,e,t)}function ek(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tk(e,t,n){return n=n!=null?n.concat([e]):null,th(4,4,ek.bind(null,t,e),n)}function ny(){}function nk(e,t){var n=ir();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rk(e,t){var n=ir();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sk(e,t,n){return pa&21?(jr(n,t)||(n=cS(),kt.lanes|=n,ma|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_n=!0),e.memoizedState=n)}function WD(e,t){var n=ft;ft=n!==0&&4>n?n:4,e(!0);var r=wp.transition;wp.transition={};try{e(!1),t()}finally{ft=n,wp.transition=r}}function ik(){return ir().memoizedState}function HD(e,t,n){var r=fi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ak(e))ok(t,n);else if(n=VS(e,t,n,r),n!==null){var s=vn();xr(n,e,r,s),lk(n,t,r)}}function KD(e,t,n){var r=fi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ak(e))ok(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,jr(l,o)){var c=t.interleaved;c===null?(s.next=s,Kv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=VS(e,t,s,r),n!==null&&(s=vn(),xr(n,e,r,s),lk(n,t,r))}}function ak(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function ok(e,t){nc=tf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dv(e,n)}}var nf={readContext:sr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},QD={readContext:sr,useCallback:function(e,t){return Dr().memoizedState=[e,t===void 0?null:t],e},useContext:sr,useEffect:mb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,md(4194308,4,ek.bind(null,t,e),n)},useLayoutEffect:function(e,t){return md(4194308,4,e,t)},useInsertionEffect:function(e,t){return md(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HD.bind(null,kt,e),[r.memoizedState,e]},useRef:function(e){var t=Dr();return e={current:e},t.memoizedState=e},useState:pb,useDebugValue:ny,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=pb(!1),t=e[0];return e=WD.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kt,s=Dr();if(wt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),zt===null)throw Error(fe(349));pa&30||HS(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,mb(QS.bind(null,r,a,e),[e]),r.flags|=2048,Tc(9,KS.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Dr(),t=zt.identifierPrefix;if(wt){var n=hs,r=fs;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GD={readContext:sr,useCallback:nk,useContext:sr,useEffect:ty,useImperativeHandle:tk,useInsertionEffect:XS,useLayoutEffect:JS,useMemo:rk,useReducer:jp,useRef:ZS,useState:function(){return jp(Ec)},useDebugValue:ny,useDeferredValue:function(e){var t=ir();return sk(t,It.memoizedState,e)},useTransition:function(){var e=jp(Ec)[0],t=ir().memoizedState;return[e,t]},useMutableSource:zS,useSyncExternalStore:WS,useId:ik,unstable_isNewReconciler:!1},YD={readContext:sr,useCallback:nk,useContext:sr,useEffect:ty,useImperativeHandle:tk,useInsertionEffect:XS,useLayoutEffect:JS,useMemo:rk,useReducer:Np,useRef:ZS,useState:function(){return Np(Ec)},useDebugValue:ny,useDeferredValue:function(e){var t=ir();return It===null?t.memoizedState=e:sk(t,It.memoizedState,e)},useTransition:function(){var e=Np(Ec)[0],t=ir().memoizedState;return[e,t]},useMutableSource:zS,useSyncExternalStore:WS,useId:ik,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=_t({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_t({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nh={isMounted:function(e){return(e=e._reactInternals)?Oa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vn(),s=fi(e),a=gs(r,s);a.payload=t,n!=null&&(a.callback=n),t=ui(e,a,s),t!==null&&(xr(t,e,s,r),hd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vn(),s=fi(e),a=gs(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ui(e,a,s),t!==null&&(xr(t,e,s,r),hd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vn(),r=fi(e),s=gs(n,r);s.tag=2,t!=null&&(s.callback=t),t=ui(e,s,r),t!==null&&(xr(t,e,r,n),hd(t,e,r))}};function gb(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!wc(n,r)||!wc(s,a):!0}function ck(e,t,n){var r=!1,s=yi,a=t.contextType;return typeof a=="object"&&a!==null?a=sr(a):(s=Tn(t)?fa:cn.current,r=t.contextTypes,a=(r=r!=null)?Fo(e,s):yi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function vb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nh.enqueueReplaceState(t,t.state,null)}function Hm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qv(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=sr(a):(a=Tn(t)?fa:cn.current,s.context=Fo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wm(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nh.enqueueReplaceState(s,s.state,null),Jd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var n="",r=t;do n+=S4(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Sp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Km(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZD=typeof WeakMap=="function"?WeakMap:Map;function uk(e,t,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sf||(sf=!0,rg=r),Km(e,t)},n}function dk(e,t,n){n=gs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Km(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Km(e,t),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function yb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZD;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=dR.bind(null,e,t,n),t.then(e,e))}function xb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gs(-1,1),t.tag=2,ui(n,t,1))),n.lanes|=1),e)}var XD=Ps.ReactCurrentOwner,_n=!1;function mn(e,t,n,r){t.child=e===null?BS(t,null,n,r):Bo(t,e.child,n,r)}function wb(e,t,n,r,s){n=n.render;var a=t.ref;return mo(t,s),r=Jv(e,t,n,r,a,s),n=ey(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ks(e,t,s)):(wt&&n&&Vv(t),t.flags|=1,mn(e,t,r,s),t.child)}function jb(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!uy(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,fk(e,t,a,r,s)):(e=xd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:wc,n(o,r)&&e.ref===t.ref)return ks(e,t,s)}return t.flags|=1,e=hi(a,r),e.ref=t.ref,e.return=t,t.child=e}function fk(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(wc(a,r)&&e.ref===t.ref)if(_n=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(_n=!0);else return t.lanes=e.lanes,ks(e,t,s)}return Qm(e,t,n,r,s)}function hk(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ro,Rn),Rn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(ro,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,mt(ro,Rn),Rn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,mt(ro,Rn),Rn|=r;return mn(e,t,s,n),t.child}function pk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qm(e,t,n,r,s){var a=Tn(n)?fa:cn.current;return a=Fo(t,a),mo(t,s),n=Jv(e,t,n,r,a,s),r=ey(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ks(e,t,s)):(wt&&r&&Vv(t),t.flags|=1,mn(e,t,n,s),t.child)}function Nb(e,t,n,r,s){if(Tn(n)){var a=!0;Qd(t)}else a=!1;if(mo(t,s),t.stateNode===null)gd(e,t),ck(t,n,r),Hm(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=sr(u):(u=Tn(n)?fa:cn.current,u=Fo(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&vb(t,o,r,u),qs=!1;var f=t.memoizedState;o.state=f,Jd(t,r,o,s),c=t.memoizedState,l!==r||f!==c||En.current||qs?(typeof h=="function"&&(Wm(t,n,h,r),c=t.memoizedState),(l=qs||gb(t,n,l,r,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,US(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:cr(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=sr(c):(c=Tn(n)?fa:cn.current,c=Fo(t,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&vb(t,o,r,c),qs=!1,f=t.memoizedState,o.state=f,Jd(t,r,o,s);var x=t.memoizedState;l!==d||f!==x||En.current||qs?(typeof v=="function"&&(Wm(t,n,v,r),x=t.memoizedState),(u=qs||gb(t,n,u,r,f,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Gm(e,t,n,r,a,s)}function Gm(e,t,n,r,s,a){pk(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&lb(t,n,!1),ks(e,t,a);r=t.stateNode,XD.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bo(t,e.child,null,a),t.child=Bo(t,null,l,a)):mn(e,t,l,a),t.memoizedState=r.state,s&&lb(t,n,!0),t.child}function mk(e){var t=e.stateNode;t.pendingContext?ob(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ob(e,t.context,!1),Gv(e,t.containerInfo)}function Sb(e,t,n,r,s){return $o(),qv(s),t.flags|=256,mn(e,t,n,r),t.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Zm(e){return{baseLanes:e,cachePool:null,transitions:null}}function gk(e,t,n){var r=t.pendingProps,s=St.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),mt(St,s&1),e===null)return qm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ih(o,r,0,null),e=la(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zm(n),t.memoizedState=Ym,e):ry(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return JD(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=hi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=hi(l,a):(a=la(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Zm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Ym,r}return a=e.child,e=a.sibling,r=hi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ry(e,t){return t=ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vu(e,t,n,r){return r!==null&&qv(r),Bo(t,e.child,null,n),e=ry(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JD(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Sp(Error(fe(422))),Vu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=ih({mode:"visible",children:r.children},s,0,null),a=la(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Bo(t,e.child,null,o),t.child.memoizedState=Zm(o),t.memoizedState=Ym,a);if(!(t.mode&1))return Vu(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(fe(419)),r=Sp(a,r,void 0),Vu(e,t,o,r)}if(l=(o&e.childLanes)!==0,_n||l){if(r=zt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ss(e,s),xr(r,e,s,-1))}return cy(),r=Sp(Error(fe(421))),Vu(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fR.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fn=ci(s.nextSibling),$n=t,wt=!0,hr=null,e!==null&&(Zn[Xn++]=fs,Zn[Xn++]=hs,Zn[Xn++]=ha,fs=e.id,hs=e.overflow,ha=t),t=ry(t,r.children),t.flags|=4096,t)}function kb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zm(e.return,t,n)}function kp(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function vk(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(mn(e,t,r.children,n),r=St.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kb(e,n,t);else if(e.tag===19)kb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(St,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ef(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kp(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ef(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kp(t,!0,n,null,a);break;case"together":kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ks(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eR(e,t,n){switch(t.tag){case 3:mk(t),$o();break;case 5:qS(t);break;case 1:Tn(t.type)&&Qd(t);break;case 4:Gv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;mt(Zd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(St,St.current&1),t.flags|=128,null):n&t.child.childLanes?gk(e,t,n):(mt(St,St.current&1),e=ks(e,t,n),e!==null?e.sibling:null);mt(St,St.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vk(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(St,St.current),r)break;return null;case 22:case 23:return t.lanes=0,hk(e,t,n)}return ks(e,t,n)}var yk,Xm,xk,bk;yk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};xk=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zi(zr.current);var a=null;switch(n){case"input":s=bm(e,s),r=bm(e,r),a=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),a=[];break;case"textarea":s=Nm(e,s),r=Nm(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hd)}km(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};bk=function(e,t,n,r){n!==r&&(t.flags|=4)};function El(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tR(e,t,n){var r=t.pendingProps;switch(Uv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return Tn(t.type)&&Kd(),nn(t),null;case 3:return r=t.stateNode,Vo(),bt(En),bt(cn),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($u(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(ag(hr),hr=null))),Xm(e,t),nn(t),null;case 5:Yv(t);var s=Zi(_c.current);if(n=t.type,e!==null&&t.stateNode!=null)xk(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return nn(t),null}if(e=Zi(zr.current),$u(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[$r]=t,r[Sc]=a,e=(t.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(s=0;s<ql.length;s++)yt(ql[s],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":R0(r,a),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},yt("invalid",r);break;case"textarea":I0(r,a),yt("invalid",r)}km(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fu(r.textContent,l,e),s=["children",""+l]):pc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yt("scroll",r)}switch(n){case"input":Au(r),M0(r,a,!0);break;case"textarea":Au(r),L0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$r]=t,e[Sc]=r,yk(e,t,!1,!1),t.stateNode=e;e:{switch(o=_m(n,r),n){case"dialog":yt("cancel",e),yt("close",e),s=r;break;case"iframe":case"object":case"embed":yt("load",e),s=r;break;case"video":case"audio":for(s=0;s<ql.length;s++)yt(ql[s],e);s=r;break;case"source":yt("error",e),s=r;break;case"img":case"image":case"link":yt("error",e),yt("load",e),s=r;break;case"details":yt("toggle",e),s=r;break;case"input":R0(e,r),s=bm(e,r),yt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),yt("invalid",e);break;case"textarea":I0(e,r),s=Nm(e,r),yt("invalid",e);break;default:s=r}km(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ZN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&GN(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mc(e,c):typeof c=="number"&&mc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&yt("scroll",e):c!=null&&Cv(e,a,c,o))}switch(n){case"input":Au(e),M0(e,r,!1);break;case"textarea":Au(e),L0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?uo(e,!!r.multiple,a,!1):r.defaultValue!=null&&uo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Hd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)bk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=Zi(_c.current),Zi(zr.current),$u(t)){if(r=t.stateNode,n=t.memoizedProps,r[$r]=t,(a=r.nodeValue!==n)&&(e=$n,e!==null))switch(e.tag){case 3:Fu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=t,t.stateNode=r}return nn(t),null;case 13:if(bt(St),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Fn!==null&&t.mode&1&&!(t.flags&128))FS(),$o(),t.flags|=98560,a=!1;else if(a=$u(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[$r]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),a=!1}else hr!==null&&(ag(hr),hr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Ft===0&&(Ft=3):cy())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return Vo(),Xm(e,t),e===null&&jc(t.stateNode.containerInfo),nn(t),null;case 10:return Hv(t.type._context),nn(t),null;case 17:return Tn(t.type)&&Kd(),nn(t),null;case 19:if(bt(St),a=t.memoizedState,a===null)return nn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)El(a,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ef(e),o!==null){for(t.flags|=128,El(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(St,St.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ot()>qo&&(t.flags|=128,r=!0,El(a,!1),t.lanes=4194304)}else{if(!r)if(e=ef(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),El(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!wt)return nn(t),null}else 2*Ot()-a.renderingStartTime>qo&&n!==1073741824&&(t.flags|=128,r=!0,El(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ot(),t.sibling=null,n=St.current,mt(St,r?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return ly(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function nR(e,t){switch(Uv(t),t.tag){case 1:return Tn(t.type)&&Kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vo(),bt(En),bt(cn),Zv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yv(t),null;case 13:if(bt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(St),null;case 4:return Vo(),null;case 10:return Hv(t.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var Uu=!1,an=!1,rR=typeof WeakSet=="function"?WeakSet:Set,ke=null;function no(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(e,t,r)}else n.current=null}function Jm(e,t,n){try{n()}catch(r){Tt(e,t,r)}}var _b=!1;function sR(e,t){if(Im=qd,e=kS(),Bv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var v;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==a||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++h===r&&(c=o),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lm={focusedElem:e,selectionRange:n},qd=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,y=x.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:cr(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){Tt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return x=_b,_b=!1,x}function rc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jm(t,n,a)}s=s.next}while(s!==r)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wk(e){var t=e.alternate;t!==null&&(e.alternate=null,wk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$r],delete t[Sc],delete t[Bm],delete t[BD],delete t[VD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jk(e){return e.tag===5||e.tag===3||e.tag===4}function Cb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hd));else if(r!==4&&(e=e.child,e!==null))for(tg(e,t,n),e=e.sibling;e!==null;)tg(e,t,n),e=e.sibling}function ng(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ng(e,t,n),e=e.sibling;e!==null;)ng(e,t,n),e=e.sibling}var Ht=null,dr=!1;function Rs(e,t,n){for(n=n.child;n!==null;)Nk(e,t,n),n=n.sibling}function Nk(e,t,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Gf,n)}catch{}switch(n.tag){case 5:an||no(n,t);case 6:var r=Ht,s=dr;Ht=null,Rs(e,t,n),Ht=r,dr=s,Ht!==null&&(dr?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(dr?(e=Ht,n=n.stateNode,e.nodeType===8?yp(e.parentNode,n):e.nodeType===1&&yp(e,n),xc(e)):yp(Ht,n.stateNode));break;case 4:r=Ht,s=dr,Ht=n.stateNode.containerInfo,dr=!0,Rs(e,t,n),Ht=r,dr=s;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jm(n,t,o),s=s.next}while(s!==r)}Rs(e,t,n);break;case 1:if(!an&&(no(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tt(n,t,l)}Rs(e,t,n);break;case 21:Rs(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,Rs(e,t,n),an=r):Rs(e,t,n);break;default:Rs(e,t,n)}}function Eb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rR),t.forEach(function(r){var s=hR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ar(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ht=l.stateNode,dr=!1;break e;case 3:Ht=l.stateNode.containerInfo,dr=!0;break e;case 4:Ht=l.stateNode.containerInfo,dr=!0;break e}l=l.return}if(Ht===null)throw Error(fe(160));Nk(a,o,s),Ht=null,dr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Tt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sk(t,e),t=t.sibling}function Sk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ar(t,e),Pr(e),r&4){try{rc(3,e,e.return),rh(3,e)}catch(m){Tt(e,e.return,m)}try{rc(5,e,e.return)}catch(m){Tt(e,e.return,m)}}break;case 1:ar(t,e),Pr(e),r&512&&n!==null&&no(n,n.return);break;case 5:if(ar(t,e),Pr(e),r&512&&n!==null&&no(n,n.return),e.flags&32){var s=e.stateNode;try{mc(s,"")}catch(m){Tt(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&HN(s,a),_m(l,o);var u=_m(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?ZN(s,d):h==="dangerouslySetInnerHTML"?GN(s,d):h==="children"?mc(s,d):Cv(s,h,d,u)}switch(l){case"input":wm(s,a);break;case"textarea":KN(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?uo(s,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?uo(s,!!a.multiple,a.defaultValue,!0):uo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Sc]=a}catch(m){Tt(e,e.return,m)}}break;case 6:if(ar(t,e),Pr(e),r&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Tt(e,e.return,m)}}break;case 3:if(ar(t,e),Pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(t.containerInfo)}catch(m){Tt(e,e.return,m)}break;case 4:ar(t,e),Pr(e);break;case 13:ar(t,e),Pr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ay=Ot())),r&4&&Eb(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(an=(u=an)||h,ar(t,e),an=u):ar(t,e),Pr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ke=e,h=e.child;h!==null;){for(d=ke=h;ke!==null;){switch(f=ke,v=f.child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:no(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Tt(r,n,m)}}break;case 5:no(f,f.return);break;case 22:if(f.memoizedState!==null){Ab(d);continue}}v!==null?(v.return=f,ke=v):Ab(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=YN("display",o))}catch(m){Tt(e,e.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Tt(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ar(t,e),Pr(e),r&4&&Eb(e);break;case 21:break;default:ar(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jk(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(mc(s,""),r.flags&=-33);var a=Cb(e);ng(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Cb(e);tg(e,l,o);break;default:throw Error(fe(161))}}catch(c){Tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iR(e,t,n){ke=e,kk(e)}function kk(e,t,n){for(var r=(e.mode&1)!==0;ke!==null;){var s=ke,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||an;l=Uu;var u=an;if(Uu=o,(an=c)&&!u)for(ke=s;ke!==null;)o=ke,c=o.child,o.tag===22&&o.memoizedState!==null?Pb(s):c!==null?(c.return=o,ke=c):Pb(s);for(;a!==null;)ke=a,kk(a),a=a.sibling;ke=s,Uu=l,an=u}Tb(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ke=a):Tb(e)}}function Tb(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||rh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:cr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&hb(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hb(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}an||t.flags&512&&eg(t)}catch(f){Tt(t,t.return,f)}}if(t===e){ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,ke=n;break}ke=t.return}}function Ab(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ke=n;break}ke=t.return}}function Pb(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rh(4,t)}catch(c){Tt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Tt(t,s,c)}}var a=t.return;try{eg(t)}catch(c){Tt(t,a,c)}break;case 5:var o=t.return;try{eg(t)}catch(c){Tt(t,o,c)}}}catch(c){Tt(t,t.return,c)}if(t===e){ke=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ke=l;break}ke=t.return}}var aR=Math.ceil,rf=Ps.ReactCurrentDispatcher,sy=Ps.ReactCurrentOwner,nr=Ps.ReactCurrentBatchConfig,tt=0,zt=null,Rt=null,Zt=0,Rn=0,ro=Ii(0),Ft=0,Ac=null,ma=0,sh=0,iy=0,sc=null,kn=null,ay=0,qo=1/0,ls=null,sf=!1,rg=null,di=null,qu=!1,ii=null,af=0,ic=0,sg=null,vd=-1,yd=0;function vn(){return tt&6?Ot():vd!==-1?vd:vd=Ot()}function fi(e){return e.mode&1?tt&2&&Zt!==0?Zt&-Zt:qD.transition!==null?(yd===0&&(yd=cS()),yd):(e=ft,e!==0||(e=window.event,e=e===void 0?16:gS(e.type)),e):1}function xr(e,t,n,r){if(50<ic)throw ic=0,sg=null,Error(fe(185));ou(e,n,r),(!(tt&2)||e!==zt)&&(e===zt&&(!(tt&2)&&(sh|=n),Ft===4&&Hs(e,Zt)),An(e,r),n===1&&tt===0&&!(t.mode&1)&&(qo=Ot()+500,eh&&Li()))}function An(e,t){var n=e.callbackNode;q4(e,t);var r=Ud(e,e===zt?Zt:0);if(r===0)n!==null&&B0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&B0(n),t===1)e.tag===0?UD(Ob.bind(null,e)):MS(Ob.bind(null,e)),FD(function(){!(tt&6)&&Li()}),n=null;else{switch(uS(r)){case 1:n=Ov;break;case 4:n=oS;break;case 16:n=Vd;break;case 536870912:n=lS;break;default:n=Vd}n=Dk(n,_k.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _k(e,t){if(vd=-1,yd=0,tt&6)throw Error(fe(327));var n=e.callbackNode;if(go()&&e.callbackNode!==n)return null;var r=Ud(e,e===zt?Zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=of(e,r);else{t=r;var s=tt;tt|=2;var a=Ek();(zt!==e||Zt!==t)&&(ls=null,qo=Ot()+500,oa(e,t));do try{cR();break}catch(l){Ck(e,l)}while(!0);Wv(),rf.current=a,tt=s,Rt!==null?t=0:(zt=null,Zt=0,t=Ft)}if(t!==0){if(t===2&&(s=Pm(e),s!==0&&(r=s,t=ig(e,s))),t===1)throw n=Ac,oa(e,0),Hs(e,r),An(e,Ot()),n;if(t===6)Hs(e,r);else{if(s=e.current.alternate,!(r&30)&&!oR(s)&&(t=of(e,r),t===2&&(a=Pm(e),a!==0&&(r=a,t=ig(e,a))),t===1))throw n=Ac,oa(e,0),Hs(e,r),An(e,Ot()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:zi(e,kn,ls);break;case 3:if(Hs(e,r),(r&130023424)===r&&(t=ay+500-Ot(),10<t)){if(Ud(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){vn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$m(zi.bind(null,e,kn,ls),t);break}zi(e,kn,ls);break;case 4:if(Hs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-yr(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aR(r/1960))-r,10<r){e.timeoutHandle=$m(zi.bind(null,e,kn,ls),r);break}zi(e,kn,ls);break;case 5:zi(e,kn,ls);break;default:throw Error(fe(329))}}}return An(e,Ot()),e.callbackNode===n?_k.bind(null,e):null}function ig(e,t){var n=sc;return e.current.memoizedState.isDehydrated&&(oa(e,t).flags|=256),e=of(e,t),e!==2&&(t=kn,kn=n,t!==null&&ag(t)),e}function ag(e){kn===null?kn=e:kn.push.apply(kn,e)}function oR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!jr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hs(e,t){for(t&=~iy,t&=~sh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yr(t),r=1<<n;e[n]=-1,t&=~r}}function Ob(e){if(tt&6)throw Error(fe(327));go();var t=Ud(e,0);if(!(t&1))return An(e,Ot()),null;var n=of(e,t);if(e.tag!==0&&n===2){var r=Pm(e);r!==0&&(t=r,n=ig(e,r))}if(n===1)throw n=Ac,oa(e,0),Hs(e,t),An(e,Ot()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zi(e,kn,ls),An(e,Ot()),null}function oy(e,t){var n=tt;tt|=1;try{return e(t)}finally{tt=n,tt===0&&(qo=Ot()+500,eh&&Li())}}function ga(e){ii!==null&&ii.tag===0&&!(tt&6)&&go();var t=tt;tt|=1;var n=nr.transition,r=ft;try{if(nr.transition=null,ft=1,e)return e()}finally{ft=r,nr.transition=n,tt=t,!(tt&6)&&Li()}}function ly(){Rn=ro.current,bt(ro)}function oa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LD(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kd();break;case 3:Vo(),bt(En),bt(cn),Zv();break;case 5:Yv(r);break;case 4:Vo();break;case 13:bt(St);break;case 19:bt(St);break;case 10:Hv(r.type._context);break;case 22:case 23:ly()}n=n.return}if(zt=e,Rt=e=hi(e.current,null),Zt=Rn=t,Ft=0,Ac=null,iy=sh=ma=0,kn=sc=null,Yi!==null){for(t=0;t<Yi.length;t++)if(n=Yi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Yi=null}return e}function Ck(e,t){do{var n=Rt;try{if(Wv(),pd.current=nf,tf){for(var r=kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tf=!1}if(pa=0,Vt=It=kt=null,nc=!1,Cc=0,sy.current=null,n===null||n.return===null){Ft=1,Ac=t,Rt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=xb(o);if(v!==null){v.flags&=-257,bb(v,o,l,a,t),v.mode&1&&yb(a,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){yb(a,u,t),cy();break e}c=Error(fe(426))}}else if(wt&&l.mode&1){var y=xb(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),bb(y,o,l,a,t),qv(Uo(c,l));break e}}a=c=Uo(c,l),Ft!==4&&(Ft=2),sc===null?sc=[a]:sc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=uk(a,c,t);fb(a,g);break e;case 1:l=c;var p=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(di===null||!di.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=dk(a,l,t);fb(a,w);break e}}a=a.return}while(a!==null)}Ak(n)}catch(N){t=N,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function Ek(){var e=rf.current;return rf.current=nf,e===null?nf:e}function cy(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),zt===null||!(ma&268435455)&&!(sh&268435455)||Hs(zt,Zt)}function of(e,t){var n=tt;tt|=2;var r=Ek();(zt!==e||Zt!==t)&&(ls=null,oa(e,t));do try{lR();break}catch(s){Ck(e,s)}while(!0);if(Wv(),tt=n,rf.current=r,Rt!==null)throw Error(fe(261));return zt=null,Zt=0,Ft}function lR(){for(;Rt!==null;)Tk(Rt)}function cR(){for(;Rt!==null&&!R4();)Tk(Rt)}function Tk(e){var t=Ok(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?Ak(e):Rt=t,sy.current=null}function Ak(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nR(n,t),n!==null){n.flags&=32767,Rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Rt=null;return}}else if(n=tR(n,t,Rn),n!==null){Rt=n;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Ft===0&&(Ft=5)}function zi(e,t,n){var r=ft,s=nr.transition;try{nr.transition=null,ft=1,uR(e,t,n,r)}finally{nr.transition=s,ft=r}return null}function uR(e,t,n,r){do go();while(ii!==null);if(tt&6)throw Error(fe(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(z4(e,a),e===zt&&(Rt=zt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,Dk(Vd,function(){return go(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=nr.transition,nr.transition=null;var o=ft;ft=1;var l=tt;tt|=4,sy.current=null,sR(e,n),Sk(n,e),AD(Lm),qd=!!Im,Lm=Im=null,e.current=n,iR(n),M4(),tt=l,ft=o,nr.transition=a}else e.current=n;if(qu&&(qu=!1,ii=e,af=s),a=e.pendingLanes,a===0&&(di=null),F4(n.stateNode),An(e,Ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sf)throw sf=!1,e=rg,rg=null,e;return af&1&&e.tag!==0&&go(),a=e.pendingLanes,a&1?e===sg?ic++:(ic=0,sg=e):ic=0,Li(),null}function go(){if(ii!==null){var e=uS(af),t=nr.transition,n=ft;try{if(nr.transition=null,ft=16>e?16:e,ii===null)var r=!1;else{if(e=ii,ii=null,af=0,tt&6)throw Error(fe(331));var s=tt;for(tt|=4,ke=e.current;ke!==null;){var a=ke,o=a.child;if(ke.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ke=u;ke!==null;){var h=ke;switch(h.tag){case 0:case 11:case 15:rc(8,h,a)}var d=h.child;if(d!==null)d.return=h,ke=d;else for(;ke!==null;){h=ke;var f=h.sibling,v=h.return;if(wk(h),h===u){ke=null;break}if(f!==null){f.return=v,ke=f;break}ke=v}}}var x=a.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ke=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ke=o;else e:for(;ke!==null;){if(a=ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ke=g;break e}ke=a.return}}var p=e.current;for(ke=p;ke!==null;){o=ke;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ke=b;else e:for(o=p;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rh(9,l)}}catch(N){Tt(l,l.return,N)}if(l===o){ke=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ke=w;break e}ke=l.return}}if(tt=s,Li(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Gf,e)}catch{}r=!0}return r}finally{ft=n,nr.transition=t}}return!1}function Db(e,t,n){t=Uo(n,t),t=uk(e,t,1),e=ui(e,t,1),t=vn(),e!==null&&(ou(e,1,t),An(e,t))}function Tt(e,t,n){if(e.tag===3)Db(e,e,n);else for(;t!==null;){if(t.tag===3){Db(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=Uo(n,e),e=dk(t,e,1),t=ui(t,e,1),e=vn(),t!==null&&(ou(t,1,e),An(t,e));break}}t=t.return}}function dR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Zt&n)===n&&(Ft===4||Ft===3&&(Zt&130023424)===Zt&&500>Ot()-ay?oa(e,0):iy|=n),An(e,t)}function Pk(e,t){t===0&&(e.mode&1?(t=Du,Du<<=1,!(Du&130023424)&&(Du=4194304)):t=1);var n=vn();e=Ss(e,t),e!==null&&(ou(e,t,n),An(e,n))}function fR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pk(e,n)}function hR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),Pk(e,n)}var Ok;Ok=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)_n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _n=!1,eR(e,t,n);_n=!!(e.flags&131072)}else _n=!1,wt&&t.flags&1048576&&IS(t,Yd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gd(e,t),e=t.pendingProps;var s=Fo(t,cn.current);mo(t,n),s=Jv(null,t,r,e,s,n);var a=ey();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tn(r)?(a=!0,Qd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qv(t),s.updater=nh,t.stateNode=s,s._reactInternals=t,Hm(t,r,e,n),t=Gm(null,t,r,!0,a,n)):(t.tag=0,wt&&a&&Vv(t),mn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=mR(r),e=cr(r,e),s){case 0:t=Qm(null,t,r,e,n);break e;case 1:t=Nb(null,t,r,e,n);break e;case 11:t=wb(null,t,r,e,n);break e;case 14:t=jb(null,t,r,cr(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),Qm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),Nb(e,t,r,s,n);case 3:e:{if(mk(t),e===null)throw Error(fe(387));r=t.pendingProps,a=t.memoizedState,s=a.element,US(e,t),Jd(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Uo(Error(fe(423)),t),t=Sb(e,t,r,n,s);break e}else if(r!==s){s=Uo(Error(fe(424)),t),t=Sb(e,t,r,n,s);break e}else for(Fn=ci(t.stateNode.containerInfo.firstChild),$n=t,wt=!0,hr=null,n=BS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===s){t=ks(e,t,n);break e}mn(e,t,r,n)}t=t.child}return t;case 5:return qS(t),e===null&&qm(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Fm(r,s)?o=null:a!==null&&Fm(r,a)&&(t.flags|=32),pk(e,t),mn(e,t,o,n),t.child;case 6:return e===null&&qm(t),null;case 13:return gk(e,t,n);case 4:return Gv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):mn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),wb(e,t,r,s,n);case 7:return mn(e,t,t.pendingProps,n),t.child;case 8:return mn(e,t,t.pendingProps.children,n),t.child;case 12:return mn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,mt(Zd,r._currentValue),r._currentValue=o,a!==null)if(jr(a.value,o)){if(a.children===s.children&&!En.current){t=ks(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=gs(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),zm(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(fe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zm(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}mn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,mo(t,n),s=sr(s),r=r(s),t.flags|=1,mn(e,t,r,n),t.child;case 14:return r=t.type,s=cr(r,t.pendingProps),s=cr(r.type,s),jb(e,t,r,s,n);case 15:return fk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),gd(e,t),t.tag=1,Tn(r)?(e=!0,Qd(t)):e=!1,mo(t,n),ck(t,r,s),Hm(t,r,s,n),Gm(null,t,r,!0,e,n);case 19:return vk(e,t,n);case 22:return hk(e,t,n)}throw Error(fe(156,t.tag))};function Dk(e,t){return aS(e,t)}function pR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,n,r){return new pR(e,t,n,r)}function uy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mR(e){if(typeof e=="function")return uy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tv)return 11;if(e===Av)return 14}return 2}function hi(e,t){var n=e.alternate;return n===null?(n=er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xd(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")uy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ka:return la(n.children,s,a,t);case Ev:o=8,s|=8;break;case gm:return e=er(12,n,t,s|2),e.elementType=gm,e.lanes=a,e;case vm:return e=er(13,n,t,s),e.elementType=vm,e.lanes=a,e;case ym:return e=er(19,n,t,s),e.elementType=ym,e.lanes=a,e;case qN:return ih(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VN:o=10;break e;case UN:o=9;break e;case Tv:o=11;break e;case Av:o=14;break e;case Us:o=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=er(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function la(e,t,n,r){return e=er(7,e,r,t),e.lanes=n,e}function ih(e,t,n,r){return e=er(22,e,r,t),e.elementType=qN,e.lanes=n,e.stateNode={isHidden:!1},e}function _p(e,t,n){return e=er(6,e,null,t),e.lanes=n,e}function Cp(e,t,n){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dy(e,t,n,r,s,a,o,l,c){return e=new gR(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=er(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(a),e}function vR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rk(e){if(!e)return yi;e=e._reactInternals;e:{if(Oa(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(Tn(n))return RS(e,n,t)}return t}function Mk(e,t,n,r,s,a,o,l,c){return e=dy(n,r,!0,e,s,a,o,l,c),e.context=Rk(null),n=e.current,r=vn(),s=fi(n),a=gs(r,s),a.callback=t??null,ui(n,a,s),e.current.lanes=s,ou(e,s,r),An(e,r),e}function ah(e,t,n,r){var s=t.current,a=vn(),o=fi(s);return n=Rk(n),t.context===null?t.context=n:t.pendingContext=n,t=gs(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ui(s,t,o),e!==null&&(xr(e,s,o,a),hd(e,s,o)),o}function lf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fy(e,t){Rb(e,t),(e=e.alternate)&&Rb(e,t)}function yR(){return null}var Ik=typeof reportError=="function"?reportError:function(e){console.error(e)};function hy(e){this._internalRoot=e}oh.prototype.render=hy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));ah(e,t,null,null)};oh.prototype.unmount=hy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ga(function(){ah(null,e,null,null)}),t[Ns]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=hS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ws.length&&t!==0&&t<Ws[n].priority;n++);Ws.splice(n,0,e),n===0&&mS(e)}};function py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function xR(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=lf(o);a.call(u)}}var o=Mk(t,r,e,0,null,!1,!1,"",Mb);return e._reactRootContainer=o,e[Ns]=o.current,jc(e.nodeType===8?e.parentNode:e),ga(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=lf(c);l.call(u)}}var c=dy(e,0,!1,null,null,!1,!1,"",Mb);return e._reactRootContainer=c,e[Ns]=c.current,jc(e.nodeType===8?e.parentNode:e),ga(function(){ah(t,c,n,r)}),c}function ch(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=lf(o);l.call(c)}}ah(t,o,e,s)}else o=xR(n,t,e,s,r);return lf(o)}dS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ul(t.pendingLanes);n!==0&&(Dv(t,n|1),An(t,Ot()),!(tt&6)&&(qo=Ot()+500,Li()))}break;case 13:ga(function(){var r=Ss(e,1);if(r!==null){var s=vn();xr(r,e,1,s)}}),fy(e,1)}};Rv=function(e){if(e.tag===13){var t=Ss(e,134217728);if(t!==null){var n=vn();xr(t,e,134217728,n)}fy(e,134217728)}};fS=function(e){if(e.tag===13){var t=fi(e),n=Ss(e,t);if(n!==null){var r=vn();xr(n,e,t,r)}fy(e,t)}};hS=function(){return ft};pS=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}};Em=function(e,t,n){switch(t){case"input":if(wm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Jf(r);if(!s)throw Error(fe(90));WN(r),wm(r,s)}}}break;case"textarea":KN(e,n);break;case"select":t=n.value,t!=null&&uo(e,!!n.multiple,t,!1)}};eS=oy;tS=ga;var bR={usingClientEntryPoint:!1,Events:[cu,Za,Jf,XN,JN,oy]},Tl={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wR={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sS(e),e===null?null:e.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||yR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Gf=zu.inject(wR),qr=zu}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;Wn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(t))throw Error(fe(200));return vR(e,t,null,n)};Wn.createRoot=function(e,t){if(!py(e))throw Error(fe(299));var n=!1,r="",s=Ik;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dy(e,1,!1,null,null,n,!1,r,s),e[Ns]=t.current,jc(e.nodeType===8?e.parentNode:e),new hy(t)};Wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=sS(t),e=e===null?null:e.stateNode,e};Wn.flushSync=function(e){return ga(e)};Wn.hydrate=function(e,t,n){if(!lh(t))throw Error(fe(200));return ch(null,e,t,!0,n)};Wn.hydrateRoot=function(e,t,n){if(!py(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Ik;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mk(t,null,e,1,n??null,s,!1,a,o),e[Ns]=t.current,jc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new oh(t)};Wn.render=function(e,t,n){if(!lh(t))throw Error(fe(200));return ch(null,e,t,!1,n)};Wn.unmountComponentAtNode=function(e){if(!lh(e))throw Error(fe(40));return e._reactRootContainer?(ga(function(){ch(null,null,e,!1,function(){e._reactRootContainer=null,e[Ns]=null})}),!0):!1};Wn.unstable_batchedUpdates=oy;Wn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lh(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return ch(e,t,n,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function Lk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lk)}catch(e){console.error(e)}}Lk(),LN.exports=Wn;var Fi=LN.exports;const jR=bv(Fi);var Fk,Ib=Fi;Fk=Ib.createRoot,Ib.hydrateRoot;function NR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~r?r:~a?a:s.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var $k={exports:{}},Bk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=j;function SR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kR=typeof Object.is=="function"?Object.is:SR,_R=zo.useState,CR=zo.useEffect,ER=zo.useLayoutEffect,TR=zo.useDebugValue;function AR(e,t){var n=t(),r=_R({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return ER(function(){s.value=n,s.getSnapshot=t,Ep(s)&&a({inst:s})},[e,n,t]),CR(function(){return Ep(s)&&a({inst:s}),e(function(){Ep(s)&&a({inst:s})})},[e]),TR(n),n}function Ep(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kR(e,n)}catch{return!0}}function PR(e,t){return t()}var OR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PR:AR;Bk.useSyncExternalStore=zo.useSyncExternalStore!==void 0?zo.useSyncExternalStore:OR;$k.exports=Bk;var DR=$k.exports;const RR=MN.useInsertionEffect,MR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vk=MR?j.useLayoutEffect:j.useEffect,IR=RR||Vk,my=e=>{const t=j.useRef([e,(...n)=>t[0](...n)]).current;return IR(()=>{t[0]=e}),t[1]},LR="popstate",gy="pushState",vy="replaceState",FR="hashchange",Lb=[LR,gy,vy,FR],$R=e=>{for(const t of Lb)addEventListener(t,e);return()=>{for(const t of Lb)removeEventListener(t,e)}},Uk=(e,t)=>DR.useSyncExternalStore($R,e,t),BR=()=>location.search,VR=({ssrSearch:e=""}={})=>Uk(BR,()=>e),Fb=()=>location.pathname,UR=({ssrPath:e}={})=>Uk(Fb,e?()=>e:Fb),qR=(e,{replace:t=!1,state:n=null}={})=>history[t?vy:gy](n,"",e),zR=(e={})=>[UR(e),qR],$b=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$b]>"u"){for(const e of[gy,vy]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,$b,{value:!0})}const WR=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",qk=(e="")=>e==="/"?"":e,HR=(e,t)=>e[0]==="~"?e.slice(1):qk(t)+e,KR=(e="",t)=>WR(og(qk(e)),og(t)),QR=e=>e[0]==="?"?e.slice(1):e,og=e=>{try{return decodeURI(e)}catch{return e}},GR=e=>og(QR(e)),zk={hook:zR,searchHook:VR,parser:NR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Wk=j.createContext(zk),Da=()=>j.useContext(Wk),Hk={},Kk=j.createContext(Hk),ns=()=>j.useContext(Kk),uh=e=>{const[t,n]=e.hook(e);return[KR(e.base,t),my((r,s)=>n(HR(r,e.base),s))]},Ve=()=>uh(Da()),yy=()=>{const e=Da();return GR(e.searchHook(e))},xy=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((d,f)=>[d,c[f]])):o.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[l]:[]]:[!1,null]},YR=e=>xy(Da().parser,e,Ve()[0]),ZR=({children:e,...t})=>{var h,d;const n=Da(),r=t.hook?zk:n;let s=r;const[a,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let l=j.useRef({}),c=l.current,u=c;for(let f in r){const v=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&v!==u[f]&&(l.current=u={...u}),u[f]=v,v!==r[f]&&(s=u)}return j.createElement(Wk.Provider,{value:s,children:e})},Bb=({children:e,component:t},n)=>t?j.createElement(t,{params:n}):typeof e=="function"?e(n):e,XR=e=>{let t=j.useRef(Hk),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Fe=({path:e,nest:t,match:n,...r})=>{const s=Da(),[a]=uh(s),[o,l,c]=n??xy(s.parser,e,a,t),u=XR({...ns(),...l});if(!o)return null;const h=c?j.createElement(ZR,{base:c},Bb(r,u)):Bb(r,u);return j.createElement(Kk.Provider,{value:u,children:h})},by=j.forwardRef((e,t)=>{const n=Da(),[r,s]=uh(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:h,replace:d,state:f,...v}=e,x=my(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&j.isValidElement(u)?j.cloneElement(u,{onClick:x,href:m}):j.createElement("a",{...v,onClick:x,href:m,className:h!=null&&h.call?h(r===o):h,children:u,ref:t})}),Qk=e=>Array.isArray(e)?e.flatMap(t=>Qk(t&&t.type===j.Fragment?t.props.children:t)):[e],Gk=({children:e,location:t})=>{const n=Da(),[r]=uh(n);for(const s of Qk(e)){let a=0;if(j.isValidElement(s)&&(a=xy(n.parser,s.props.path,t||r,s.props.nest))[0])return j.cloneElement(s,{match:a})}return null},va=e=>{const{to:t,href:n=t}=e,[,r]=Ve(),s=my(()=>r(t||n,e));return Vk(()=>{s()},[]),null};var al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ya=typeof window>"u"||"Deno"in globalThis;function Yn(){}function JR(e,t){return typeof e=="function"?e(t):e}function lg(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vo(e,t){return typeof e=="function"?e(t):e}function pr(e,t){return typeof e=="function"?e(t):e}function Vb(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==wy(o,t.options))return!1}else if(!Pc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Ub(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(xa(t.options.mutationKey)!==xa(a))return!1}else if(!Pc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function wy(e,t){return((t==null?void 0:t.queryKeyHashFn)||xa)(e)}function xa(e){return JSON.stringify(e,(t,n)=>cg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Pc(e[n],t[n])):!1}function Zk(e,t){if(e===t)return e;const n=qb(e)&&qb(t);if(n||cg(e)&&cg(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const h=n?u:a[u];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=Zk(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function cf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function qb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cg(e){if(!zb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!zb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zb(e){return Object.prototype.toString.call(e)==="[object Object]"}function eM(e){return new Promise(t=>{setTimeout(t,e)})}function ug(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Zk(e,t):t}function tM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var jy=Symbol();function Xk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ea,Gs,So,mN,rM=(mN=class extends al{constructor(){super();Re(this,ea);Re(this,Gs);Re(this,So);je(this,So,t=>{if(!ya&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,Gs)||this.setEventListener(Q(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Gs))==null||t.call(this),je(this,Gs,void 0))}setEventListener(t){var n;je(this,So,t),(n=Q(this,Gs))==null||n.call(this),je(this,Gs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,ea)!==t&&(je(this,ea,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,ea)=="boolean"?Q(this,ea):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ea=new WeakMap,Gs=new WeakMap,So=new WeakMap,mN),Ny=new rM,ko,Ys,_o,gN,sM=(gN=class extends al{constructor(){super();Re(this,ko,!0);Re(this,Ys);Re(this,_o);je(this,_o,t=>{if(!ya&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,Ys)||this.setEventListener(Q(this,_o))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ys))==null||t.call(this),je(this,Ys,void 0))}setEventListener(t){var n;je(this,_o,t),(n=Q(this,Ys))==null||n.call(this),je(this,Ys,t(this.setOnline.bind(this)))}setOnline(t){Q(this,ko)!==t&&(je(this,ko,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,ko)}},ko=new WeakMap,Ys=new WeakMap,_o=new WeakMap,gN),uf=new sM;function dg(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function iM(e){return Math.min(1e3*2**e,3e4)}function Jk(e){return(e??"online")==="online"?uf.isOnline():!0}var e2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tp(e){return e instanceof e2}function t2(e){let t=!1,n=0,r=!1,s;const a=dg(),o=m=>{var y;r||(f(new e2(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ny.isFocused()&&(e.networkMode==="always"||uf.isOnline())&&e.canRun(),h=()=>Jk(e.networkMode)&&e.canRun(),d=m=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),a.resolve(m))},f=m=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),a.reject(m))},v=()=>new Promise(m=>{var y;s=g=>{(r||u())&&m(g)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(r)return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(d).catch(g=>{var T;if(r)return;const p=e.retry??(ya?0:3),b=e.retryDelay??iM,w=typeof b=="function"?b(n,g):b,N=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,g);if(t||!N){f(g);return}n++,(T=e.onFail)==null||T.call(e,n,g),eM(w).then(()=>u()?void 0:v()).then(()=>{t?f(g):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?x():v().then(x),a)}}function aM(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Lt=aM(),ta,vN,n2=(vN=class{constructor(){Re(this,ta)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lg(this.gcTime)&&je(this,ta,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ya?1/0:5*60*1e3))}clearGcTimeout(){Q(this,ta)&&(clearTimeout(Q(this,ta)),je(this,ta,void 0))}},ta=new WeakMap,vN),Co,Eo,Gn,rn,nu,na,ur,as,yN,oM=(yN=class extends n2{constructor(t){super();Re(this,ur);Re(this,Co);Re(this,Eo);Re(this,Gn);Re(this,rn);Re(this,nu);Re(this,na);je(this,na,!1),je(this,nu,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,Gn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,Co,lM(this.options)),this.state=t.state??Q(this,Co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,rn))==null?void 0:t.promise}setOptions(t){this.options={...Q(this,nu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,Gn).remove(this)}setData(t,n){const r=ug(this.state.data,t,this.options);return Ke(this,ur,as).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ke(this,ur,as).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Q(this,rn))==null?void 0:r.promise;return(s=Q(this,rn))==null||s.cancel(t),n?n.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Co))}isActive(){return this.observers.some(t=>pr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Yk(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,Gn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,rn)&&(Q(this,na)?Q(this,rn).cancel({revert:!0}):Q(this,rn).cancelRetry()),this.scheduleGc()),Q(this,Gn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,ur,as).call(this,{type:"invalidate"})}fetch(t,n){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,rn))return Q(this,rn).continueRetry(),Q(this,rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(je(this,na,!0),r.signal)})},a=()=>{const d=Xk(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),je(this,na,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),je(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Ke(this,ur,as).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=d=>{var f,v,x,m;Tp(d)&&d.silent||Ke(this,ur,as).call(this,{type:"error",error:d}),Tp(d)||((v=(f=Q(this,Gn).config).onError)==null||v.call(f,d,this),(m=(x=Q(this,Gn).config).onSettled)==null||m.call(x,this.state.data,d,this)),this.scheduleGc()};return je(this,rn,t2({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,v,x,m;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(v=(f=Q(this,Gn).config).onSuccess)==null||v.call(f,d,this),(m=(x=Q(this,Gn).config).onSettled)==null||m.call(x,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{Ke(this,ur,as).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Ke(this,ur,as).call(this,{type:"pause"})},onContinue:()=>{Ke(this,ur,as).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Q(this,rn).start()}},Co=new WeakMap,Eo=new WeakMap,Gn=new WeakMap,rn=new WeakMap,nu=new WeakMap,na=new WeakMap,ur=new WeakSet,as=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...r2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Tp(s)&&s.revert&&Q(this,Eo)?{...Q(this,Eo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Lt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,Gn).notify({query:this,type:"updated",action:t})})},yN);function r2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rr,xN,cM=(xN=class extends al{constructor(t={}){super();Re(this,Rr);this.config=t,je(this,Rr,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??wy(s,n);let o=this.get(a);return o||(o=new oM({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Q(this,Rr).has(t.queryHash)||(Q(this,Rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,Rr).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,Rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Rr).get(t)}getAll(){return[...Q(this,Rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Vb(t,r)):n}notify(t){Lt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rr=new WeakMap,xN),Mr,fn,ra,Ir,Fs,bN,uM=(bN=class extends n2{constructor(t){super();Re(this,Ir);Re(this,Mr);Re(this,fn);Re(this,ra);this.mutationId=t.mutationId,je(this,fn,t.mutationCache),je(this,Mr,[]),this.state=t.state||s2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Mr).includes(t)||(Q(this,Mr).push(t),this.clearGcTimeout(),Q(this,fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,Mr,Q(this,Mr).filter(n=>n!==t)),this.scheduleGc(),Q(this,fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Mr).length||(this.state.status==="pending"?this.scheduleGc():Q(this,fn).remove(this))}continue(){var t;return((t=Q(this,ra))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,h,d,f,v,x,m,y,g,p,b,w,N,T,S;je(this,ra,t2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{Ke(this,Ir,Fs).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{Ke(this,Ir,Fs).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Ir,Fs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,fn).canRun(this)}));const n=this.state.status==="pending",r=!Q(this,ra).canStart();try{if(!n){Ke(this,Ir,Fs).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=Q(this,fn).config).onMutate)==null?void 0:a.call(s,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&Ke(this,Ir,Fs).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const E=await Q(this,ra).start();return await((u=(c=Q(this,fn).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,E,t,this.state.context)),await((v=(f=Q(this,fn).config).onSettled)==null?void 0:v.call(f,E,null,this.state.variables,this.state.context,this)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,E,null,t,this.state.context)),Ke(this,Ir,Fs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(y=Q(this,fn).config).onError)==null?void 0:g.call(y,E,t,this.state.context,this)),await((b=(p=this.options).onError)==null?void 0:b.call(p,E,t,this.state.context)),await((N=(w=Q(this,fn).config).onSettled)==null?void 0:N.call(w,void 0,E,this.state.variables,this.state.context,this)),await((S=(T=this.options).onSettled)==null?void 0:S.call(T,void 0,E,t,this.state.context)),E}finally{Ke(this,Ir,Fs).call(this,{type:"error",error:E})}}finally{Q(this,fn).runNext(this)}}},Mr=new WeakMap,fn=new WeakMap,ra=new WeakMap,Ir=new WeakSet,Fs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Lt.batch(()=>{Q(this,Mr).forEach(r=>{r.onMutationUpdate(t)}),Q(this,fn).notify({mutation:this,type:"updated",action:t})})},bN);function s2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dn,ru,wN,dM=(wN=class extends al{constructor(t={}){super();Re(this,Dn);Re(this,ru);this.config=t,je(this,Dn,new Map),je(this,ru,Date.now())}build(t,n,r){const s=new uM({mutationCache:this,mutationId:++Cu(this,ru)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Wu(t),r=Q(this,Dn).get(n)??[];r.push(t),Q(this,Dn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Wu(t);if(Q(this,Dn).has(n)){const s=(r=Q(this,Dn).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?Q(this,Dn).delete(n):Q(this,Dn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Q(this,Dn).get(Wu(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Q(this,Dn).get(Wu(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Q(this,Dn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ub(n,r))}findAll(t={}){return this.getAll().filter(n=>Ub(t,n))}notify(t){Lt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yn))))}},Dn=new WeakMap,ru=new WeakMap,wN);function Wu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wb(e){return{onFetch:(t,n)=>{var h,d,f,v,x;const r=t.options,s=(f=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=Xk(t.options,t.fetchOptions),p=async(b,w,N)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const T={queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};y(T);const S=await g(T),{maxPages:E}=t.options,A=N?nM:tM;return{pages:A(b.pages,S,E),pageParams:A(b.pageParams,w,E)}};if(s&&a.length){const b=s==="backward",w=b?fM:Hb,N={pages:a,pageParams:o},T=w(r,N);l=await p(N,T,b)}else{const b=e??a.length;do{const w=c===0?o[0]??r.initialPageParam:Hb(r,l);if(c>0&&w==null)break;l=await p(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Hb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function fM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ct,Zs,Xs,To,Ao,Js,Po,Oo,jN,hM=(jN=class{constructor(e={}){Re(this,Ct);Re(this,Zs);Re(this,Xs);Re(this,To);Re(this,Ao);Re(this,Js);Re(this,Po);Re(this,Oo);je(this,Ct,e.queryCache||new cM),je(this,Zs,e.mutationCache||new dM),je(this,Xs,e.defaultOptions||{}),je(this,To,new Map),je(this,Ao,new Map),je(this,Js,0)}mount(){Cu(this,Js)._++,Q(this,Js)===1&&(je(this,Po,Ny.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Ct).onFocus())})),je(this,Oo,uf.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Ct).onOnline())})))}unmount(){var e,t;Cu(this,Js)._--,Q(this,Js)===0&&((e=Q(this,Po))==null||e.call(this),je(this,Po,void 0),(t=Q(this,Oo))==null||t.call(this),je(this,Oo,void 0))}isFetching(e){return Q(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Zs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Ct).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Q(this,Ct).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(vo(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Q(this,Ct).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Q(this,Ct).get(r.queryHash),a=s==null?void 0:s.state.data,o=JR(t,a);if(o!==void 0)return Q(this,Ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Lt.batch(()=>Q(this,Ct).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Ct).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,Ct);Lt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,Ct),r={type:"active",...e};return Lt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Lt.batch(()=>Q(this,Ct).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Yn).catch(Yn)}invalidateQueries(e={},t={}){return Lt.batch(()=>{if(Q(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Lt.batch(()=>Q(this,Ct).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Yn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Yn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,Ct).build(this,t);return n.isStaleByTime(vo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yn).catch(Yn)}fetchInfiniteQuery(e){return e.behavior=Wb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yn).catch(Yn)}ensureInfiniteQueryData(e){return e.behavior=Wb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return uf.isOnline()?Q(this,Zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Ct)}getMutationCache(){return Q(this,Zs)}getDefaultOptions(){return Q(this,Xs)}setDefaultOptions(e){je(this,Xs,e)}setQueryDefaults(e,t){Q(this,To).set(xa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,To).values()];let n={};return t.forEach(r=>{Pc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Q(this,Ao).set(xa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Ao).values()];let n={};return t.forEach(r=>{Pc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Xs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===jy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Xs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,Ct).clear(),Q(this,Zs).clear()}},Ct=new WeakMap,Zs=new WeakMap,Xs=new WeakMap,To=new WeakMap,Ao=new WeakMap,Js=new WeakMap,Po=new WeakMap,Oo=new WeakMap,jN),Nn,Ze,su,hn,sa,Do,ei,Lr,iu,Ro,Mo,ia,aa,ti,Io,at,zl,fg,hg,pg,mg,gg,vg,yg,i2,NN,pM=(NN=class extends al{constructor(t,n){super();Re(this,at);Re(this,Nn);Re(this,Ze);Re(this,su);Re(this,hn);Re(this,sa);Re(this,Do);Re(this,ei);Re(this,Lr);Re(this,iu);Re(this,Ro);Re(this,Mo);Re(this,ia);Re(this,aa);Re(this,ti);Re(this,Io,new Set);this.options=n,je(this,Nn,t),je(this,Lr,null),je(this,ei,dg()),this.options.experimental_prefetchInRender||Q(this,ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Ze).addObserver(this),Kb(Q(this,Ze),this.options)?Ke(this,at,zl).call(this):this.updateResult(),Ke(this,at,mg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xg(Q(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xg(Q(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,at,gg).call(this),Ke(this,at,vg).call(this),Q(this,Ze).removeObserver(this)}setOptions(t,n){const r=this.options,s=Q(this,Ze);if(this.options=Q(this,Nn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pr(this.options.enabled,Q(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,at,yg).call(this),Q(this,Ze).setOptions(this.options),r._defaulted&&!cf(this.options,r)&&Q(this,Nn).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Ze),observer:this});const a=this.hasListeners();a&&Qb(Q(this,Ze),s,this.options,r)&&Ke(this,at,zl).call(this),this.updateResult(n),a&&(Q(this,Ze)!==s||pr(this.options.enabled,Q(this,Ze))!==pr(r.enabled,Q(this,Ze))||vo(this.options.staleTime,Q(this,Ze))!==vo(r.staleTime,Q(this,Ze)))&&Ke(this,at,fg).call(this);const o=Ke(this,at,hg).call(this);a&&(Q(this,Ze)!==s||pr(this.options.enabled,Q(this,Ze))!==pr(r.enabled,Q(this,Ze))||o!==Q(this,ti))&&Ke(this,at,pg).call(this,o)}getOptimisticResult(t){const n=Q(this,Nn).getQueryCache().build(Q(this,Nn),t),r=this.createResult(n,t);return gM(this,r)&&(je(this,hn,r),je(this,Do,this.options),je(this,sa,Q(this,Ze).state)),r}getCurrentResult(){return Q(this,hn)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){Q(this,Io).add(t)}getCurrentQuery(){return Q(this,Ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,Nn).defaultQueryOptions(t),r=Q(this,Nn).getQueryCache().build(Q(this,Nn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ke(this,at,zl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,hn)))}createResult(t,n){var E;const r=Q(this,Ze),s=this.options,a=Q(this,hn),o=Q(this,sa),l=Q(this,Do),u=t!==r?t.state:Q(this,su),{state:h}=t;let d={...h},f=!1,v;if(n._optimisticResults){const A=this.hasListeners(),C=!A&&Kb(t,n),_=A&&Qb(t,r,n,s);(C||_)&&(d={...d,...r2(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:y}=d;if(n.select&&d.data!==void 0)if(a&&d.data===(o==null?void 0:o.data)&&n.select===Q(this,iu))v=Q(this,Ro);else try{je(this,iu,n.select),v=n.select(d.data),v=ug(a==null?void 0:a.data,v,n),je(this,Ro,v),je(this,Lr,null)}catch(A){je(this,Lr,A)}else v=d.data;if(n.placeholderData!==void 0&&v===void 0&&y==="pending"){let A;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))A=a.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((E=Q(this,Mo))==null?void 0:E.state.data,Q(this,Mo)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),je(this,Lr,null)}catch(C){je(this,Lr,C)}A!==void 0&&(y="success",v=ug(a==null?void 0:a.data,A,n),f=!0)}Q(this,Lr)&&(x=Q(this,Lr),v=Q(this,Ro),m=Date.now(),y="error");const g=d.fetchStatus==="fetching",p=y==="pending",b=y==="error",w=p&&g,N=v!==void 0,S={status:y,fetchStatus:d.fetchStatus,isPending:p,isSuccess:y==="success",isError:b,isInitialLoading:w,isLoading:w,data:v,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:b&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&N,isStale:Sy(t,n),refetch:this.refetch,promise:Q(this,ei)};if(this.options.experimental_prefetchInRender){const A=k=>{S.status==="error"?k.reject(S.error):S.data!==void 0&&k.resolve(S.data)},C=()=>{const k=je(this,ei,S.promise=dg());A(k)},_=Q(this,ei);switch(_.status){case"pending":t.queryHash===r.queryHash&&A(_);break;case"fulfilled":(S.status==="error"||S.data!==_.value)&&C();break;case"rejected":(S.status!=="error"||S.error!==_.reason)&&C();break}}return S}updateResult(t){const n=Q(this,hn),r=this.createResult(Q(this,Ze),this.options);if(je(this,sa,Q(this,Ze).state),je(this,Do,this.options),Q(this,sa).data!==void 0&&je(this,Mo,Q(this,Ze)),cf(r,n))return;je(this,hn,r);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Q(this,Io).size)return!0;const c=new Set(l??Q(this,Io));return this.options.throwOnError&&c.add("error"),Object.keys(Q(this,hn)).some(u=>{const h=u;return Q(this,hn)[h]!==n[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Ke(this,at,i2).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,at,mg).call(this)}},Nn=new WeakMap,Ze=new WeakMap,su=new WeakMap,hn=new WeakMap,sa=new WeakMap,Do=new WeakMap,ei=new WeakMap,Lr=new WeakMap,iu=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,ia=new WeakMap,aa=new WeakMap,ti=new WeakMap,Io=new WeakMap,at=new WeakSet,zl=function(t){Ke(this,at,yg).call(this);let n=Q(this,Ze).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yn)),n},fg=function(){Ke(this,at,gg).call(this);const t=vo(this.options.staleTime,Q(this,Ze));if(ya||Q(this,hn).isStale||!lg(t))return;const r=Yk(Q(this,hn).dataUpdatedAt,t)+1;je(this,ia,setTimeout(()=>{Q(this,hn).isStale||this.updateResult()},r))},hg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Ze)):this.options.refetchInterval)??!1},pg=function(t){Ke(this,at,vg).call(this),je(this,ti,t),!(ya||pr(this.options.enabled,Q(this,Ze))===!1||!lg(Q(this,ti))||Q(this,ti)===0)&&je(this,aa,setInterval(()=>{(this.options.refetchIntervalInBackground||Ny.isFocused())&&Ke(this,at,zl).call(this)},Q(this,ti)))},mg=function(){Ke(this,at,fg).call(this),Ke(this,at,pg).call(this,Ke(this,at,hg).call(this))},gg=function(){Q(this,ia)&&(clearTimeout(Q(this,ia)),je(this,ia,void 0))},vg=function(){Q(this,aa)&&(clearInterval(Q(this,aa)),je(this,aa,void 0))},yg=function(){const t=Q(this,Nn).getQueryCache().build(Q(this,Nn),this.options);if(t===Q(this,Ze))return;const n=Q(this,Ze);je(this,Ze,t),je(this,su,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},i2=function(t){Lt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,hn))}),Q(this,Nn).getQueryCache().notify({query:Q(this,Ze),type:"observerResultsUpdated"})})},NN);function mM(e,t){return pr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Kb(e,t){return mM(e,t)||e.state.data!==void 0&&xg(e,t,t.refetchOnMount)}function xg(e,t,n){if(pr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Sy(e,t)}return!1}function Qb(e,t,n,r){return(e!==t||pr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Sy(e,n)}function Sy(e,t){return pr(t.enabled,e)!==!1&&e.isStaleByTime(vo(t.staleTime,e))}function gM(e,t){return!cf(e.getCurrentResult(),t)}var ni,ri,Sn,ds,ws,bd,bg,SN,vM=(SN=class extends al{constructor(n,r){super();Re(this,ws);Re(this,ni);Re(this,ri);Re(this,Sn);Re(this,ds);je(this,ni,n),this.setOptions(r),this.bindMethods(),Ke(this,ws,bd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Q(this,ni).defaultMutationOptions(n),cf(this.options,r)||Q(this,ni).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,Sn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xa(r.mutationKey)!==xa(this.options.mutationKey)?this.reset():((s=Q(this,Sn))==null?void 0:s.state.status)==="pending"&&Q(this,Sn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Q(this,Sn))==null||n.removeObserver(this)}onMutationUpdate(n){Ke(this,ws,bd).call(this),Ke(this,ws,bg).call(this,n)}getCurrentResult(){return Q(this,ri)}reset(){var n;(n=Q(this,Sn))==null||n.removeObserver(this),je(this,Sn,void 0),Ke(this,ws,bd).call(this),Ke(this,ws,bg).call(this)}mutate(n,r){var s;return je(this,ds,r),(s=Q(this,Sn))==null||s.removeObserver(this),je(this,Sn,Q(this,ni).getMutationCache().build(Q(this,ni),this.options)),Q(this,Sn).addObserver(this),Q(this,Sn).execute(n)}},ni=new WeakMap,ri=new WeakMap,Sn=new WeakMap,ds=new WeakMap,ws=new WeakSet,bd=function(){var r;const n=((r=Q(this,Sn))==null?void 0:r.state)??s2();je(this,ri,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},bg=function(n){Lt.batch(()=>{var r,s,a,o,l,c,u,h;if(Q(this,ds)&&this.hasListeners()){const d=Q(this,ri).variables,f=Q(this,ri).context;(n==null?void 0:n.type)==="success"?((s=(r=Q(this,ds)).onSuccess)==null||s.call(r,n.data,d,f),(o=(a=Q(this,ds)).onSettled)==null||o.call(a,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((c=(l=Q(this,ds)).onError)==null||c.call(l,n.error,d,f),(h=(u=Q(this,ds)).onSettled)==null||h.call(u,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(Q(this,ri))})})},SN),a2=j.createContext(void 0),o2=e=>{const t=j.useContext(a2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yM=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(a2.Provider,{value:e,children:t})),l2=j.createContext(!1),xM=()=>j.useContext(l2);l2.Provider;function bM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wM=j.createContext(bM()),jM=()=>j.useContext(wM);function c2(e,t){return typeof e=="function"?e(...t):!!e}function wg(){}var NM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},SM=e=>{j.useEffect(()=>{e.clearReset()},[e])},kM=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&c2(n,[e.error,r]),_M=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},CM=(e,t)=>e.isLoading&&e.isFetching&&!t,EM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Gb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function TM(e,t,n){var h,d,f,v,x;const r=o2(),s=xM(),a=jM(),o=r.defaultQueryOptions(e);(d=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||d.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",_M(o),NM(o,a),SM(a);const l=!r.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(m=>{const y=s?wg:c.subscribe(Lt.batchCalls(m));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),EM(o,u))throw Gb(o,c,a);if(kM({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,o,u),o.experimental_prefetchInRender&&!ya&&CM(u,s)){const m=l?Gb(o,c,a):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;m==null||m.catch(wg).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Ue(e,t){return TM(e,pM)}function Se(e,t){const n=o2(),[r]=j.useState(()=>new vM(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const s=j.useSyncExternalStore(j.useCallback(o=>r.subscribe(Lt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=j.useCallback((o,l)=>{r.mutate(o,l).catch(wg)},[r]);if(s.error&&c2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function u2(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}function d2(e){const t={},n=e.replace(/^\/+/,"/");if(n.startsWith("/admin")||n.startsWith("/api/admin")){const s=localStorage.getItem("@app:admin_token");s&&(t.Authorization=`Bearer ${s}`)}else if(n.startsWith("/api/v1")||n.startsWith("/api/public/v1")){const s=localStorage.getItem("@app:user_token");s&&(t.Authorization=`Bearer ${s}`)}return t}async function De(e,t,n){const s={...d2(t),...n?{"Content-Type":"application/json"}:{}},a=await fetch(t,{method:e,headers:s,body:n?JSON.stringify(n):void 0,credentials:"include"});return await u2(a),a}const wd=({on401:e})=>async({queryKey:t})=>{const n=t.join("/"),r=d2(n),s=await fetch(n,{credentials:"include",headers:r});return e==="returnNull"&&s.status===401?null:(await u2(s),await s.json())},ve=new hM({defaultOptions:{queries:{queryFn:wd({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AM=1,PM=1e6;let Ap=0;function OM(){return Ap=(Ap+1)%Number.MAX_SAFE_INTEGER,Ap.toString()}const Pp=new Map,Yb=e=>{if(Pp.has(e))return;const t=setTimeout(()=>{Pp.delete(e),ac({type:"REMOVE_TOAST",toastId:e})},PM);Pp.set(e,t)},DM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Yb(n):e.toasts.forEach(r=>{Yb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},jd=[];let Nd={toasts:[]};function ac(e){Nd=DM(Nd,e),jd.forEach(t=>{t(Nd)})}function RM({...e}){const t=OM(),n=s=>ac({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ac({type:"DISMISS_TOAST",toastId:t});return ac({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function ht(){const[e,t]=j.useState(Nd);return j.useEffect(()=>(jd.push(t),()=>{const n=jd.indexOf(t);n>-1&&jd.splice(n,1)}),[e]),{...e,toast:RM,dismiss:n=>ac({type:"DISMISS_TOAST",toastId:n})}}function me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Zb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dh(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Zb(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Zb(e[s],null)}}}}function Ge(...e){return j.useCallback(dh(...e),e)}function MM(e,t){const n=j.createContext(t),r=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function en(e,t=[]){let n=[];function r(a,o){const l=j.createContext(o),c=n.length;n=[...n,o];const u=d=>{var g;const{scope:f,children:v,...x}=d,m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,y=j.useMemo(()=>x,Object.values(x));return i.jsx(m.Provider,{value:y,children:v})};u.displayName=a+"Provider";function h(d,f){var m;const v=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,x=j.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,IM(s,...t)]}function IM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ba(e){const t=LM(e),n=j.forwardRef((r,s)=>{const{children:a,...o}=r,l=j.Children.toArray(a),c=l.find(FM);if(c){const u=c.props.children,h=l.map(d=>d===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:d);return i.jsx(t,{...o,ref:s,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var f2=ba("Slot");function LM(e){const t=j.forwardRef((n,r)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=BM(s),l=$M(a,s.props);return s.type!==j.Fragment&&(l.ref=r?dh(r,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var h2=Symbol("radix.slottable");function p2(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=h2,t}function FM(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===h2}function $M(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function BM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fh(e){const t=e+"CollectionProvider",[n,r]=en(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,p=ze.useRef(null),b=ze.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:b,collectionRef:p,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=ba(l),u=ze.forwardRef((m,y)=>{const{scope:g,children:p}=m,b=a(l,g),w=Ge(y,b.collectionRef);return i.jsx(c,{ref:w,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",f=ba(h),v=ze.forwardRef((m,y)=>{const{scope:g,children:p,...b}=m,w=ze.useRef(null),N=Ge(y,w),T=a(h,g);return ze.useEffect(()=>(T.itemMap.set(w,{ref:w,...b}),()=>void T.itemMap.delete(w))),i.jsx(f,{[d]:"",ref:N,children:p})});v.displayName=h;function x(m){const y=a(e+"CollectionConsumer",m);return ze.useCallback(()=>{const p=y.collectionRef.current;if(!p)return[];const b=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((T,S)=>b.indexOf(T.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},x,r]}var VM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=VM.reduce((e,t)=>{const n=ba(`Primitive.${t}`),r=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ky(e,t){e&&Fi.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function UM(e,t=globalThis==null?void 0:globalThis.document){const n=un(e);j.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var qM="DismissableLayer",jg="dismissableLayer.update",zM="dismissableLayer.pointerDownOutside",WM="dismissableLayer.focusOutside",Xb,m2=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ol=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(m2),[h,d]=j.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=j.useState({}),x=Ge(t,S=>d(S)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(y),p=h?m.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=p>=g,N=KM(S=>{const E=S.target,A=[...u.branches].some(C=>C.contains(E));!w||A||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),T=QM(S=>{const E=S.target;[...u.branches].some(C=>C.contains(E))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return UM(S=>{p===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),j.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Jb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Xb)}},[h,f,n,u]),j.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Jb())},[h,u]),j.useEffect(()=>{const S=()=>v({});return document.addEventListener(jg,S),()=>document.removeEventListener(jg,S)},[]),i.jsx(Pe.div,{...c,ref:x,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,T.onFocusCapture),onBlurCapture:me(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,N.onPointerDownCapture)})});ol.displayName=qM;var HM="DismissableLayerBranch",g2=j.forwardRef((e,t)=>{const n=j.useContext(m2),r=j.useRef(null),s=Ge(t,r);return j.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Pe.div,{...e,ref:s})});g2.displayName=HM;function KM(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),r=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){v2(zM,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function QM(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),r=j.useRef(!1);return j.useEffect(()=>{const s=a=>{a.target&&!r.current&&v2(WM,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jb(){const e=new CustomEvent(jg);document.dispatchEvent(e)}function v2(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ky(s,a):s.dispatchEvent(a)}var GM=ol,YM=g2,Jt=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},ZM="Portal",du=j.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=j.useState(!1);Jt(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?jR.createPortal(i.jsx(Pe.div,{...r,ref:t}),o):null});du.displayName=ZM;function XM(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var On=e=>{const{present:t,children:n}=e,r=JM(t),s=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),a=Ge(r.ref,e3(s));return typeof n=="function"||r.isPresent?j.cloneElement(s,{ref:a}):null};On.displayName="Presence";function JM(e){const[t,n]=j.useState(),r=j.useRef({}),s=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=XM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=Hu(r.current);a.current=l==="mounted"?u:"none"},[l]),Jt(()=>{const u=r.current,h=s.current;if(h!==e){const f=a.current,v=Hu(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Jt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=v=>{const m=Hu(r.current).includes(v.animationName);if(v.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=v=>{v.target===t&&(a.current=Hu(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Hu(e){return(e==null?void 0:e.animationName)||"none"}function e3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Nr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=t3({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=un(n),c=j.useCallback(u=>{if(a){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[a,e,s,l]);return[o,c]}function t3({defaultProp:e,onChange:t}){const n=j.useState(e),[r]=n,s=j.useRef(r),a=un(t);return j.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var n3="VisuallyHidden",fu=j.forwardRef((e,t)=>i.jsx(Pe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));fu.displayName=n3;var r3=fu,_y="ToastProvider",[Cy,s3,i3]=fh("Toast"),[y2,SJ]=en("Toast",[i3]),[a3,hh]=y2(_y),x2=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[u,h]=j.useState(0),d=j.useRef(!1),f=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_y}\`. Expected non-empty \`string\`.`),i.jsx(Cy.Provider,{scope:t,children:i.jsx(a3,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>h(v=>v+1),[]),onToastRemove:j.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};x2.displayName=_y;var b2="ToastViewport",o3=["F8"],Ng="toast.viewportPause",Sg="toast.viewportResume",w2=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=o3,label:s="Notifications ({hotkey})",...a}=e,o=hh(b2,n),l=s3(n),c=j.useRef(null),u=j.useRef(null),h=j.useRef(null),d=j.useRef(null),f=Ge(t,d,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;j.useEffect(()=>{const y=g=>{var b;r.length!==0&&r.every(w=>g[w]||g.code===w)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),j.useEffect(()=>{const y=c.current,g=d.current;if(x&&y&&g){const p=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(Ng);g.dispatchEvent(T),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(Sg);g.dispatchEvent(T),o.isClosePausedRef.current=!1}},w=T=>{!y.contains(T.relatedTarget)&&b()},N=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",p),y.addEventListener("focusout",w),y.addEventListener("pointermove",p),y.addEventListener("pointerleave",N),window.addEventListener("blur",p),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",p),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",p),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",p),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:y})=>{const p=l().map(b=>{const w=b.ref.current,N=[w,...b3(w)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?p.reverse():p).flat()},[l]);return j.useEffect(()=>{const y=d.current;if(y){const g=p=>{var N,T,S;const b=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!b){const E=document.activeElement,A=p.shiftKey;if(p.target===y&&A){(N=u.current)==null||N.focus();return}const k=m({tabbingDirection:A?"backwards":"forwards"}),P=k.findIndex(M=>M===E);Op(k.slice(P+1))?p.preventDefault():A?(T=u.current)==null||T.focus():(S=h.current)==null||S.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[l,m]),i.jsxs(YM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(kg,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Op(y)}}),i.jsx(Cy.Slot,{scope:n,children:i.jsx(Pe.ol,{tabIndex:-1,...a,ref:f})}),x&&i.jsx(kg,{ref:h,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Op(y)}})]})});w2.displayName=b2;var j2="ToastFocusProxy",kg=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=hh(j2,n);return i.jsx(fu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});kg.displayName=j2;var ph="Toast",l3="toast.swipeStart",c3="toast.swipeMove",u3="toast.swipeCancel",d3="toast.swipeEnd",N2=j.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Nr({prop:r,defaultProp:s,onChange:a});return i.jsx(On,{present:n||l,children:i.jsx(p3,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});N2.displayName=ph;var[f3,h3]=y2(ph,{onClose(){}}),p3=j.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:v,...x}=e,m=hh(ph,n),[y,g]=j.useState(null),p=Ge(t,M=>g(M)),b=j.useRef(null),w=j.useRef(null),N=s||m.duration,T=j.useRef(0),S=j.useRef(N),E=j.useRef(0),{onToastAdd:A,onToastRemove:C}=m,_=un(()=>{var B;(y==null?void 0:y.contains(document.activeElement))&&((B=m.viewport)==null||B.focus()),o()}),k=j.useCallback(M=>{!M||M===1/0||(window.clearTimeout(E.current),T.current=new Date().getTime(),E.current=window.setTimeout(_,M))},[_]);j.useEffect(()=>{const M=m.viewport;if(M){const B=()=>{k(S.current),u==null||u()},U=()=>{const L=new Date().getTime()-T.current;S.current=S.current-L,window.clearTimeout(E.current),c==null||c()};return M.addEventListener(Ng,U),M.addEventListener(Sg,B),()=>{M.removeEventListener(Ng,U),M.removeEventListener(Sg,B)}}},[m.viewport,N,c,u,k]),j.useEffect(()=>{a&&!m.isClosePausedRef.current&&k(N)},[a,N,m.isClosePausedRef,k]),j.useEffect(()=>(A(),()=>C()),[A,C]);const P=j.useMemo(()=>y?A2(y):null,[y]);return m.viewport?i.jsxs(i.Fragment,{children:[P&&i.jsx(m3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),i.jsx(f3,{scope:n,onClose:_,children:Fi.createPortal(i.jsx(Cy.ItemSlot,{scope:n,children:i.jsx(GM,{asChild:!0,onEscapeKeyDown:me(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:me(e.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:me(e.onPointerMove,M=>{if(!b.current)return;const B=M.clientX-b.current.x,U=M.clientY-b.current.y,L=!!w.current,F=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,O=F?R(0,B):0,D=F?0:R(0,U),$=M.pointerType==="touch"?10:2,q={x:O,y:D},K={originalEvent:M,delta:q};L?(w.current=q,Ku(c3,d,K,{discrete:!1})):e1(q,m.swipeDirection,$)?(w.current=q,Ku(l3,h,K,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(B)>$||Math.abs(U)>$)&&(b.current=null)}),onPointerUp:me(e.onPointerUp,M=>{const B=w.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),w.current=null,b.current=null,B){const L=M.currentTarget,F={originalEvent:M,delta:B};e1(B,m.swipeDirection,m.swipeThreshold)?Ku(d3,v,F,{discrete:!0}):Ku(u3,f,F,{discrete:!0}),L.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),m3=e=>{const{__scopeToast:t,children:n,...r}=e,s=hh(ph,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return y3(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(du,{asChild:!0,children:i.jsx(fu,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},g3="ToastTitle",S2=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Pe.div,{...r,ref:t})});S2.displayName=g3;var v3="ToastDescription",k2=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Pe.div,{...r,ref:t})});k2.displayName=v3;var _2="ToastAction",C2=j.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(T2,{altText:n,asChild:!0,children:i.jsx(Ey,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_2}\`. Expected non-empty \`string\`.`),null)});C2.displayName=_2;var E2="ToastClose",Ey=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=h3(E2,n);return i.jsx(T2,{asChild:!0,children:i.jsx(Pe.button,{type:"button",...r,ref:t,onClick:me(e.onClick,s.onClose)})})});Ey.displayName=E2;var T2=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function A2(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),x3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...A2(r))}}),t}function Ku(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ky(s,a):s.dispatchEvent(a)}var e1=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function y3(e=()=>{}){const t=un(e);Jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function x3(e){return e.nodeType===e.ELEMENT_NODE}function b3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Op(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var w3=x2,P2=w2,O2=N2,D2=S2,R2=k2,M2=C2,I2=Ey;function L2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=L2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function F2(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=L2(e))&&(r&&(r+=" "),r+=t);return r}const t1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,n1=F2,mh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return n1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],d=a==null?void 0:a[u];if(h===null)return null;const f=t1(h)||t1(d);return s[u][f]}),l=n&&Object.entries(n).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:f,...v}=h;return Object.entries(v).every(x=>{let[m,y]=x;return Array.isArray(y)?y.includes({...a,...l}[m]):{...a,...l}[m]===y})?[...u,d,f]:u},[]);return n1(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$2=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...N3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$2("lucide",s),...l},[...o.map(([u,h])=>j.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=j.forwardRef(({className:r,...s},a)=>j.createElement(S3,{ref:a,iconNode:t,className:$2(`lucide-${j3(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=xe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=xe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=xe("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=xe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=xe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=xe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=xe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=xe("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=xe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=xe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=xe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=xe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=xe("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=xe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=xe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=xe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=xe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=xe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),My="-",V3=e=>{const t=q3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(My);return l[0]===""&&l.length!==1&&l.shift(),J2(l,t)||U3(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},J2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?J2(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(My);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},l1=/^\[(.+)\]$/,U3=e=>{if(l1.test(e)){const t=l1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},q3=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return W3(Object.entries(e.classGroups),n).forEach(([a,o])=>{Eg(o,r,a,t)}),r},Eg=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:c1(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(z3(s)){Eg(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{Eg(o,c1(t,a),n,r)})})},c1=(e,t)=>{let n=e;return t.split(My).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},z3=e=>e.isThemeGetter,W3=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,H3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},e_="!",K3=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,h=0,d;for(let y=0;y<l.length;y++){let g=l[y];if(u===0){if(g===s&&(r||l.slice(y,y+a)===t)){c.push(l.slice(h,y)),h=y+a;continue}if(g==="/"){d=y;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(h),v=f.startsWith(e_),x=v?f.substring(1):f,m=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},Q3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},G3=e=>({cache:H3(e.cacheSize),parseClassName:K3(e),...V3(e)}),Y3=/\s+/,Z3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(Y3);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:v}=n(u);let x=!!v,m=r(x?f.substring(0,v):f);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=Q3(h).join(":"),g=d?y+e_:y,p=g+m;if(a.includes(p))continue;a.push(p);const b=s(m,x);for(let w=0;w<b.length;++w){const N=b[w];a.push(g+N)}l=u+(l.length>0?" "+l:l)}return l};function X3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=t_(t))&&(r&&(r+=" "),r+=n);return r}const t_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=t_(e[r]))&&(n&&(n+=" "),n+=t);return n};function J3(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((h,d)=>d(h),e());return n=G3(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=Z3(c,n);return s(c,h),h}return function(){return a(X3.apply(null,arguments))}}const vt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},n_=/^\[(?:([a-z-]+):)?(.+)\]$/i,eI=/^\d+\/\d+$/,tI=new Set(["px","full","screen"]),nI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>yo(e)||tI.has(e)||eI.test(e),Ms=e=>cl(e,"length",pI),yo=e=>!!e&&!Number.isNaN(Number(e)),Mp=e=>cl(e,"number",yo),Al=e=>!!e&&Number.isInteger(Number(e)),oI=e=>e.endsWith("%")&&yo(e.slice(0,-1)),He=e=>n_.test(e),Is=e=>nI.test(e),lI=new Set(["length","size","percentage"]),cI=e=>cl(e,lI,r_),uI=e=>cl(e,"position",r_),dI=new Set(["image","url"]),fI=e=>cl(e,dI,gI),hI=e=>cl(e,"",mI),Pl=()=>!0,cl=(e,t,n)=>{const r=n_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},pI=e=>rI.test(e)&&!sI.test(e),r_=()=>!1,mI=e=>iI.test(e),gI=e=>aI.test(e),vI=()=>{const e=vt("colors"),t=vt("spacing"),n=vt("blur"),r=vt("brightness"),s=vt("borderColor"),a=vt("borderRadius"),o=vt("borderSpacing"),l=vt("borderWidth"),c=vt("contrast"),u=vt("grayscale"),h=vt("hueRotate"),d=vt("invert"),f=vt("gap"),v=vt("gradientColorStops"),x=vt("gradientColorStopPositions"),m=vt("inset"),y=vt("margin"),g=vt("opacity"),p=vt("padding"),b=vt("saturate"),w=vt("scale"),N=vt("sepia"),T=vt("skew"),S=vt("space"),E=vt("translate"),A=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",He,t],k=()=>[He,t],P=()=>["",ss,Ms],M=()=>["auto",yo,He],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",He],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[yo,He];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[ss,Ms],blur:["none","",Is,He],brightness:D(),borderColor:[e],borderRadius:["none","","full",Is,He],borderSpacing:k(),borderWidth:P(),contrast:D(),grayscale:R(),hueRotate:D(),invert:R(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[oI,Ms],inset:_(),margin:_(),opacity:D(),padding:k(),saturate:D(),scale:D(),sepia:R(),skew:D(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),He]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Al,He]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Al,He]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",Al,He]},He]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[Al,He]},He]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,t]}],"min-w":[{"min-w":[He,t,"min","max","fit"]}],"max-w":[{"max-w":[He,t,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[He,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mp]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",yo,Mp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Ms]}],"underline-offset":[{"underline-offset":["auto",ss,He]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),uI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ss,He]}],"outline-w":[{outline:[ss,Ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ss,Ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Is,hI]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Is,He]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Al,He]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Ms,Mp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yI=J3(vI);function Ee(...e){return yI(F2(e))}const xI=w3,s_=j.forwardRef(({className:e,...t},n)=>i.jsx(P2,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));s_.displayName=P2.displayName;const bI=mh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),i_=j.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(O2,{ref:r,className:Ee(bI({variant:t}),e),...n}));i_.displayName=O2.displayName;const wI=j.forwardRef(({className:e,...t},n)=>i.jsx(M2,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));wI.displayName=M2.displayName;const a_=j.forwardRef(({className:e,...t},n)=>i.jsx(I2,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Pn,{className:"h-4 w-4"})}));a_.displayName=I2.displayName;const o_=j.forwardRef(({className:e,...t},n)=>i.jsx(D2,{ref:n,className:Ee("text-sm font-semibold",e),...t}));o_.displayName=D2.displayName;const l_=j.forwardRef(({className:e,...t},n)=>i.jsx(R2,{ref:n,className:Ee("text-sm opacity-90",e),...t}));l_.displayName=R2.displayName;function jI(){const{toasts:e}=ht();return i.jsxs(xI,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(i_,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(o_,{children:n}),r&&i.jsx(l_,{children:r})]}),s,i.jsx(a_,{})]},t)}),i.jsx(s_,{})]})}var NI=MN[" useId ".trim().toString()]||(()=>{}),SI=0;function br(e){const[t,n]=j.useState(NI());return Jt(()=>{e||n(r=>r??String(SI++))},[e]),e||(t?`radix-${t}`:"")}const kI=["top","right","bottom","left"],bi=Math.min,In=Math.max,ff=Math.round,Qu=Math.floor,Hr=e=>({x:e,y:e}),_I={left:"right",right:"left",bottom:"top",top:"bottom"},CI={start:"end",end:"start"};function Tg(e,t,n){return In(e,bi(t,n))}function _s(e,t){return typeof e=="function"?e(t):e}function Cs(e){return e.split("-")[0]}function ul(e){return e.split("-")[1]}function Iy(e){return e==="x"?"y":"x"}function Ly(e){return e==="y"?"height":"width"}function wi(e){return["top","bottom"].includes(Cs(e))?"y":"x"}function Fy(e){return Iy(wi(e))}function EI(e,t,n){n===void 0&&(n=!1);const r=ul(e),s=Fy(e),a=Ly(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=hf(o)),[o,hf(o)]}function TI(e){const t=hf(e);return[Ag(e),t,Ag(t)]}function Ag(e){return e.replace(/start|end/g,t=>CI[t])}function AI(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function PI(e,t,n,r){const s=ul(e);let a=AI(Cs(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Ag)))),a}function hf(e){return e.replace(/left|right|bottom|top/g,t=>_I[t])}function OI(e){return{top:0,right:0,bottom:0,left:0,...e}}function c_(e){return typeof e!="number"?OI(e):{top:e,right:e,bottom:e,left:e}}function pf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function u1(e,t,n){let{reference:r,floating:s}=e;const a=wi(t),o=Fy(t),l=Ly(o),c=Cs(t),u=a==="y",h=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:d};break;case"left":v={x:r.x-s.width,y:d};break;default:v={x:r.x,y:r.y}}switch(ul(t)){case"start":v[o]-=f*(n&&u?-1:1);break;case"end":v[o]+=f*(n&&u?-1:1);break}return v}const DI=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:d}=u1(u,r,c),f=r,v={},x=0;for(let m=0;m<l.length;m++){const{name:y,fn:g}=l[m],{x:p,y:b,data:w,reset:N}=await g({x:h,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});h=p??h,d=b??d,v={...v,[y]:{...v[y],...w}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:h,y:d}=u1(u,f,c)),m=-1)}return{x:h,y:d,placement:f,strategy:s,middlewareData:v}};async function Mc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:v=0}=_s(t,e),x=c_(v),y=l[f?d==="floating"?"reference":"floating":d],g=pf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},N=pf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:b,strategy:c}):p);return{top:(g.top-N.top+x.top)/w.y,bottom:(N.bottom-g.bottom+x.bottom)/w.y,left:(g.left-N.left+x.left)/w.x,right:(N.right-g.right+x.right)/w.x}}const RI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=_s(e,t)||{};if(u==null)return{};const d=c_(h),f={x:n,y:r},v=Fy(s),x=Ly(v),m=await o.getDimensions(u),y=v==="y",g=y?"top":"left",p=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=a.reference[x]+a.reference[v]-f[v]-a.floating[x],N=f[v]-a.reference[v],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=T?T[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(T)))&&(S=l.floating[b]||a.floating[x]);const E=w/2-N/2,A=S/2-m[x]/2-1,C=bi(d[g],A),_=bi(d[p],A),k=C,P=S-m[x]-_,M=S/2-m[x]/2+E,B=Tg(k,M,P),U=!c.arrow&&ul(s)!=null&&M!==B&&a.reference[x]/2-(M<k?C:_)-m[x]/2<0,L=U?M<k?M-k:M-P:0;return{[v]:f[v]+L,data:{[v]:B,centerOffset:M-B-L,...U&&{alignmentOffset:L}},reset:U}}}),MI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...y}=_s(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Cs(s),p=wi(l),b=Cs(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(b||!m?[hf(l)]:TI(l)),T=x!=="none";!f&&T&&N.push(...PI(l,m,x,w));const S=[l,...N],E=await Mc(t,y),A=[];let C=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&A.push(E[g]),d){const M=EI(s,o,w);A.push(E[M[0]],E[M[1]])}if(C=[...C,{placement:s,overflows:A}],!A.every(M=>M<=0)){var _,k;const M=(((_=a.flip)==null?void 0:_.index)||0)+1,B=S[M];if(B)return{data:{index:M,overflows:C},reset:{placement:B}};let U=(k=C.filter(L=>L.overflows[0]<=0).sort((L,F)=>L.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(v){case"bestFit":{var P;const L=(P=C.filter(F=>{if(T){const R=wi(F.placement);return R===p||R==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(R=>R>0).reduce((R,O)=>R+O,0)]).sort((F,R)=>F[1]-R[1])[0])==null?void 0:P[0];L&&(U=L);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function d1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f1(e){return kI.some(t=>e[t]>=0)}const II=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=_s(e,t);switch(r){case"referenceHidden":{const a=await Mc(t,{...s,elementContext:"reference"}),o=d1(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:f1(o)}}}case"escaped":{const a=await Mc(t,{...s,altBoundary:!0}),o=d1(a,n.floating);return{data:{escapedOffsets:o,escaped:f1(o)}}}default:return{}}}}};async function LI(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Cs(n),l=ul(n),c=wi(n)==="y",u=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,d=_s(t,e);let{mainAxis:f,crossAxis:v,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof x=="number"&&(v=l==="end"?x*-1:x),c?{x:v*h,y:f*u}:{x:f*u,y:v*h}}const FI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await LI(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},$I=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:g,y:p}=y;return{x:g,y:p}}},...c}=_s(e,t),u={x:n,y:r},h=await Mc(t,c),d=wi(Cs(s)),f=Iy(d);let v=u[f],x=u[d];if(a){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=v+h[y],b=v-h[g];v=Tg(p,v,b)}if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",p=x+h[y],b=x-h[g];x=Tg(p,x,b)}const m=l.fn({...t,[f]:v,[d]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:a,[d]:o}}}}}},BI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_s(e,t),h={x:n,y:r},d=wi(s),f=Iy(d);let v=h[f],x=h[d];const m=_s(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=f==="y"?"height":"width",w=a.reference[f]-a.floating[b]+y.mainAxis,N=a.reference[f]+a.reference[b]-y.mainAxis;v<w?v=w:v>N&&(v=N)}if(u){var g,p;const b=f==="y"?"width":"height",w=["top","left"].includes(Cs(s)),N=a.reference[d]-a.floating[b]+(w&&((g=o.offset)==null?void 0:g[d])||0)+(w?0:y.crossAxis),T=a.reference[d]+a.reference[b]+(w?0:((p=o.offset)==null?void 0:p[d])||0)-(w?y.crossAxis:0);x<N?x=N:x>T&&(x=T)}return{[f]:v,[d]:x}}}},VI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=_s(e,t),h=await Mc(t,u),d=Cs(s),f=ul(s),v=wi(s)==="y",{width:x,height:m}=a.floating;let y,g;d==="top"||d==="bottom"?(y=d,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=d,y=f==="end"?"top":"bottom");const p=m-h.top-h.bottom,b=x-h.left-h.right,w=bi(m-h[y],p),N=bi(x-h[g],b),T=!t.middlewareData.shift;let S=w,E=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=p),T&&!f){const C=In(h.left,0),_=In(h.right,0),k=In(h.top,0),P=In(h.bottom,0);v?E=x-2*(C!==0||_!==0?C+_:In(h.left,h.right)):S=m-2*(k!==0||P!==0?k+P:In(h.top,h.bottom))}await c({...t,availableWidth:E,availableHeight:S});const A=await o.getDimensions(l.floating);return x!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function xh(){return typeof window<"u"}function dl(e){return u_(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rs(e){var t;return(t=(u_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function u_(e){return xh()?e instanceof Node||e instanceof Bn(e).Node:!1}function _r(e){return xh()?e instanceof Element||e instanceof Bn(e).Element:!1}function Jr(e){return xh()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function h1(e){return!xh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}function pu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function UI(e){return["table","td","th"].includes(dl(e))}function bh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $y(e){const t=By(),n=_r(e)?Cr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qI(e){let t=ji(e);for(;Jr(t)&&!Ko(t);){if($y(t))return t;if(bh(t))return null;t=ji(t)}return null}function By(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ko(e){return["html","body","#document"].includes(dl(e))}function Cr(e){return Bn(e).getComputedStyle(e)}function wh(e){return _r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ji(e){if(dl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||h1(e)&&e.host||rs(e);return h1(t)?t.host:t}function d_(e){const t=ji(e);return Ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jr(t)&&pu(t)?t:d_(t)}function Ic(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=d_(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Bn(s);if(a){const l=Pg(o);return t.concat(o,o.visualViewport||[],pu(s)?s:[],l&&n?Ic(l):[])}return t.concat(s,Ic(s,[],n))}function Pg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function f_(e){const t=Cr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Jr(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=ff(n)!==a||ff(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Vy(e){return _r(e)?e:e.contextElement}function xo(e){const t=Vy(e);if(!Jr(t))return Hr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=f_(t);let o=(a?ff(n.width):n.width)/r,l=(a?ff(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zI=Hr(0);function h_(e){const t=Bn(e);return!By()||!t.visualViewport?zI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bn(e)?!1:t}function ja(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Vy(e);let o=Hr(1);t&&(r?_r(r)&&(o=xo(r)):o=xo(e));const l=WI(a,n,r)?h_(a):Hr(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,d=s.height/o.y;if(a){const f=Bn(a),v=r&&_r(r)?Bn(r):r;let x=f,m=Pg(x);for(;m&&r&&v!==x;){const y=xo(m),g=m.getBoundingClientRect(),p=Cr(m),b=g.left+(m.clientLeft+parseFloat(p.paddingLeft))*y.x,w=g.top+(m.clientTop+parseFloat(p.paddingTop))*y.y;c*=y.x,u*=y.y,h*=y.x,d*=y.y,c+=b,u+=w,x=Bn(m),m=Pg(x)}}return pf({width:h,height:d,x:c,y:u})}function Uy(e,t){const n=wh(e).scrollLeft;return t?t.left+n:ja(rs(e)).left+n}function p_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Uy(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function HI(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=rs(r),l=t?bh(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Hr(1);const h=Hr(0),d=Jr(r);if((d||!d&&!a)&&((dl(r)!=="body"||pu(o))&&(c=wh(r)),Jr(r))){const v=ja(r);u=xo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const f=o&&!d&&!a?p_(o,c,!0):Hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+f.x,y:n.y*u.y-c.scrollTop*u.y+h.y+f.y}}function KI(e){return Array.from(e.getClientRects())}function QI(e){const t=rs(e),n=wh(e),r=e.ownerDocument.body,s=In(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=In(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Uy(e);const l=-n.scrollTop;return Cr(r).direction==="rtl"&&(o+=In(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function GI(e,t){const n=Bn(e),r=rs(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=By();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function YI(e,t){const n=ja(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Jr(e)?xo(e):Hr(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function p1(e,t,n){let r;if(t==="viewport")r=GI(e,n);else if(t==="document")r=QI(rs(e));else if(_r(t))r=YI(t,n);else{const s=h_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pf(r)}function m_(e,t){const n=ji(e);return n===t||!_r(n)||Ko(n)?!1:Cr(n).position==="fixed"||m_(n,t)}function ZI(e,t){const n=t.get(e);if(n)return n;let r=Ic(e,[],!1).filter(l=>_r(l)&&dl(l)!=="body"),s=null;const a=Cr(e).position==="fixed";let o=a?ji(e):e;for(;_r(o)&&!Ko(o);){const l=Cr(o),c=$y(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||pu(o)&&!c&&m_(e,o))?r=r.filter(h=>h!==o):s=l,o=ji(o)}return t.set(e,r),r}function XI(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?bh(t)?[]:ZI(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const d=p1(t,h,s);return u.top=In(d.top,u.top),u.right=bi(d.right,u.right),u.bottom=bi(d.bottom,u.bottom),u.left=In(d.left,u.left),u},p1(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JI(e){const{width:t,height:n}=f_(e);return{width:t,height:n}}function eL(e,t,n){const r=Jr(t),s=rs(t),a=n==="fixed",o=ja(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Hr(0);if(r||!r&&!a)if((dl(t)!=="body"||pu(s))&&(l=wh(t)),r){const f=ja(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=Uy(s));const u=s&&!r&&!a?p_(s,l):Hr(0),h=o.left+l.scrollLeft-c.x-u.x,d=o.top+l.scrollTop-c.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function Ip(e){return Cr(e).position==="static"}function m1(e,t){if(!Jr(e)||Cr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rs(e)===n&&(n=n.ownerDocument.body),n}function g_(e,t){const n=Bn(e);if(bh(e))return n;if(!Jr(e)){let s=ji(e);for(;s&&!Ko(s);){if(_r(s)&&!Ip(s))return s;s=ji(s)}return n}let r=m1(e,t);for(;r&&UI(r)&&Ip(r);)r=m1(r,t);return r&&Ko(r)&&Ip(r)&&!$y(r)?n:r||qI(e)||n}const tL=async function(e){const t=this.getOffsetParent||g_,n=this.getDimensions,r=await n(e.floating);return{reference:eL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nL(e){return Cr(e).direction==="rtl"}const rL={convertOffsetParentRelativeRectToViewportRelativeRect:HI,getDocumentElement:rs,getClippingRect:XI,getOffsetParent:g_,getElementRects:tL,getClientRects:KI,getDimensions:JI,getScale:xo,isElement:_r,isRTL:nL};function v_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sL(e,t){let n=null,r;const s=rs(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:d,width:f,height:v}=u;if(l||t(),!f||!v)return;const x=Qu(d),m=Qu(s.clientWidth-(h+f)),y=Qu(s.clientHeight-(d+v)),g=Qu(h),b={rootMargin:-x+"px "+-m+"px "+-y+"px "+-g+"px",threshold:In(0,bi(1,c))||1};let w=!0;function N(T){const S=T[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!v_(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(e)}return o(!0),a}function iL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Vy(e),h=s||a?[...u?Ic(u):[],...Ic(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const d=u&&l?sL(u,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),n()}),u&&!c&&v.observe(u),v.observe(t));let x,m=c?ja(e):null;c&&y();function y(){const g=ja(e);m&&!v_(m,g)&&n(),m=g,x=requestAnimationFrame(y)}return n(),()=>{var g;h.forEach(p=>{s&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),d==null||d(),(g=v)==null||g.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const aL=FI,oL=$I,lL=MI,cL=VI,uL=II,g1=RI,dL=BI,fL=(e,t,n)=>{const r=new Map,s={platform:rL,...n},a={...s.platform,_c:r};return DI(e,t,{...s,platform:a})};var kd=typeof document<"u"?j.useLayoutEffect:j.useEffect;function mf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!mf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function y_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function v1(e,t){const n=y_(e);return Math.round(t*n)/n}function Lp(e){const t=j.useRef(e);return kd(()=>{t.current=e}),t}function hL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,v]=j.useState(r);mf(f,r)||v(r);const[x,m]=j.useState(null),[y,g]=j.useState(null),p=j.useCallback(F=>{F!==T.current&&(T.current=F,m(F))},[]),b=j.useCallback(F=>{F!==S.current&&(S.current=F,g(F))},[]),w=a||x,N=o||y,T=j.useRef(null),S=j.useRef(null),E=j.useRef(h),A=c!=null,C=Lp(c),_=Lp(s),k=Lp(u),P=j.useCallback(()=>{if(!T.current||!S.current)return;const F={placement:t,strategy:n,middleware:f};_.current&&(F.platform=_.current),fL(T.current,S.current,F).then(R=>{const O={...R,isPositioned:k.current!==!1};M.current&&!mf(E.current,O)&&(E.current=O,Fi.flushSync(()=>{d(O)}))})},[f,t,n,_,k]);kd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[u]);const M=j.useRef(!1);kd(()=>(M.current=!0,()=>{M.current=!1}),[]),kd(()=>{if(w&&(T.current=w),N&&(S.current=N),w&&N){if(C.current)return C.current(w,N,P);P()}},[w,N,P,C,A]);const B=j.useMemo(()=>({reference:T,floating:S,setReference:p,setFloating:b}),[p,b]),U=j.useMemo(()=>({reference:w,floating:N}),[w,N]),L=j.useMemo(()=>{const F={position:n,left:0,top:0};if(!U.floating)return F;const R=v1(U.floating,h.x),O=v1(U.floating,h.y);return l?{...F,transform:"translate("+R+"px, "+O+"px)",...y_(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:O}},[n,l,U.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:P,refs:B,elements:U,floatingStyles:L}),[h,P,B,U,L])}const pL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?g1({element:r.current,padding:s}).fn(n):{}:r?g1({element:r,padding:s}).fn(n):{}}}},mL=(e,t)=>({...aL(e),options:[e,t]}),gL=(e,t)=>({...oL(e),options:[e,t]}),vL=(e,t)=>({...dL(e),options:[e,t]}),yL=(e,t)=>({...lL(e),options:[e,t]}),xL=(e,t)=>({...cL(e),options:[e,t]}),bL=(e,t)=>({...uL(e),options:[e,t]}),wL=(e,t)=>({...pL(e),options:[e,t]});var jL="Arrow",x_=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(Pe.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});x_.displayName=jL;var NL=x_;function jh(e){const[t,n]=j.useState(void 0);return Jt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var qy="Popper",[b_,fl]=en(qy),[SL,w_]=b_(qy),j_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=j.useState(null);return i.jsx(SL,{scope:t,anchor:r,onAnchorChange:s,children:n})};j_.displayName=qy;var N_="PopperAnchor",S_=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=w_(N_,n),o=j.useRef(null),l=Ge(t,o);return j.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Pe.div,{...s,ref:l})});S_.displayName=N_;var zy="PopperContent",[kL,_L]=b_(zy),k_=j.forwardRef((e,t)=>{var z,Z,X,te,oe,Y;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:x,...m}=e,y=w_(zy,n),[g,p]=j.useState(null),b=Ge(t,de=>p(de)),[w,N]=j.useState(null),T=jh(w),S=(T==null?void 0:T.width)??0,E=(T==null?void 0:T.height)??0,A=r+(a!=="center"?"-"+a:""),C=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(u)?u:[u],k=_.length>0,P={padding:C,boundary:_.filter(EL),altBoundary:k},{refs:M,floatingStyles:B,placement:U,isPositioned:L,middlewareData:F}=hL({strategy:"fixed",placement:A,whileElementsMounted:(...de)=>iL(...de,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[mL({mainAxis:s+E,alignmentAxis:o}),c&&gL({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?vL():void 0,...P}),c&&yL({...P}),xL({...P,apply:({elements:de,rects:le,availableWidth:Ce,availableHeight:Xe})=>{const{width:Oe,height:ne}=le.reference,re=de.floating.style;re.setProperty("--radix-popper-available-width",`${Ce}px`),re.setProperty("--radix-popper-available-height",`${Xe}px`),re.setProperty("--radix-popper-anchor-width",`${Oe}px`),re.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),w&&wL({element:w,padding:l}),TL({arrowWidth:S,arrowHeight:E}),f&&bL({strategy:"referenceHidden",...P})]}),[R,O]=E_(U),D=un(x);Jt(()=>{L&&(D==null||D())},[L,D]);const $=(z=F.arrow)==null?void 0:z.x,q=(Z=F.arrow)==null?void 0:Z.y,K=((X=F.arrow)==null?void 0:X.centerOffset)!==0,[W,V]=j.useState();return Jt(()=>{g&&V(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:L?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(te=F.transformOrigin)==null?void 0:te.x,(oe=F.transformOrigin)==null?void 0:oe.y].join(" "),...((Y=F.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(kL,{scope:n,placedSide:R,onArrowChange:N,arrowX:$,arrowY:q,shouldHideArrow:K,children:i.jsx(Pe.div,{"data-side":R,"data-align":O,...m,ref:b,style:{...m.style,animation:L?void 0:"none"}})})})});k_.displayName=zy;var __="PopperArrow",CL={top:"bottom",right:"left",bottom:"top",left:"right"},C_=j.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=_L(__,r),o=CL[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(NL,{...s,ref:n,style:{...s.style,display:"block"}})})});C_.displayName=__;function EL(e){return e!==null}var TL=e=>({name:"transformOrigin",options:e,fn(t){var y,g,p;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,h]=E_(n),d={start:"0%",center:"50%",end:"100%"}[h],f=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,v=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?d:`${f}px`,m=`${-c}px`):u==="top"?(x=o?d:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?d:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,m=o?d:`${v}px`),{data:{x,y:m}}}});function E_(e){const[t,n="center"]=e.split("-");return[t,n]}var T_=j_,Wy=S_,Hy=k_,Ky=C_,[Nh,kJ]=en("Tooltip",[fl]),Qy=fl(),A_="TooltipProvider",AL=700,y1="tooltip.open",[PL,P_]=Nh(A_),O_=e=>{const{__scopeTooltip:t,delayDuration:n=AL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(PL,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};O_.displayName=A_;var D_="Tooltip",[_J,Sh]=Nh(D_),Og="TooltipTrigger",OL=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Sh(Og,n),a=P_(Og,n),o=Qy(n),l=j.useRef(null),c=Ge(t,l,s.onTriggerChange),u=j.useRef(!1),h=j.useRef(!1),d=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(Wy,{asChild:!0,...o,children:i.jsx(Pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:me(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:me(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:me(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:me(e.onBlur,s.onClose),onClick:me(e.onClick,s.onClose)})})});OL.displayName=Og;var DL="TooltipPortal",[CJ,RL]=Nh(DL,{forceMount:void 0}),Qo="TooltipContent",R_=j.forwardRef((e,t)=>{const n=RL(Qo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=Sh(Qo,e.__scopeTooltip);return i.jsx(On,{present:r||o.open,children:o.disableHoverableContent?i.jsx(M_,{side:s,...a,ref:t}):i.jsx(ML,{side:s,...a,ref:t})})}),ML=j.forwardRef((e,t)=>{const n=Sh(Qo,e.__scopeTooltip),r=P_(Qo,e.__scopeTooltip),s=j.useRef(null),a=Ge(t,s),[o,l]=j.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:d}=r,f=j.useCallback(()=>{l(null),d(!1)},[d]),v=j.useCallback((x,m)=>{const y=x.currentTarget,g={x:x.clientX,y:x.clientY},p=BL(g,y.getBoundingClientRect()),b=VL(g,p),w=UL(m.getBoundingClientRect()),N=zL([...b,...w]);l(N),d(!0)},[d]);return j.useEffect(()=>()=>f(),[f]),j.useEffect(()=>{if(c&&h){const x=y=>v(y,h),m=y=>v(y,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",m)}}},[c,h,v,f]),j.useEffect(()=>{if(o){const x=m=>{const y=m.target,g={x:m.clientX,y:m.clientY},p=(c==null?void 0:c.contains(y))||(h==null?void 0:h.contains(y)),b=!qL(g,o);p?f():b&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,u,f]),i.jsx(M_,{...e,ref:a})}),[IL,LL]=Nh(D_,{isInside:!1}),FL=p2("TooltipContent"),M_=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Sh(Qo,n),u=Qy(n),{onClose:h}=c;return j.useEffect(()=>(document.addEventListener(y1,h),()=>document.removeEventListener(y1,h)),[h]),j.useEffect(()=>{if(c.trigger){const d=f=>{const v=f.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),i.jsx(ol,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:i.jsxs(Hy,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(FL,{children:r}),i.jsx(IL,{scope:n,isInside:!0,children:i.jsx(r3,{id:c.contentId,role:"tooltip",children:s||r})})]})})});R_.displayName=Qo;var I_="TooltipArrow",$L=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Qy(n);return LL(I_,n).isInside?null:i.jsx(Ky,{...s,...r,ref:t})});$L.displayName=I_;function BL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function VL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function UL(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function qL(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,h=t[o].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function zL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),WL(t)}function WL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var HL=O_,L_=R_;const KL=HL,QL=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(L_,{ref:r,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));QL.displayName=L_.displayName;const F_=j.createContext(void 0);function GL({children:e}){const[t,n]=j.useState(null),[r,s]=j.useState(!0);j.useEffect(()=>{const l=localStorage.getItem("@app:user_token"),c=localStorage.getItem("@app:user");if(l&&c)try{n(JSON.parse(c))}catch{localStorage.removeItem("@app:user_token"),localStorage.removeItem("@app:user")}s(!1)},[]);const a=(l,c)=>{localStorage.setItem("@app:user_token",l),localStorage.setItem("@app:user",JSON.stringify(c)),n(c)},o=()=>{localStorage.removeItem("@app:user_token"),localStorage.removeItem("@app:user"),n(null)};return i.jsx(F_.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:r,login:a,logout:o},children:e})}function Gy(){const e=j.useContext(F_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const $_=j.createContext(void 0);function YL({children:e}){const[t,n]=j.useState(null),[r,s]=j.useState(!0);j.useEffect(()=>{const l=localStorage.getItem("@app:admin_token"),c=localStorage.getItem("@app:admin_user");if(l&&c)try{const u=JSON.parse(c);["SUPER_ADMIN","COACH"].includes(u.role)?n(u):(localStorage.removeItem("@app:admin_token"),localStorage.removeItem("@app:admin_user"))}catch{localStorage.removeItem("@app:admin_token"),localStorage.removeItem("@app:admin_user")}s(!1)},[]);const a=(l,c)=>{localStorage.setItem("@app:admin_token",l),localStorage.setItem("@app:admin_user",JSON.stringify(c)),n(c)},o=()=>{localStorage.removeItem("@app:admin_token"),localStorage.removeItem("@app:admin_user"),n(null)};return i.jsx($_.Provider,{value:{admin:t,isAuthenticated:!!t&&["SUPER_ADMIN","COACH"].includes(t.role),isLoading:r,login:a,logout:o},children:e})}function Yy(){const e=j.useContext($_);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function ZL({children:e}){const{isAuthenticated:t,isLoading:n,user:r}=Gy();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-page-bg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-brand border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?!r||!["USER","COACH"].includes(r.role)?i.jsx(va,{to:"/login"}):i.jsx(i.Fragment,{children:e}):i.jsx(va,{to:"/login"})}function XL({children:e}){const{isAuthenticated:t,isLoading:n,admin:r}=Yy();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?!r||!["SUPER_ADMIN","COACH"].includes(r.role)?i.jsx(va,{to:"/admin/login"}):i.jsx(i.Fragment,{children:e}):i.jsx(va,{to:"/admin/login"})}const B_="/assets/chat%20icon_1763078697186-DaCohvog.png",JL=[{path:"/",label:"Home",icon:T3},{path:"/workshops",label:"Workshops",icon:Sr},{path:"/drm",label:"Dr.M",icon:k3},{path:"/heart",label:"Project",icon:ll},{path:"/profile",label:"Profile",icon:Z2}];function e5(){const[e]=Ve();return i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-white border-t border-gray-200 dark:border-gray-200 z-50 safe-area-bottom",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:JL.map(t=>{const n=t.icon,r=e===t.path;return i.jsx(by,{href:t.path,"data-testid":`nav-${t.label.toLowerCase().replace(/\s+/g,"-")}`,children:i.jsxs("button",{className:"flex flex-col items-center justify-center min-w-[60px] py-1 hover-elevate active-elevate-2 rounded-lg px-2",children:[t.label==="Dr.M"?i.jsx("img",{src:B_,alt:"Dr.M",className:`w-6 h-6 ${r?"opacity-100":"opacity-50"}`}):i.jsx(n,{className:`w-6 h-6 ${r?"text-[#703DFA]":"text-[#703DFA] opacity-50"}`,fill:r?"currentColor":"none"}),i.jsx("span",{className:`text-xs mt-1 ${r?"font-semibold text-gray-900":"font-medium text-gray-600"}`,children:t.label})]})},t.path)})})})})}function x1({children:e}){const[t]=Ve();return t==="/login"?i.jsx("div",{className:"min-h-screen",children:e}):i.jsxs("div",{className:"relative min-h-screen",children:[e,i.jsx(e5,{})]})}const b1=[{id:"dashboard",path:"/admin",label:"Dashboard"},{id:"users",label:"User Management",submenu:[{path:"/admin/users/students",label:"Students"},{path:"/admin/users/admins",label:"Admins"}]},{id:"banner",path:"/admin/interventions",label:"Session Banner"},{id:"sessions",path:"/admin/sessions",label:"Community Practices"},{id:"articles",path:"/admin/articles",label:"Articles"},{id:"workshops",path:"/admin/workshops",label:"Masterclasses"},{id:"courses",path:"/admin/courses",label:"Courses"},{id:"process",label:"Process Library",submenu:[{path:"/admin/processes",label:"Processes"},{path:"/admin/spiritual-breaths",label:"Spiritual Breaths"},{path:"/admin/abundance-mastery",label:"Abundance Mastery"}]},{id:"project",path:"/admin/project-heart",label:"Project of Heart"}],V_=j.createContext(void 0);function t5({children:e}){const[t]=Ve(),[n,r]=j.useState("dashboard");return j.useEffect(()=>{const s=b1.find(a=>a.path?a.path==="/admin"?t==="/admin":t.startsWith(a.path):a.submenu?a.submenu.some(o=>t.startsWith(o.path)):!1);s&&r(s.id)},[t]),i.jsx(V_.Provider,{value:{selectedMenuId:n,setSelectedMenuId:r,menuItems:b1},children:e})}function U_(){const e=j.useContext(V_);if(e===void 0)throw new Error("useAdminSidebar must be used within an AdminSidebarProvider");return e}const n5=[{id:"dashboard",path:"/admin",label:"Dashboard",icon:Oy},{id:"users",label:"User Management",icon:ys},{id:"banner",path:"/admin/session-banner/banners",label:"Session Banner",icon:hu},{id:"sessions",path:"/admin/sessions",label:"Community Practices",icon:X2},{id:"articles",path:"/admin/articles",label:"Articles",icon:kr},{id:"courses",path:"/admin/courses",label:"Courses",icon:Oc},{id:"process",label:"Process Library",icon:Sr},{id:"project",path:"/admin/project-heart",label:"Project of Heart",icon:ll}];function r5(){const[e,t]=Ve(),{selectedMenuId:n,setSelectedMenuId:r}=U_(),{logout:s}=Yy(),a=()=>{s(),t("/admin/login")},o=l=>{r(l.id),l.path&&t(l.path)};return i.jsxs("div",{className:"w-16 bg-[#1a1a1a] min-h-screen flex flex-col",children:[i.jsx("div",{className:"p-3 border-b border-gray-800",children:i.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand flex items-center justify-center mx-auto",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"Dr.M"})})}),i.jsx("div",{className:"flex-1 flex flex-col items-center py-4",children:n5.map(l=>{const c=l.icon,u=n===l.id;return i.jsx("button",{onClick:()=>o(l),"data-testid":`nav-${l.id}`,className:`w-12 h-12 flex items-center justify-center rounded-lg transition-all mb-1 ${u?"bg-brand/20 text-brand":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,title:l.label,children:i.jsx(c,{className:"w-5 h-5"})},l.id)})}),i.jsx("div",{className:"border-t border-gray-800 py-4 flex justify-center",children:i.jsx("button",{onClick:a,"data-testid":"button-logout",className:"w-12 h-12 flex items-center justify-center rounded-lg text-gray-400 hover:bg-red-900/30 hover:text-red-400 transition-colors",title:"Logout",children:i.jsx(Q2,{className:"w-5 h-5"})})})]})}const s5={dashboard:Oy,users:ys,banner:hu,sessions:X2,articles:kr,workshops:Oc,courses:Oc,process:Sr,project:ll},w1={dashboard:{title:"Dashboard",items:[{path:"/admin",label:"Overview",icon:_3},{path:"/admin",label:"Analytics",icon:L3},{path:"/admin",label:"Recent Activity",icon:Rp}]},users:{title:"User Management",items:[{path:"/admin/users/students",label:"Students",icon:ys},{path:"/admin/users/admins",label:"Admins",icon:Rc}]},banner:{title:"Session Banner",items:[{path:"/admin/session-banner/banners",label:"All Banners",icon:Fr},{path:"/admin/session-banner/banners/new",label:"Add New",icon:gt}]},sessions:{title:"Community Practices",items:[{path:"/admin/sessions",label:"All Sessions",icon:Fr},{path:"/admin/sessions",label:"Schedule",icon:Rp},{path:"/admin/sessions",label:"Add New",icon:gt}]},articles:{title:"Articles",items:[{path:"/admin/articles",label:"All Articles",icon:Fr},{path:"/admin/articles",label:"Categories",icon:Sr},{path:"/admin/articles",label:"Add New",icon:gt}]},workshops:{title:"Masterclasses",items:[{path:"/admin/workshops",label:"All Masterclasses",icon:Fr},{path:"/admin/workshops",label:"Schedule",icon:Rp},{path:"/admin/workshops",label:"Add New",icon:gt}]},courses:{title:"Courses",items:[{path:"/admin/courses",label:"All Courses",icon:Fr},{path:"/admin/courses/create/step1",label:"Create Course",icon:gt},{path:"/admin/programs",label:"Programs",icon:Sr}]},process:{title:"Process Library",items:[{path:"/admin/processes",label:"Processes",icon:Ho},{path:"/admin/spiritual-breaths",label:"Spiritual Breaths",icon:wa},{path:"/admin/abundance-mastery",label:"Abundance Mastery",icon:yh},{path:"/admin/my-processes",label:"My Processes",icon:qn}]},project:{title:"Project of Heart",items:[{path:"/admin/project-heart",label:"Overview",icon:ll},{path:"/admin/project-heart",label:"Submissions",icon:Fr},{path:"/admin/project-heart",label:"Settings",icon:Rc}]}};function i5(){const{selectedMenuId:e}=U_(),[t]=Ve(),n=w1[e]||w1.dashboard,r=s5[e]||Oy;return i.jsxs("div",{className:"w-56 bg-white border-r border-gray-200 min-h-screen flex flex-col","data-testid":"secondary-sidebar",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-brand/10 flex items-center justify-center",children:i.jsx(r,{className:"w-4 h-4 text-brand"})}),i.jsx("h2",{className:"font-semibold text-gray-900 text-sm",children:n.title})]})}),i.jsx("nav",{className:"flex-1 p-3",children:i.jsx("div",{className:"space-y-1",children:n.items.map((s,a)=>{const o=s.icon||Fr,l=!s.disableActiveHighlight&&(t===s.path||t.startsWith(s.path+"/"));return i.jsx(by,{href:s.path,children:i.jsxs("button",{"data-testid":`secondary-nav-${s.label.toLowerCase().replace(/\s+/g,"-")}`,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-colors text-sm ${l?"bg-brand/10 text-brand font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{children:s.label})]})},`${s.path}-${a}`)})})}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Dr.M Admin Panel"})})]})}function j1({children:e}){const[t]=Ve();return t==="/admin/login"?i.jsx("div",{className:"min-h-screen bg-gray-50",children:e}):i.jsx(t5,{children:i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[i.jsx(r5,{}),i.jsx(i5,{}),i.jsx("div",{className:"flex-1 overflow-auto",children:e})]})})}const Ae=j.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Ee("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ae.displayName="Input";function a5(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function kh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Dg=e=>Array.isArray(e);function q_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Lc(e){return typeof e=="string"||Array.isArray(e)}function N1(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Zy(e,t,n,r){if(typeof t=="function"){const[s,a]=N1(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=N1(r);t=t(n!==void 0?n:e.custom,s,a)}return t}function _h(e,t,n){const r=e.getProps();return Zy(r,t,n!==void 0?n:r.custom,e)}const Xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jy=["initial",...Xy],mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ma=new Set(mu),xs=e=>e*1e3,bs=e=>e/1e3,o5={type:"spring",stiffness:500,damping:25,restSpeed:10},l5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c5={type:"keyframes",duration:.8},u5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d5=(e,{keyframes:t})=>t.length>2?c5:Ma.has(e)?e.startsWith("scale")?l5(t[1]):o5:u5;function ex(e,t){return e?e[t]||e.default||e:void 0}const f5={skipAnimations:!1,useManualTiming:!1},h5=e=>e!==null;function Ch(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(h5),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const ln=e=>e;let Rg=ln;function p5(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,h=!1,d=!1)=>{const v=d&&r?t:n;return h&&a.add(u),v.has(u)||v.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(l),r=!1,s&&(s=!1,c.process(u))}};return c}const Gu=["read","resolveKeyframes","update","preRender","render","postRender"],m5=40;function z_(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Gu.reduce((g,p)=>(g[p]=p5(a),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:f}=o,v=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,m5),1),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),h.process(s),d.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(v))},x=()=>{n=!0,r=!0,s.isProcessing||e(v)};return{schedule:Gu.reduce((g,p)=>{const b=o[p];return g[p]=(w,N=!1,T=!1)=>(n||x(),b.schedule(w,N,T)),g},{}),cancel:g=>{for(let p=0;p<Gu.length;p++)o[Gu[p]].cancel(g)},state:s,steps:o}}const{schedule:lt,cancel:Es,state:Kt,steps:Fp}=z_(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0),W_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,g5=1e-7,v5=12;function y5(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=W_(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>g5&&++l<v5);return o}function gu(e,t,n,r){if(e===t&&n===r)return ln;const s=a=>y5(a,0,1,e,n);return a=>a===0||a===1?a:W_(s(a),t,r)}const H_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,K_=e=>t=>1-e(1-t),Q_=gu(.33,1.53,.69,.99),tx=K_(Q_),G_=H_(tx),Y_=e=>(e*=2)<1?.5*tx(e):.5*(2-Math.pow(2,-10*(e-1))),nx=e=>1-Math.sin(Math.acos(e)),Z_=K_(nx),X_=H_(nx),J_=e=>/^0[^.\s]+$/u.test(e);function x5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||J_(e):!0}const eC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tC=e=>t=>typeof t=="string"&&t.startsWith(e),nC=tC("--"),b5=tC("var(--"),rx=e=>b5(e)?w5.test(e.split("/*")[0].trim()):!1,w5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,j5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N5(e){const t=j5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function rC(e,t,n=1){const[r,s]=N5(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return eC(o)?parseFloat(o):o}return rx(s)?rC(s,t,n+1):s}const Ts=(e,t,n)=>n>t?t:n<e?e:n,hl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fc={...hl,transform:e=>Ts(0,1,e)},Yu={...hl,default:1},vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$s=vu("deg"),Kr=vu("%"),Ie=vu("px"),S5=vu("vh"),k5=vu("vw"),S1={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},_5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),k1=e=>e===hl||e===Ie,_1=(e,t)=>parseFloat(e.split(", ")[t]),C1=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return _1(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?_1(a[1],e):0}},C5=new Set(["x","y","z"]),E5=mu.filter(e=>!C5.has(e));function T5(e){const t=[];return E5.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Go={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:C1(4,13),y:C1(5,14)};Go.translateX=Go.x;Go.translateY=Go.y;const sC=e=>t=>t.test(e),A5={test:e=>e==="auto",parse:e=>e},iC=[hl,Ie,Kr,$s,k5,S5,A5],E1=e=>iC.find(sC(e)),ua=new Set;let Mg=!1,Ig=!1;function aC(){if(Ig){const e=Array.from(ua).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=T5(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ig=!1,Mg=!1,ua.forEach(e=>e.complete()),ua.clear()}function oC(){ua.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ig=!0)})}function P5(){oC(),aC()}class sx{constructor(t,n,r,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ua.add(this),Mg||(Mg=!0,lt.read(oC),lt.resolveKeyframes(aC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ua.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ua.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oc=e=>Math.round(e*1e5)/1e5,ix=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O5(e){return e==null}const D5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ax=(e,t)=>n=>!!(typeof n=="string"&&D5.test(n)&&n.startsWith(e)||t&&!O5(n)&&Object.prototype.hasOwnProperty.call(n,t)),lC=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(ix);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},R5=e=>Ts(0,255,e),$p={...hl,transform:e=>Math.round(R5(e))},Xi={test:ax("rgb","red"),parse:lC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+$p.transform(e)+", "+$p.transform(t)+", "+$p.transform(n)+", "+oc(Fc.transform(r))+")"};function M5(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lg={test:ax("#"),parse:M5,transform:Xi.transform},so={test:ax("hsl","hue"),parse:lC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Kr.transform(oc(t))+", "+Kr.transform(oc(n))+", "+oc(Fc.transform(r))+")"},sn={test:e=>Xi.test(e)||Lg.test(e)||so.test(e),parse:e=>Xi.test(e)?Xi.parse(e):so.test(e)?so.parse(e):Lg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Xi.transform(e):so.transform(e)},I5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L5(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ix))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(I5))===null||n===void 0?void 0:n.length)||0)>0}const cC="number",uC="color",F5="var",$5="var(",T1="${}",B5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $c(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(B5,c=>(sn.test(c)?(r.color.push(a),s.push(uC),n.push(sn.parse(c))):c.startsWith($5)?(r.var.push(a),s.push(F5),n.push(c)):(r.number.push(a),s.push(cC),n.push(parseFloat(c))),++a,T1)).split(T1);return{values:n,split:l,indexes:r,types:s}}function dC(e){return $c(e).values}function fC(e){const{split:t,types:n}=$c(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===cC?a+=oc(s[o]):l===uC?a+=sn.transform(s[o]):a+=s[o]}return a}}const V5=e=>typeof e=="number"?0:e;function U5(e){const t=dC(e);return fC(e)(t.map(V5))}const Ni={test:L5,parse:dC,createTransformer:fC,getAnimatableNone:U5},q5=new Set(["brightness","contrast","saturate","opacity"]);function z5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ix)||[];if(!r)return e;const s=n.replace(r,"");let a=q5.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const W5=/\b([a-z-]*)\(.*?\)/gu,Fg={...Ni,getAnimatableNone:e=>{const t=e.match(W5);return t?t.map(z5).join(" "):e}},H5={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},K5={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Yu,scaleX:Yu,scaleY:Yu,scaleZ:Yu,skew:$s,skewX:$s,skewY:$s,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Fc,originX:S1,originY:S1,originZ:Ie},A1={...hl,transform:Math.round},ox={...H5,...K5,zIndex:A1,size:Ie,fillOpacity:Fc,strokeOpacity:Fc,numOctaves:A1},Q5={...ox,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Fg,WebkitFilter:Fg},lx=e=>Q5[e];function hC(e,t){let n=lx(e);return n!==Fg&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const G5=new Set(["auto","none","0"]);function Y5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!G5.has(a)&&$c(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=hC(n,s)}class pC extends sx{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),rx(u))){const h=rC(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_5.has(r)||t.length!==2)return;const[s,a]=t,o=E1(s),l=E1(a);if(o!==l)if(k1(o)&&k1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)x5(t[s])&&r.push(s);r.length&&Y5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Go[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Go[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function cx(e){return typeof e=="function"}let _d;function Z5(){_d=void 0}const Qr={now:()=>(_d===void 0&&Qr.set(Kt.isProcessing||f5.useManualTiming?Kt.timestamp:performance.now()),_d),set:e=>{_d=e,queueMicrotask(Z5)}},P1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ni.test(e)||e==="0")&&!e.startsWith("url("));function X5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function J5(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=P1(s,t),l=P1(a,t);return!o||!l?!1:X5(e)||(n==="spring"||cx(n))&&r}const eF=40;class mC{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qr.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&P5(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Qr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!J5(t,r,s,a))if(o)this.options.duration=0;else{c==null||c(Ch(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Yo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},gC=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(Yo(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function vC(e,t){return t?e*(1e3/t):0}const tF=5;function yC(e,t,n){const r=Math.max(t-tF,0);return vC(n-e(r),t-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function nF({duration:e=Et.duration,bounce:t=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let s,a,o=1-t;o=Ts(Et.minDamping,Et.maxDamping,o),e=Ts(Et.minDuration,Et.maxDuration,bs(e)),o<1?(s=u=>{const h=u*o,d=h*e,f=h-n,v=$g(u,o),x=Math.exp(-d);return Bp-f/v*x},a=u=>{const d=u*o*e,f=d*n+n,v=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-d),m=$g(Math.pow(u,2),o);return(-s(u)+Bp>0?-1:1)*((f-v)*x)/m}):(s=u=>{const h=Math.exp(-u*e),d=(u-n)*e+1;return-Bp+h*d},a=u=>{const h=Math.exp(-u*e),d=(n-u)*(e*e);return h*d});const l=5/e,c=sF(s,a,l);if(e=xs(e),isNaN(c))return{stiffness:Et.stiffness,damping:Et.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const rF=12;function sF(e,t,n){let r=n;for(let s=1;s<rF;s++)r=r-e(r)/t(r);return r}function $g(e,t){return e*Math.sqrt(1-t*t)}const Bg=2e4;function xC(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Bg;)t+=n,r=e.next(t);return t>=Bg?1/0:t}const iF=["duration","bounce"],aF=["stiffness","damping","mass"];function O1(e,t){return t.some(n=>e[n]!==void 0)}function oF(e){let t={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...e};if(!O1(e,aF)&&O1(e,iF))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Ts(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:Et.mass,stiffness:s,damping:a}}else{const n=nF(e);t={...t,...n,mass:Et.mass},t.isResolvedFromDuration=!0}return t}function bC(e=Et.visualDuration,t=Et.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:v}=oF({...n,velocity:-bs(n.velocity||0)}),x=f||0,m=u/(2*Math.sqrt(c*h)),y=o-a,g=bs(Math.sqrt(c/h)),p=Math.abs(y)<5;r||(r=p?Et.restSpeed.granular:Et.restSpeed.default),s||(s=p?Et.restDelta.granular:Et.restDelta.default);let b;if(m<1){const N=$g(g,m);b=T=>{const S=Math.exp(-m*g*T);return o-S*((x+m*g*y)/N*Math.sin(N*T)+y*Math.cos(N*T))}}else if(m===1)b=N=>o-Math.exp(-g*N)*(y+(x+g*y)*N);else{const N=g*Math.sqrt(m*m-1);b=T=>{const S=Math.exp(-m*g*T),E=Math.min(N*T,300);return o-S*((x+m*g*y)*Math.sinh(E)+N*y*Math.cosh(E))/N}}const w={calculatedDuration:v&&d||null,next:N=>{const T=b(N);if(v)l.done=N>=d;else{let S=0;m<1&&(S=N===0?xs(x):yC(b,N,T));const E=Math.abs(S)<=r,A=Math.abs(o-T)<=s;l.done=E&&A}return l.value=l.done?o:T,l},toString:()=>{const N=Math.min(xC(w),Bg),T=gC(S=>w.next(N*S).value,N,30);return N+"ms "+T}};return w}function D1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const d=e[0],f={done:!1,value:d},v=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let m=n*t;const y=d+m,g=o===void 0?y:o(y);g!==y&&(m=g-d);const p=E=>-m*Math.exp(-E/r),b=E=>g+p(E),w=E=>{const A=p(E),C=b(E);f.done=Math.abs(A)<=u,f.value=f.done?g:C};let N,T;const S=E=>{v(f.value)&&(N=E,T=bC({keyframes:[f.value,x(f.value)],velocity:yC(b,E,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:E=>{let A=!1;return!T&&N===void 0&&(A=!0,w(E),S(E)),N!==void 0&&E>=N?T.next(E-N):(!A&&w(E),f)}}}const lF=gu(.42,0,1,1),cF=gu(0,0,.58,1),wC=gu(.42,0,.58,1),uF=e=>Array.isArray(e)&&typeof e[0]!="number",ux=e=>Array.isArray(e)&&typeof e[0]=="number",R1={linear:ln,easeIn:lF,easeInOut:wC,easeOut:cF,circIn:nx,circInOut:X_,circOut:Z_,backIn:tx,backInOut:G_,backOut:Q_,anticipate:Y_},M1=e=>{if(ux(e)){Rg(e.length===4);const[t,n,r,s]=e;return gu(t,n,r,s)}else if(typeof e=="string")return Rg(R1[e]!==void 0),R1[e];return e},dF=(e,t)=>n=>t(e(n)),pi=(...e)=>e.reduce(dF),jt=(e,t,n)=>e+(t-e)*n;function Vp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Vp(c,l,e+1/3),a=Vp(c,l,e),o=Vp(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function gf(e,t){return n=>n>0?t:e}const Up=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},hF=[Lg,Xi,so],pF=e=>hF.find(t=>t.test(e));function I1(e){const t=pF(e);if(!t)return!1;let n=t.parse(e);return t===so&&(n=fF(n)),n}const L1=(e,t)=>{const n=I1(e),r=I1(t);if(!n||!r)return gf(e,t);const s={...n};return a=>(s.red=Up(n.red,r.red,a),s.green=Up(n.green,r.green,a),s.blue=Up(n.blue,r.blue,a),s.alpha=jt(n.alpha,r.alpha,a),Xi.transform(s))},Vg=new Set(["none","hidden"]);function mF(e,t){return Vg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function gF(e,t){return n=>jt(e,t,n)}function dx(e){return typeof e=="number"?gF:typeof e=="string"?rx(e)?gf:sn.test(e)?L1:xF:Array.isArray(e)?jC:typeof e=="object"?sn.test(e)?L1:vF:gf}function jC(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>dx(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function vF(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=dx(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function yF(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,s[o]++}return r}const xF=(e,t)=>{const n=Ni.createTransformer(t),r=$c(e),s=$c(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Vg.has(e)&&!s.values.length||Vg.has(t)&&!r.values.length?mF(e,t):pi(jC(yF(r,s),s.values),n):gf(e,t)};function NC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jt(e,t,n):dx(e)(e,t)}function bF(e,t,n){const r=[],s=n||NC,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ln:t;l=pi(c,l)}r.push(l)}return r}function SC(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(Rg(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bF(t,r,s),l=o.length,c=u=>{let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const d=Yo(e[h],e[h+1],u);return o[h](d)};return n?u=>c(Ts(e[0],e[a-1],u)):c}function wF(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Yo(0,t,r);e.push(jt(n,1,s))}}function jF(e){const t=[0];return wF(t,e.length-1),t}function NF(e,t){return e.map(n=>n*t)}function SF(e,t){return e.map(()=>t||wC).splice(0,e.length-1)}function vf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=uF(r)?r.map(M1):M1(r),a={done:!1,value:t[0]},o=NF(n&&n.length===t.length?n:jF(t),e),l=SC(o,t,{ease:Array.isArray(s)?s:SF(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const kF=e=>{const t=({timestamp:n})=>e(n);return{start:()=>lt.update(t,!0),stop:()=>Es(t),now:()=>Kt.isProcessing?Kt.timestamp:Qr.now()}},_F={decay:D1,inertia:D1,tween:vf,keyframes:vf,spring:bC},CF=e=>e/100;class fx extends mC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||sx,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=cx(n)?n:_F[n]||vf;let c,u;l!==vf&&typeof t[0]!="number"&&(c=pi(CF,NC(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=xC(h));const{calculatedDuration:d}=h,f=d+s,v=f*(r+1)-s;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:f,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:v,repeatType:x,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let b=this.currentTime,w=a;if(v){const E=Math.min(this.currentTime,h)/d;let A=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&A--,A=Math.min(A,v+1),!!(A%2)&&(x==="reverse"?(C=1-C,m&&(C-=m/d)):x==="mirror"&&(w=o)),b=Ts(0,1,C)*d}const N=p?{done:!1,value:c[0]}:w.next(b);l&&(N.value=l(N.value));let{done:T}=N;!p&&u!==null&&(T=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return S&&s!==void 0&&(N.value=Ch(c,this.options,s)),y&&y(N.value),S&&this.finish(),N}get duration(){const{resolved:t}=this;return t?bs(t.calculatedDuration):0}get time(){return bs(this.currentTime)}set time(t){t=xs(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=kF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const EF=new Set(["opacity","clipPath","filter","transform"]);function hx(e){let t;return()=>(t===void 0&&(t=e()),t)}const TF={linearEasing:void 0};function AF(e,t){const n=hx(e);return()=>{var r;return(r=TF[t])!==null&&r!==void 0?r:n()}}const yf=AF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function kC(e){return!!(typeof e=="function"&&yf()||!e||typeof e=="string"&&(e in Ug||yf())||ux(e)||Array.isArray(e)&&e.every(kC))}const Wl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ug={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wl([0,.65,.55,1]),circOut:Wl([.55,0,1,.45]),backIn:Wl([.31,.01,.66,-.59]),backOut:Wl([.33,1.53,.69,.99])};function _C(e,t){if(e)return typeof e=="function"&&yf()?gC(e,t):ux(e)?Wl(e):Array.isArray(e)?e.map(n=>_C(n,t)||Ug.easeOut):Ug[e]}function PF(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const h=_C(l,s);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function F1(e,t){e.timeline=t,e.onfinish=null}const OF=hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xf=10,DF=2e4;function RF(e){return cx(e.type)||e.type==="spring"||!kC(e.ease)}function MF(e,t){const n=new fx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<DF;)r=n.sample(a),s.push(r.value),a+=xf;return{times:void 0,keyframes:s,duration:a-xf,ease:"linear"}}const CC={anticipate:Y_,backInOut:G_,circInOut:X_};function IF(e){return e in CC}class $1 extends mC{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new pC(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:a,ease:o,type:l,motionValue:c,name:u,startTime:h}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&yf()&&IF(o)&&(o=CC[o]),RF(this.options)){const{onComplete:f,onUpdate:v,motionValue:x,element:m,...y}=this.options,g=MF(t,y);t=g.keyframes,t.length===1&&(t[1]=t[0]),s=g.duration,a=g.times,o=g.ease,l="keyframes"}const d=PF(c.owner.current,u,t,{...this.options,duration:s,times:a,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(F1(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;c.set(Ch(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:a,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return bs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return bs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=xs(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ln;const{animation:r}=n;F1(r,t)}return ln}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...v}=this.options,x=new fx({...v,keyframes:r,duration:s,type:a,ease:o,times:l,isGenerator:!0}),m=xs(this.time);u.setWithVelocity(x.sample(m-xf).value,x.sample(m).value,xf)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:o,type:l}=t;return OF()&&r&&EF.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const LF=hx(()=>window.ScrollTimeline!==void 0);class FF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>LF()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function $F({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const px=(e,t,n,r={},s,a)=>o=>{const l=ex(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-xs(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};$F(l)||(h={...h,...d5(e,h)}),h.duration&&(h.duration=xs(h.duration)),h.repeatDelay&&(h.repeatDelay=xs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!a&&t.get()!==void 0){const f=Ch(h.keyframes,l);if(f!==void 0)return lt.update(()=>{h.onUpdate(f),h.onComplete()}),new FF([])}return!a&&$1.supports(h)?new $1(h):new fx(h)},BF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),VF=e=>Dg(e)?e[e.length-1]||0:e;function mx(e,t){e.indexOf(t)===-1&&e.push(t)}function gx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function UF([...e],t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const s=n<0?e.length+n:n,[a]=e.splice(t,1);e.splice(s,0,a)}return e}class vx{constructor(){this.subscriptions=[]}add(t){return mx(this.subscriptions,t),()=>gx(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B1=30,qF=e=>!isNaN(parseFloat(e)),lc={current:void 0};class zF{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Qr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vx);const r=this.events[t].add(n);return t==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return lc.current&&lc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>B1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B1);return vC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zo(e,t){return new zF(e,t)}function WF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zo(n))}function HF(e,t){const n=_h(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=VF(a[o]);WF(e,o,l)}}const yx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KF="framerAppearId",EC="data-"+yx(KF);function TC(e){return e.props[EC]}const Qt=e=>!!(e&&e.getVelocity);function QF(e){return!!(Qt(e)&&e.add)}function qg(e,t){const n=e.getValue("willChange");if(QF(n))return n.add(t)}function GF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AC(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const d in c){const f=e.getValue(d,(a=e.latestValues[d])!==null&&a!==void 0?a:null),v=c[d];if(v===void 0||h&&GF(h,d))continue;const x={delay:n,...ex(o||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=TC(e);if(g){const p=window.MotionHandoffAnimation(g,d,lt);p!==null&&(x.startTime=p,m=!0)}}qg(e,d),f.start(px(d,f,v,e.shouldReduceMotion&&Ma.has(d)?{type:!1}:x,e,m));const y=f.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{lt.update(()=>{l&&HF(e,l)})}),u}function zg(e,t,n={}){var r;const s=_h(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(AC(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=a;return YF(e,t,h+u,d,f,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function YF(e,t,n=0,r=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(ZF).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(zg(u,t,{...a,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function ZF(e,t){return e.sortNodePosition(t)}function XF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>zg(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=zg(e,t,n);else{const s=typeof t=="function"?_h(e,t,n.custom):t;r=Promise.all(AC(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const JF=Jy.length;function PC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JF;n++){const r=Jy[n],s=e.props[r];(Lc(s)||s===!1)&&(t[r]=s)}return t}const e6=[...Xy].reverse(),t6=Xy.length;function n6(e){return t=>Promise.all(t.map(({animation:n,options:r})=>XF(e,n,r)))}function r6(e){let t=n6(e),n=V1(),r=!0;const s=c=>(u,h)=>{var d;const f=_h(e,h,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:v,transitionEnd:x,...m}=f;u={...u,...m,...x}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,h=PC(e.parent)||{},d=[],f=new Set;let v={},x=1/0;for(let y=0;y<t6;y++){const g=e6[y],p=n[g],b=u[g]!==void 0?u[g]:h[g],w=Lc(b),N=g===c?p.isActive:null;N===!1&&(x=y);let T=b===h[g]&&b!==u[g]&&w;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...v},!p.isActive&&N===null||!b&&!p.prevProp||kh(b)||typeof b=="boolean")continue;const S=s6(p.prevProp,b);let E=S||g===c&&p.isActive&&!T&&w||y>x&&w,A=!1;const C=Array.isArray(b)?b:[b];let _=C.reduce(s(g),{});N===!1&&(_={});const{prevResolvedValues:k={}}=p,P={...k,..._},M=L=>{E=!0,f.has(L)&&(A=!0,f.delete(L)),p.needsAnimating[L]=!0;const F=e.getValue(L);F&&(F.liveStyle=!1)};for(const L in P){const F=_[L],R=k[L];if(v.hasOwnProperty(L))continue;let O=!1;Dg(F)&&Dg(R)?O=!q_(F,R):O=F!==R,O?F!=null?M(L):f.add(L):F!==void 0&&f.has(L)?M(L):p.protectedKeys[L]=!0}p.prevProp=b,p.prevResolvedValues=_,p.isActive&&(v={...v,..._}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(T&&S)||A)&&d.push(...C.map(L=>({animation:L,options:{type:g}})))}if(f.size){const y={};f.forEach(g=>{const p=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),y[g]=p??null}),d.push({animation:y})}let m=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=V1(),r=!0}}}function s6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!q_(t,e):!1}function Ui(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:Ui(!0),whileInView:Ui(),whileHover:Ui(),whileTap:Ui(),whileDrag:Ui(),whileFocus:Ui(),exit:Ui()}}class $i{constructor(t){this.isMounted=!1,this.node=t}update(){}}class i6 extends $i{constructor(t){super(t),t.animationState||(t.animationState=r6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let a6=0;class o6 extends $i{constructor(){super(...arguments),this.id=a6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const l6={animation:{Feature:i6},exit:{Feature:o6}};function c6(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const or={x:!1,y:!1};function OC(){return or.x||or.y}function U1(e){return t=>{t.pointerType==="touch"||OC()||e(t)}}function u6(e,t,n={}){const r=new AbortController,s={passive:!0,...n,signal:r.signal},a=U1(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const u=U1(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return c6(e).forEach(o=>{o.addEventListener("pointerenter",a,s)}),()=>r.abort()}function d6(e){return e==="x"||e==="y"?or[e]?null:(or[e]=!0,()=>{or[e]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}const DC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function yu(e){return{point:{x:e.pageX,y:e.pageY}}}const f6=e=>t=>DC(t)&&e(t,yu(t));function ps(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function mi(e,t,n,r){return ps(e,t,f6(n),r)}const q1=(e,t)=>Math.abs(e-t);function h6(e,t){const n=q1(e.x,t.x),r=q1(e.y,t.y);return Math.sqrt(n**2+r**2)}class RC{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=zp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=h6(d.offset,{x:0,y:0})>=3;if(!f&&!v)return;const{point:x}=d,{timestamp:m}=Kt;this.history.push({...x,timestamp:m});const{onStart:y,onMove:g}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=qp(f,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=zp(d.type==="pointercancel"?this.lastMoveEventInfo:qp(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,y),x&&x(d,y)},!DC(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=yu(t),l=qp(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Kt;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,zp(l,this.history)),this.removeListeners=pi(mi(this.contextWindow,"pointermove",this.handlePointerMove),mi(this.contextWindow,"pointerup",this.handlePointerUp),mi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Es(this.updatePoint)}}function qp(e,t){return t?{point:t(e.point)}:e}function z1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zp({point:e},t){return{point:e,delta:z1(e,MC(t)),offset:z1(e,p6(t)),velocity:m6(t,.1)}}function p6(e){return e[0]}function MC(e){return e[e.length-1]}function m6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=MC(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>xs(t)));)n--;if(!r)return{x:0,y:0};const a=bs(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function io(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const IC=1e-4,g6=1-IC,v6=1+IC,LC=.01,y6=0-LC,x6=0+LC;function zn(e){return e.max-e.min}function b6(e,t,n){return Math.abs(e-t)<=n}function W1(e,t,n,r=.5){e.origin=r,e.originPoint=jt(t.min,t.max,e.origin),e.scale=zn(n)/zn(t),e.translate=jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=g6&&e.scale<=v6||isNaN(e.scale))&&(e.scale=1),(e.translate>=y6&&e.translate<=x6||isNaN(e.translate))&&(e.translate=0)}function cc(e,t,n,r){W1(e.x,t.x,n.x,r?r.originX:void 0),W1(e.y,t.y,n.y,r?r.originY:void 0)}function H1(e,t,n){e.min=n.min+t.min,e.max=e.min+zn(t)}function w6(e,t,n){H1(e.x,t.x,n.x),H1(e.y,t.y,n.y)}function K1(e,t,n){e.min=t.min-n.min,e.max=e.min+zn(t)}function uc(e,t,n){K1(e.x,t.x,n.x),K1(e.y,t.y,n.y)}function j6(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?jt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?jt(n,e,r.max):Math.min(e,n)),e}function Q1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function N6(e,{top:t,left:n,bottom:r,right:s}){return{x:Q1(e.x,n,s),y:Q1(e.y,t,r)}}function G1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function S6(e,t){return{x:G1(e.x,t.x),y:G1(e.y,t.y)}}function k6(e,t){let n=.5;const r=zn(e),s=zn(t);return s>r?n=Yo(t.min,t.max-r,e.min):r>s&&(n=Yo(e.min,e.max-s,t.min)),Ts(0,1,n)}function _6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Wg=.35;function C6(e=Wg){return e===!1?e=0:e===!0&&(e=Wg),{x:Y1(e,"left","right"),y:Y1(e,"top","bottom")}}function Y1(e,t,n){return{min:Z1(e,t),max:Z1(e,n)}}function Z1(e,t){return typeof e=="number"?e:e[t]||0}const X1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:X1(),y:X1()}),J1=()=>({min:0,max:0}),At=()=>({x:J1(),y:J1()});function Qn(e){return[e("x"),e("y")]}function FC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function E6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function T6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wp(e){return e===void 0||e===1}function Hg({scale:e,scaleX:t,scaleY:n}){return!Wp(e)||!Wp(t)||!Wp(n)}function Wi(e){return Hg(e)||$C(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $C(e){return ew(e.x)||ew(e.y)}function ew(e){return e&&e!=="0%"}function bf(e,t,n){const r=e-n,s=t*r;return n+s}function tw(e,t,n,r,s){return s!==void 0&&(e=bf(e,s,r)),bf(e,n,r)+t}function Kg(e,t=0,n=1,r,s){e.min=tw(e.min,t,n,r,s),e.max=tw(e.max,t,n,r,s)}function BC(e,{x:t,y:n}){Kg(e.x,t.translate,t.scale,t.originPoint),Kg(e.y,n.translate,n.scale,n.originPoint)}const nw=.999999999999,rw=1.0000000000001;function A6(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&lo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,BC(e,o)),r&&Wi(a.latestValues)&&lo(e,a.latestValues))}t.x<rw&&t.x>nw&&(t.x=1),t.y<rw&&t.y>nw&&(t.y=1)}function oo(e,t){e.min=e.min+t,e.max=e.max+t}function sw(e,t,n,r,s=.5){const a=jt(e.min,e.max,s);Kg(e,t,n,a,r)}function lo(e,t){sw(e.x,t.x,t.scaleX,t.scale,t.originX),sw(e.y,t.y,t.scaleY,t.scale,t.originY)}function VC(e,t){return FC(T6(e.getBoundingClientRect(),t))}function P6(e,t,n){const r=VC(e,n),{scroll:s}=t;return s&&(oo(r.x,s.offset.x),oo(r.y,s.offset.y)),r}const UC=({current:e})=>e?e.ownerDocument.defaultView:null,O6=new WeakMap;class D6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yu(h).point)},a=(h,d)=>{const{drag:f,dragPropagation:v,onDragStart:x}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d6(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Kr.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const b=p.layout.layoutBox[y];b&&(g=zn(b)*(parseFloat(g)/100))}}this.originPoint[y]=g}),x&&lt.postRender(()=>x(h,d)),qg(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:x,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=d;if(v&&this.currentDirection===null){this.currentDirection=R6(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),m&&m(h,d)},l=(h,d)=>this.stop(h,d),c=()=>Qn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new RC(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:UC(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&lt.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Zu(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=j6(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&io(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=N6(s.layoutBox,n):this.constraints=!1,this.elastic=C6(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_6(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!io(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=P6(r,s.root,this.visualElement.getTransformPagePoint());let o=S6(s.layout.layoutBox,a);if(n){const l=n(E6(o));this.hasMutatedConstraints=!!l,l&&(o=FC(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Qn(h=>{if(!Zu(h,n,this.currentDirection))return;let d=c&&c[h]||{};o&&(d={min:0,max:0});const f=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:r?t[h]:0,bounceStiffness:f,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return qg(this.visualElement,t),r.start(px(t,r,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:r}=this.getProps();if(!Zu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-jt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!io(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=k6({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(o=>{if(!Zu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(jt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;O6.set(this.visualElement,this);const t=this.visualElement.current,n=mi(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();io(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),lt.read(r);const o=ps(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Wg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Zu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function R6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class M6 extends $i{constructor(t){super(t),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new D6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const iw=e=>(t,n)=>{e&&lt.postRender(()=>e(t,n))};class I6 extends $i{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(t){this.session=new RC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:iw(t),onStart:iw(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&lt.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=mi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eh=j.createContext(null);function L6(){const e=j.useContext(Eh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=j.useId();j.useEffect(()=>r(s),[]);const a=j.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,a]:[!0]}const xx=j.createContext({}),qC=j.createContext({}),Cd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ol={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=aw(e,t.target.x),r=aw(e,t.target.y);return`${n}% ${r}%`}},F6={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ni.parse(e);if(s.length>5)return r;const a=Ni.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=jt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}},wf={};function $6(e){Object.assign(wf,e)}const{schedule:bx,cancel:EJ}=z_(queueMicrotask,!1);class B6 extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;$6(V6),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||lt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zC(e){const[t,n]=L6(),r=j.useContext(xx);return i.jsx(B6,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(qC),isPresent:t,safeToRemove:n})}const V6={borderRadius:{...Ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ol,borderTopRightRadius:Ol,borderBottomLeftRadius:Ol,borderBottomRightRadius:Ol,boxShadow:F6},WC=["TopLeft","TopRight","BottomLeft","BottomRight"],U6=WC.length,ow=e=>typeof e=="string"?parseFloat(e):e,lw=e=>typeof e=="number"||Ie.test(e);function q6(e,t,n,r,s,a){s?(e.opacity=jt(0,n.opacity!==void 0?n.opacity:1,z6(r)),e.opacityExit=jt(t.opacity!==void 0?t.opacity:1,0,W6(r))):a&&(e.opacity=jt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<U6;o++){const l=`border${WC[o]}Radius`;let c=cw(t,l),u=cw(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||lw(c)===lw(u)?(e[l]=Math.max(jt(ow(c),ow(u),r),0),(Kr.test(u)||Kr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=jt(t.rotate||0,n.rotate||0,r))}function cw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z6=HC(0,.5,Z_),W6=HC(.5,.95,ln);function HC(e,t,n){return r=>r<e?0:r>t?1:n(Yo(e,t,r))}function uw(e,t){e.min=t.min,e.max=t.max}function Kn(e,t){uw(e.x,t.x),uw(e.y,t.y)}function dw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fw(e,t,n,r,s){return e-=t,e=bf(e,1/n,r),s!==void 0&&(e=bf(e,1/s,r)),e}function H6(e,t=0,n=1,r=.5,s,a=e,o=e){if(Kr.test(t)&&(t=parseFloat(t),t=jt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=jt(a.min,a.max,r);e===a&&(l-=t),e.min=fw(e.min,t,n,l,s),e.max=fw(e.max,t,n,l,s)}function hw(e,t,[n,r,s],a,o){H6(e,t[n],t[r],t[s],t.scale,a,o)}const K6=["x","scaleX","originX"],Q6=["y","scaleY","originY"];function pw(e,t,n,r){hw(e.x,t,K6,n?n.x:void 0,r?r.x:void 0),hw(e.y,t,Q6,n?n.y:void 0,r?r.y:void 0)}function mw(e){return e.translate===0&&e.scale===1}function KC(e){return mw(e.x)&&mw(e.y)}function gw(e,t){return e.min===t.min&&e.max===t.max}function G6(e,t){return gw(e.x,t.x)&&gw(e.y,t.y)}function vw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function QC(e,t){return vw(e.x,t.x)&&vw(e.y,t.y)}function yw(e){return zn(e.x)/zn(e.y)}function xw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Y6{constructor(){this.members=[]}add(t){mx(this.members,t),t.scheduleRender()}remove(t){if(gx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z6(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:v,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const X6=(e,t)=>e.depth-t.depth;class J6{constructor(){this.children=[],this.isDirty=!1}add(t){mx(this.children,t),this.isDirty=!0}remove(t){gx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X6),this.isDirty=!1,this.children.forEach(t)}}function Ed(e){const t=Qt(e)?e.get():e;return BF(t)?t.toValue():t}function e$(e,t){const n=Qr.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Es(r),e(a-t))};return lt.read(r,!0),()=>Es(r)}function t$(e){return e instanceof SVGElement&&e.tagName!=="svg"}function n$(e,t,n){const r=Qt(e)?e:Zo(e);return r.start(px("",r,t,n)),r.animation}const Hi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hl=typeof window<"u"&&window.MotionDebug!==void 0,Hp=["","X","Y","Z"],r$={visibility:"hidden"},bw=1e3;let s$=0;function Kp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=TC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GC(r)}function YC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=s$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hl&&(Hi.totalNodes=Hi.resolvedTargetDeltas=Hi.recalculatedProjection=0),this.nodes.forEach(o$),this.nodes.forEach(f$),this.nodes.forEach(h$),this.nodes.forEach(l$),Hl&&window.MotionDebug.record(Hi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new J6)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t$(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=e$(f,250),Cd.hasAnimatedSinceResize&&(Cd.hasAnimatedSinceResize=!1,this.nodes.forEach(jw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||h.getDefaultTransition()||y$,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=h.getProps(),p=!this.targetLayout||!QC(this.targetLayout,x)||v,b=!f&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...ex(m,"layout"),onPlay:y,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||jw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ww);return}this.isUpdating||this.nodes.forEach(u$),this.isUpdating=!1,this.nodes.forEach(d$),this.nodes.forEach(i$),this.nodes.forEach(a$),this.clearAllSnapshots();const l=Qr.now();Kt.delta=Ts(0,1e3/60,l-Kt.timestamp),Kt.timestamp=l,Kt.isProcessing=!0,Fp.update.process(Kt),Fp.preRender.process(Kt),Fp.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c$),this.sharedNodes.forEach(m$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!KC(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||Wi(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),x$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return At();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(b$))){const{scroll:h}=this.root;h&&(oo(c.x,h.offset.x),oo(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=At();if(Kn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Kn(c,o),oo(c.x,d.offset.x),oo(c.y,d.offset.y))}return c}applyTransform(o,l=!1){const c=At();Kn(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&lo(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Wi(h.latestValues)&&lo(c,h.latestValues)}return Wi(this.latestValues)&&lo(c,this.latestValues),c}removeTransform(o){const l=At();Kn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Wi(u.latestValues))continue;Hg(u.latestValues)&&u.updateSnapshot();const h=At(),d=u.measurePageBox();Kn(h,d),pw(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Wi(this.latestValues)&&pw(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),uc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),BC(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),uc(this.relativeTargetOrigin,this.target,v.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hl&&Hi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||$C(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Kn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,v=this.treeScale.y;A6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=At());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dw(this.prevProjectionDelta.x,this.projectionDelta.x),dw(this.prevProjectionDelta.y,this.projectionDelta.y)),cc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==v||!xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Hl&&Hi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ao(),this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=At(),v=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=v!==x,y=this.getStack(),g=!y||y.members.length<=1,p=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(v$));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const N=w/1e3;Nw(d.x,o.x,N),Nw(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g$(this.relativeTarget,this.relativeTargetOrigin,f,N),b&&G6(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=At()),Kn(b,this.relativeTarget)),m&&(this.animationValues=h,q6(h,u,this.latestValues,N,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Cd.hasAnimatedSinceResize=!0,this.currentAnimation=n$(0,bw,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&ZC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||At();const d=zn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=zn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Kn(l,c),lo(l,h),cc(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Y6),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Kp("z",o,u,this.animationValues);for(let h=0;h<Hp.length;h++)Kp(`rotate${Hp[h]}`,o,u,this.animationValues),Kp(`skew${Hp[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r$;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ed(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ed(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Wi(this.latestValues)&&(m.transform=h?h({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Z6(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in wf){if(f[m]===void 0)continue;const{correct:y,applyTo:g}=wf[m],p=u.transform==="none"?f[m]:y(f[m],d);if(g){const b=g.length;for(let w=0;w<b;w++)u[g[w]]=p}else u[m]=p}return this.options.layoutId&&(u.pointerEvents=d===this?Ed(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ww),this.root.sharedNodes.clear()}}}function i$(e){e.updateLayout()}function a$(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Qn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],v=zn(f);f.min=r[d].min,f.max=f.min+v}):ZC(a,n.layoutBox,r)&&Qn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],v=zn(r[d]);f.max=f.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+v)});const l=ao();cc(l,r,n.layoutBox);const c=ao();o?cc(c,e.applyTransform(s,!0),n.measuredBox):cc(c,r,n.layoutBox);const u=!KC(l);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:v}=d;if(f&&v){const x=At();uc(x,n.layoutBox,f.layoutBox);const m=At();uc(m,r,v.layoutBox),QC(x,m)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=x,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function o$(e){Hl&&Hi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function l$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function c$(e){e.clearSnapshot()}function ww(e){e.clearMeasurements()}function u$(e){e.isLayoutDirty=!1}function d$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function f$(e){e.resolveTargetDelta()}function h$(e){e.calcProjection()}function p$(e){e.resetSkewAndRotation()}function m$(e){e.removeLeadSnapshot()}function Nw(e,t,n){e.translate=jt(t.translate,0,n),e.scale=jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sw(e,t,n,r){e.min=jt(t.min,n.min,r),e.max=jt(t.max,n.max,r)}function g$(e,t,n,r){Sw(e.x,t.x,n.x,r),Sw(e.y,t.y,n.y,r)}function v$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const y$={duration:.45,ease:[.4,0,.1,1]},kw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_w=kw("applewebkit/")&&!kw("chrome/")?Math.round:ln;function Cw(e){e.min=_w(e.min),e.max=_w(e.max)}function x$(e){Cw(e.x),Cw(e.y)}function ZC(e,t,n){return e==="position"||e==="preserve-aspect"&&!b6(yw(t),yw(n),.2)}function b$(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const w$=YC({attachResizeListener:(e,t)=>ps(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qp={current:void 0},XC=YC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qp.current){const e=new w$({});e.mount(window),e.setOptions({layoutScroll:!0}),Qp.current=e}return Qp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),j$={pan:{Feature:I6},drag:{Feature:M6,ProjectionNode:XC,MeasureLayout:zC}};function Ew(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const s=r[n?"onHoverStart":"onHoverEnd"];s&&lt.postRender(()=>s(t,yu(t)))}class N$ extends $i{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=u6(t,r=>(Ew(this.node,r,!0),s=>Ew(this.node,s,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class S$ extends $i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pi(ps(this.node.current,"focus",()=>this.onFocus()),ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const JC=(e,t)=>t?e===t?!0:JC(e,t.parentElement):!1;function Gp(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,yu(n))}class k$ extends $i{constructor(){super(...arguments),this.removeStartListeners=ln,this.removeEndListeners=ln,this.removeAccessibleListeners=ln,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=mi(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!JC(this.node.current,l.target)?h:u;f&&lt.update(()=>f(l,c))},{passive:!(r.onTap||r.onPointerUp)}),o=mi(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pi(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Gp("up",(c,u)=>{const{onTap:h}=this.node.getProps();h&&lt.postRender(()=>h(c,u))})};this.removeEndListeners(),this.removeEndListeners=ps(this.node.current,"keyup",o),Gp("down",(l,c)=>{this.startPress(l,c)})},n=ps(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gp("cancel",(a,o)=>this.cancelPress(a,o))},s=ps(this.node.current,"blur",r);this.removeAccessibleListeners=pi(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&lt.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OC()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&lt.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=mi(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ps(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qg=new WeakMap,Yp=new WeakMap,_$=e=>{const t=Qg.get(e.target);t&&t(e)},C$=e=>{e.forEach(_$)};function E$({root:e,...t}){const n=e||document;Yp.has(n)||Yp.set(n,{});const r=Yp.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(C$,{root:e,...t})),r[s]}function T$(e,t,n){const r=E$(t);return Qg.set(e,n),r.observe(e),()=>{Qg.delete(e),r.unobserve(e)}}const A$={some:0,all:1};class P$ extends $i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:A$[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return T$(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(O$(t,n))&&this.startObserver()}unmount(){}}function O$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const D$={inView:{Feature:P$},tap:{Feature:k$},focus:{Feature:S$},hover:{Feature:N$}},R$={layout:{ProjectionNode:XC,MeasureLayout:zC}},Th=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ah=j.createContext({}),wx=typeof window<"u",jx=wx?j.useLayoutEffect:j.useEffect,eE=j.createContext({strict:!1});function M$(e,t,n,r,s){var a,o;const{visualElement:l}=j.useContext(Ah),c=j.useContext(eE),u=j.useContext(Eh),h=j.useContext(Th).reducedMotion,d=j.useRef();r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,v=j.useContext(qC);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&I$(d.current,n,s,v);const x=j.useRef(!1);j.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const m=n[EC],y=j.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return jx(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),bx.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),y.current=!1))}),f}function I$(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tE(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&io(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function tE(e){if(e)return e.options.allowProjection!==!1?e.projection:tE(e.parent)}function L$(e,t,n){return j.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):io(n)&&(n.current=r))},[t])}function Ph(e){return kh(e.animate)||Jy.some(t=>Lc(e[t]))}function nE(e){return!!(Ph(e)||e.variants)}function F$(e,t){if(Ph(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Lc(n)?n:void 0,animate:Lc(r)?r:void 0}}return e.inherit!==!1?t:{}}function $$(e){const{initial:t,animate:n}=F$(e,j.useContext(Ah));return j.useMemo(()=>({initial:t,animate:n}),[Tw(t),Tw(n)])}function Tw(e){return Array.isArray(e)?e.join(" "):e}const Aw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in Aw)Xo[e]={isEnabled:t=>Aw[e].some(n=>!!t[n])};function B$(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const V$=Symbol.for("motionComponentSymbol");function U$({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&B$(e);function a(l,c){let u;const h={...j.useContext(Th),...l,layoutId:q$(l)},{isStatic:d}=h,f=$$(l),v=r(l,d);if(!d&&wx){z$();const x=W$(h);u=x.MeasureLayout,f.visualElement=M$(s,v,h,t,x.ProjectionNode)}return i.jsxs(Ah.Provider,{value:f,children:[u&&f.visualElement?i.jsx(u,{visualElement:f.visualElement,...h}):null,n(s,l,L$(v,f.visualElement,c),v,d,f.visualElement)]})}const o=j.forwardRef(a);return o[V$]=s,o}function q$({layoutId:e}){const t=j.useContext(xx).id;return t&&e!==void 0?t+"-"+e:e}function z$(e,t){j.useContext(eE).strict}function W$(e){const{drag:t,layout:n}=Xo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const H$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nx(e){return typeof e!="string"||e.includes("-")?!1:!!(H$.indexOf(e)>-1||/[A-Z]/u.test(e))}function rE(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const sE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iE(e,t,n,r){rE(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(sE.has(s)?s:yx(s),t.attrs[s])}function aE(e,{layout:t,layoutId:n}){return Ma.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wf[e]||e==="opacity")}function Sx(e,t,n){var r;const{style:s}=e,a={};for(const o in s)(Qt(s[o])||t.style&&Qt(t.style[o])||aE(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function oE(e,t,n){const r=Sx(e,t,n);for(const s in e)if(Qt(e[s])||Qt(t[s])){const a=mu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Ia(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}function K$({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,a){const o={latestValues:Q$(r,s,a,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const lE=e=>(t,n)=>{const r=j.useContext(Ah),s=j.useContext(Eh),a=()=>K$(e,t,r,s);return n?a():Ia(a)};function Q$(e,t,n,r){const s={},a=r(e,{});for(const f in a)s[f]=Ed(a[f]);let{initial:o,animate:l}=e;const c=Ph(e),u=nE(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?l:o;if(d&&typeof d!="boolean"&&!kh(d)){const f=Array.isArray(d)?d:[d];for(let v=0;v<f.length;v++){const x=Zy(e,f[v]);if(x){const{transitionEnd:m,transition:y,...g}=x;for(const p in g){let b=g[p];if(Array.isArray(b)){const w=h?b.length-1:0;b=b[w]}b!==null&&(s[p]=b)}for(const p in m)s[p]=m[p]}}}return s}const kx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cE=()=>({...kx(),attrs:{}}),uE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,G$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y$=mu.length;function Z$(e,t,n){let r="",s=!0;for(let a=0;a<Y$;a++){const o=mu[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=uE(l,ox[o]);if(!c){s=!1;const h=G$[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function _x(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ma.has(c)){o=!0;continue}else if(nC(c)){s[c]=u;continue}else{const h=uE(u,ox[c]);c.startsWith("origin")?(l=!0,a[c]=h):r[c]=h}}if(t.transform||(o||n?r.transform=Z$(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;r.transformOrigin=`${c} ${u} ${h}`}}function Pw(e,t,n){return typeof e=="string"?e:Ie.transform(t+n*e)}function X$(e,t,n){const r=Pw(t,e.x,e.width),s=Pw(n,e.y,e.height);return`${r} ${s}`}const J$={offset:"stroke-dashoffset",array:"stroke-dasharray"},e8={offset:"strokeDashoffset",array:"strokeDasharray"};function t8(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?J$:e8;e[a.offset]=Ie.transform(-r);const o=Ie.transform(t),l=Ie.transform(n);e[a.array]=`${o} ${l}`}function Cx(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,d){if(_x(e,u,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:v,dimensions:x}=e;f.transform&&(x&&(v.transform=f.transform),delete f.transform),x&&(s!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=X$(x,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&t8(f,o,l,c,!1)}const Ex=e=>typeof e=="string"&&e.toLowerCase()==="svg",n8={useVisualState:lE({scrapeMotionValuesFromProps:oE,createRenderState:cE,onMount:(e,t,{renderState:n,latestValues:r})=>{lt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),lt.render(()=>{Cx(n,r,Ex(t.tagName),e.transformTemplate),iE(t,n)})}})},r8={useVisualState:lE({scrapeMotionValuesFromProps:Sx,createRenderState:kx})};function dE(e,t,n){for(const r in t)!Qt(t[r])&&!aE(r,n)&&(e[r]=t[r])}function s8({transformTemplate:e},t){return j.useMemo(()=>{const n=kx();return _x(n,t,e),Object.assign({},n.vars,n.style)},[t])}function i8(e,t){const n=e.style||{},r={};return dE(r,n,e),Object.assign(r,s8(e,t)),r}function a8(e,t){const n={},r=i8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const o8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||o8.has(e)}let fE=e=>!jf(e);function l8(e){e&&(fE=t=>t.startsWith("on")?!jf(t):e(t))}try{l8(require("@emotion/is-prop-valid").default)}catch{}function c8(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(fE(s)||n===!0&&jf(s)||!t&&!jf(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function u8(e,t,n,r){const s=j.useMemo(()=>{const a=cE();return Cx(a,t,Ex(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};dE(a,e.style,e),s.style={...a,...s.style}}return s}function d8(e=!1){return(n,r,s,{latestValues:a},o)=>{const c=(Nx(n)?u8:a8)(r,a,o,n),u=c8(r,typeof n=="string",e),h=n!==j.Fragment?{...u,...c,ref:s}:{},{children:d}=r,f=j.useMemo(()=>Qt(d)?d.get():d,[d]);return j.createElement(n,{...h,children:f})}}function f8(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Nx(r)?n8:r8,preloadedFeatures:e,useRender:d8(s),createVisualElement:t,Component:r};return U$(o)}}const Gg={current:null},hE={current:!1};function h8(){if(hE.current=!0,!!wx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gg.current=e.matches;e.addListener(t),t()}else Gg.current=!1}function p8(e,t,n){for(const r in t){const s=t[r],a=n[r];if(Qt(s))e.addValue(r,s);else if(Qt(a))e.addValue(r,Zo(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Zo(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ow=new WeakMap,m8=[...iC,sn,Ni],g8=e=>m8.find(sC(e)),Dw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v8{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Qr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,lt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Ph(n),this.isVariantNode=nE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const v=d[f];c[f]!==void 0&&Qt(v)&&v.set(c[f],!1)}}mount(t){this.current=t,Ow.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hE.current||h8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ow.delete(this.current),this.projection&&this.projection.unmount(),Es(this.notifyUpdate),Es(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ma.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const n=Xo[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dw.length;r++){const s=Dw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=p8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(eC(s)||J_(s))?s=parseFloat(s):!g8(s)&&Ni.test(n)&&(s=hC(t,n)),this.setBaseTarget(t,Qt(s)?s.get():s)),Qt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Zy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Qt(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class pE extends v8{constructor(){super(...arguments),this.KeyframeResolver=pC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function y8(e){return window.getComputedStyle(e)}class x8 extends pE{constructor(){super(...arguments),this.type="html",this.renderInstance=rE}readValueFromInstance(t,n){if(Ma.has(n)){const r=lx(n);return r&&r.default||0}else{const r=y8(t),s=(nC(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VC(t,n)}build(t,n,r){_x(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Sx(t,n,r)}}class b8 extends pE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ma.has(n)){const r=lx(n);return r&&r.default||0}return n=sE.has(n)?n:yx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return oE(t,n,r)}build(t,n,r){Cx(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){iE(t,n,r,s)}mount(t){this.isSVGTag=Ex(t.tagName),super.mount(t)}}const w8=(e,t)=>Nx(e)?new b8(t):new x8(t,{allowProjection:e!==j.Fragment}),j8=f8({...l6,...D$,...j$,...R$},w8),Jo=a5(j8);class N8 extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S8({children:e,isPresent:t}){const n=j.useId(),r=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=j.useContext(Th);return j.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),i.jsx(N8,{isPresent:t,childRef:r,sizeRef:s,children:j.cloneElement(e,{ref:r})})}const k8=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=Ia(_8),c=j.useId(),u=j.useCallback(d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),h=j.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:d=>(l.set(d,!1),()=>l.delete(d))}),a?[Math.random(),u]:[n,u]);return j.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),j.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(S8,{isPresent:n,children:e})),i.jsx(Eh.Provider,{value:h,children:e})};function _8(){return new Map}const Xu=e=>e.key||"";function Rw(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Nf=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=j.useMemo(()=>Rw(e),[e]),c=l.map(Xu),u=j.useRef(!0),h=j.useRef(l),d=Ia(()=>new Map),[f,v]=j.useState(l),[x,m]=j.useState(l);jx(()=>{u.current=!1,h.current=l;for(let p=0;p<x.length;p++){const b=Xu(x[p]);c.includes(b)?d.delete(b):d.get(b)!==!0&&d.set(b,!1)}},[x,c.length,c.join("-")]);const y=[];if(l!==f){let p=[...l];for(let b=0;b<x.length;b++){const w=x[b],N=Xu(w);c.includes(N)||(p.splice(b,0,w),y.push(w))}o==="wait"&&y.length&&(p=y),m(Rw(p)),v(l);return}const{forceRender:g}=j.useContext(xx);return i.jsx(i.Fragment,{children:x.map(p=>{const b=Xu(p),w=l===x||c.includes(b),N=()=>{if(d.has(b))d.set(b,!0);else return;let T=!0;d.forEach(S=>{S||(T=!1)}),T&&(g==null||g(),m(h.current),s&&s())};return i.jsx(k8,{isPresent:w,initial:!u.current||r?void 0:!1,custom:w?void 0:n,presenceAffectsLayout:a,mode:o,onExitComplete:w?void 0:N,children:p},b)})})};function mE(e){const t=Ia(()=>Zo(e)),{isStatic:n}=j.useContext(Th);if(n){const[,r]=j.useState(e);j.useEffect(()=>t.on("change",r),[])}return t}function gE(e,t){const n=mE(t()),r=()=>n.set(t());return r(),jx(()=>{const s=()=>lt.preRender(r,!1,!0),a=e.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),Es(r)}}),n}const C8=e=>e&&typeof e=="object"&&e.mix,E8=e=>C8(e)?e.mix:void 0;function T8(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],a=e[2+n],o=e[3+n],l=SC(s,a,{mixer:E8(a[0]),...o});return t?l(r):l}function A8(e){lc.current=[],e();const t=gE(lc.current,e);return lc.current=void 0,t}function P8(e,t,n,r){if(typeof e=="function")return A8(e);const s=typeof t=="function"?t:T8(t,n,r);return Array.isArray(e)?Mw(e,s):Mw([e],([a])=>s(a))}function Mw(e,t){const n=Ia(()=>[]);return gE(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}const vE=j.createContext(null);function O8(e,t,n,r){if(!r)return e;const s=e.findIndex(h=>h.value===t);if(s===-1)return e;const a=r>0?1:-1,o=e[s+a];if(!o)return e;const l=e[s],c=o.layout,u=jt(c.min,c.max,.5);return a===1&&l.layout.max+n>u||a===-1&&l.layout.min+n<u?UF(e,s,s+a):e}function D8({children:e,as:t="ul",axis:n="y",onReorder:r,values:s,...a},o){const l=Ia(()=>Jo[t]),c=[],u=j.useRef(!1),h={axis:n,registerItem:(d,f)=>{const v=c.findIndex(x=>d===x.value);v!==-1?c[v].layout=f[n]:c.push({value:d,layout:f[n]}),c.sort(I8)},updateOrder:(d,f,v)=>{if(u.current)return;const x=O8(c,d,f,v);c!==x&&(u.current=!0,r(x.map(M8).filter(m=>s.indexOf(m)!==-1)))}};return j.useEffect(()=>{u.current=!1}),i.jsx(l,{...a,ref:o,ignoreStrict:!0,children:i.jsx(vE.Provider,{value:h,children:e})})}const R8=j.forwardRef(D8);function M8(e){return e.value}function I8(e,t){return e.layout.min-t.layout.min}function Iw(e,t=0){return Qt(e)?e:mE(t)}function L8({children:e,style:t={},value:n,as:r="li",onDrag:s,layout:a=!0,...o},l){const c=Ia(()=>Jo[r]),u=j.useContext(vE),h={x:Iw(t.x),y:Iw(t.y)},d=P8([h.x,h.y],([m,y])=>m||y?1:"unset"),{axis:f,registerItem:v,updateOrder:x}=u;return i.jsx(c,{drag:f,...o,dragSnapToOrigin:!0,style:{...t,x:h.x,y:h.y,zIndex:d},layout:a,onDrag:(m,y)=>{const{velocity:g}=y;g[f]&&x(n,h[f].get(),g[f]),s&&s(m,y)},onLayoutMeasure:m=>v(n,m),ref:l,ignoreStrict:!0,children:e})}const F8=j.forwardRef(L8);function $8({isOpen:e,onClose:t}){const[,n]=Ve(),[r,s]=j.useState(""),[a,o]=j.useState(""),[l,c]=j.useState([]),[u,h]=j.useState(!1),[d,f]=j.useState(!1);j.useEffect(()=>{e||(s(""),c([]),f(!1))},[e]),j.useEffect(()=>{const w=setTimeout(()=>{o(r)},300);return()=>clearTimeout(w)},[r]);const v=j.useCallback(async w=>{if(!w.trim()){c([]),f(!1);return}h(!0),f(!0);try{const N=await fetch(`/api/public/v1/search?q=${encodeURIComponent(w)}`);if(!N.ok)throw new Error("Search failed");const T=await N.json();c(T.results)}catch(N){console.error("Search error:",N),c([])}finally{h(!1)}},[]);j.useEffect(()=>{v(a)},[a,v]);const x=w=>{t(),n(w.navigate_to)},m=l.filter(w=>w.type==="module"),y=l.filter(w=>w.type==="lesson"),g=l.filter(w=>w.type==="course"),p=w=>{switch(w){case"DYD":return"DYD Process";case"USM":return"USM Process";case"BREATH":return"Spiritual Breaths";case"ABUNDANCE":return"Abundance Mastery";default:return w}},b=w=>{switch(w){case"module":return i.jsx(Sr,{className:"w-5 h-5 text-[#703DFA]"});case"lesson":return i.jsx(kr,{className:"w-5 h-5 text-green-600"});case"course":return i.jsx(Oc,{className:"w-5 h-5 text-amber-600"});default:return null}};return i.jsx(Nf,{children:e&&i.jsx(Jo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-white",children:i.jsxs("div",{className:"max-w-md mx-auto h-full flex flex-col",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(Ae,{type:"text",placeholder:"Search content...",value:r,onChange:w=>s(w.target.value),className:"pl-10 bg-gray-100 border-0",autoFocus:!0,"data-testid":"input-search-overlay"})]}),i.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover-elevate active-elevate-2","data-testid":"button-close-search",children:i.jsx(Pn,{className:"w-5 h-5 text-gray-600"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:u?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-[#703DFA]"})}):d&&l.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500","data-testid":"text-no-results",children:"No matching content found"}):l.length>0?i.jsxs("div",{className:"space-y-5",children:[m.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2","data-testid":"text-section-modules",children:["Modules (",m.length,")"]}),i.jsx("div",{className:"space-y-2",children:m.map(w=>i.jsxs("button",{onClick:()=>x(w),className:"w-full flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover-elevate active-elevate-2 text-left","data-testid":`result-module-${w.id}`,children:[b(w.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-gray-900 font-medium truncate",children:w.title}),i.jsx("p",{className:"text-xs text-gray-500",children:p(w.feature)})]})]},`module-${w.id}`))})]}),y.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2","data-testid":"text-section-lessons",children:["Lessons (",y.length,")"]}),i.jsx("div",{className:"space-y-2",children:y.map(w=>i.jsxs("button",{onClick:()=>x(w),className:"w-full flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover-elevate active-elevate-2 text-left","data-testid":`result-lesson-${w.id}`,children:[b(w.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-gray-900 font-medium truncate",children:w.title}),i.jsx("p",{className:"text-xs text-gray-500",children:p(w.feature)})]})]},`lesson-${w.id}`))})]}),g.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2","data-testid":"text-section-courses",children:["Courses (",g.length,")"]}),i.jsx("div",{className:"space-y-2",children:g.map(w=>i.jsxs("button",{onClick:()=>x(w),className:"w-full flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover-elevate active-elevate-2 text-left","data-testid":`result-course-${w.id}`,children:[b(w.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-gray-900 font-medium truncate",children:w.title}),i.jsx("p",{className:"text-xs text-gray-500",children:p(w.feature)})]})]},`course-${w.id}`))})]})]}):d?null:i.jsx("div",{className:"text-center py-12 text-gray-500","data-testid":"text-search-prompt",children:"Start typing to search..."})})]})})})}function B8(){const[,e]=Ve();ht(),j.useState({current:15,total:30});const[t,n]=j.useState(!1),[r,s]=j.useState(!0),[a,o]=j.useState(!0),l=j.useRef(null),[c,u]=j.useState(!1),{data:h}=Ue({queryKey:["/api/public/v1/session-banner"]}),d=!!localStorage.getItem("@app:user_token"),{data:f}=Ue({queryKey:["/api/v1/streak/last-7-days"],enabled:d}),v=Se({mutationFn:async b=>(await De("POST","/api/v1/streak/mark-today",{date:b})).json(),onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/v1/streak/last-7-days"]})},onError:b=>{console.error("Failed to mark streak:",b)}});j.useEffect(()=>{if(!c&&d){const b=new Date().toISOString().split("T")[0];u(!0),v.mutate(b)}},[c,d]);const x=h==null?void 0:h.banner,m=h==null?void 0:h.status,y=()=>{l.current&&(r?l.current.pause():l.current.play(),s(!r))},g=()=>{l.current&&(l.current.muted=!a,o(!a))},p=[{title:"Processes",icon:Ho,gradient:"bg-gradient-ocean",path:"/processes",testId:"card-processes"},{title:"Spiritual Breaths",icon:wa,gradient:"bg-gradient-calm",path:"/spiritual-breaths",testId:"card-spiritual-breaths"},{title:"Community Practices",icon:ys,gradient:"bg-gradient-sunrise",path:"/community-practices",testId:"card-community-practices"},{title:"My Processes",icon:Sd,gradient:"bg-gradient-harmony",path:"/playlist",testId:"card-my-playlist"},{title:"Daily Abundance",icon:yh,gradient:"bg-gradient-forest",path:"/money-mastery",testId:"card-money-mastery"},{title:"My Daily Tracker",icon:Y2,gradient:"bg-gradient-desert",path:"/process-checklist",testId:"card-process-checklist"}];return i.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"bg-white px-4 py-3 shadow-sm border-b border-[#232A34]/10 flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-lg font-bold",style:{fontFamily:"Inter"},children:"Welcome back, Champion "}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"How's your energy today?"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx("button",{onClick:()=>n(!0),className:"w-10 h-10 rounded-full bg-[#F3F0FF] flex items-center justify-center hover-elevate active-elevate-2","data-testid":"button-search",children:i.jsx(Ra,{className:"w-5 h-5 text-[#703DFA]",strokeWidth:2})}),i.jsx("button",{onClick:()=>e("/notifications"),className:"w-10 h-10 rounded-full bg-[#F3F0FF] flex items-center justify-center hover-elevate active-elevate-2","data-testid":"button-notifications",children:i.jsx(gh,{className:"w-5 h-5 text-[#703DFA]",strokeWidth:2})})]})]}),x&&i.jsxs("div",{className:"w-full mt-3 mb-4",children:[x.type==="advertisement"&&x.videoUrl?i.jsxs("div",{className:"relative w-full h-56 overflow-hidden shadow-md bg-black",children:[i.jsx("video",{ref:l,src:x.videoUrl,poster:x.posterUrl||void 0,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,"data-testid":"video-banner"}),i.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1.5",children:[i.jsx("button",{onClick:g,className:"w-8 h-8 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center hover:bg-black/70 transition","data-testid":"button-video-mute",children:a?i.jsx($3,{className:"w-4 h-4 text-white"}):i.jsx(F3,{className:"w-4 h-4 text-white"})}),i.jsx("button",{onClick:y,className:"w-8 h-8 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center hover:bg-black/70 transition","data-testid":"button-video-toggle",children:r?i.jsx(Dy,{className:"w-4 h-4 text-white"}):i.jsx(Wr,{className:"w-4 h-4 text-white ml-0.5"})})]})]}):x.thumbnailUrl?i.jsxs("div",{className:"relative w-full h-56 overflow-hidden shadow-md",children:[i.jsx("img",{src:x.thumbnailUrl,alt:"Session Banner",className:"w-full h-full object-cover","data-testid":"img-banner"}),x.type==="session"&&x.liveEnabled&&m==="active"&&i.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-2 bg-white/20 backdrop-blur-lg px-3 py-1 rounded-md",children:[i.jsx("span",{className:"h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-xs font-medium text-white",children:"LIVE"})]})]}):null,x.ctaText&&x.ctaLink&&x.ctaLink.trim()!==""&&i.jsx("div",{className:"w-full flex justify-center",children:i.jsx("button",{onClick:()=>{x.ctaLink&&window.open(x.ctaLink,"_blank")},className:"mt-3 w-[85%] px-4 py-3 rounded-full font-bold shadow-md hover:opacity-90 transition text-xl",style:{backgroundColor:"#E5AC19",color:"#0D131F",fontFamily:"Inter"},"data-testid":"button-banner-cta",children:x.ctaText})})]}),i.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[i.jsx("div",{className:"-mx-2 px-2",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(b=>i.jsxs("button",{onClick:()=>e(b.path),className:"bg-white border border-[#232A34]/10 rounded-2xl p-3 flex items-center gap-3 shadow-sm hover:shadow-md active:scale-[0.98] transition h-[60px]","data-testid":b.testId,children:[i.jsx("div",{className:"flex items-center justify-center flex-shrink-0",children:i.jsx(b.icon,{className:"w-[20px] h-[20px] text-[#703DFA]",strokeWidth:1.6})}),i.jsx("span",{className:"text-sm font-semibold text-[#232A34] text-left flex-1 line-clamp-2",children:b.title})]},b.path))})}),d&&i.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-[#232A34]/10 mt-4","data-testid":"card-streak",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(s1,{className:"w-5 h-5 text-orange-500"}),i.jsx("span",{className:"text-sm font-semibold text-[#232A34]",children:"7-Day Streak"})]}),i.jsx("span",{className:"text-xs text-gray-500",children:f?`${f.filter(b=>b.active).length} day${f.filter(b=>b.active).length!==1?"s":""} this week`:""})]}),i.jsx("div",{className:"flex justify-between gap-1",children:(f||Array(7).fill({date:"",active:!1})).map((b,w)=>{const N=b.date?new Date(b.date+"T12:00:00"):new Date,T=b.date?N.toLocaleDateString("en-US",{weekday:"short"}).charAt(0):["M","T","W","T","F","S","S"][w],S=b.date===new Date().toISOString().split("T")[0];return i.jsxs("div",{className:"flex flex-col items-center gap-1","data-testid":`streak-day-${w}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${b.active?"bg-gradient-to-br from-orange-400 to-orange-600 shadow-sm":"bg-gray-100"} ${S?"ring-2 ring-orange-300 ring-offset-1":""}`,children:b.active?i.jsx(s1,{className:"w-4 h-4 text-white"}):i.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300"})}),i.jsx("span",{className:`text-xs ${b.active?"text-orange-600 font-medium":"text-gray-400"}`,children:T})]},b.date||w)})})]}),d&&i.jsxs("button",{onClick:()=>e("/ai-insights"),className:"w-full text-left bg-white rounded-2xl p-5 shadow-sm border border-[#232A34]/10 hover-elevate active-elevate-2 mt-4","data-testid":"button-ai-insights",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-black text-sm font-bold tracking-wider uppercase mb-2",children:"AI INSIGHTS"}),i.jsx("p",{className:"text-gray-700 text-sm",children:"Receive personalised insights for your streak"})]}),i.jsx("div",{className:"flex-shrink-0 ml-3",children:i.jsx(Ho,{className:"w-6 h-6 text-[#703DFA]"})})]}),i.jsx("div",{className:"flex items-center justify-end mt-3",children:i.jsx(Cn,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"rounded-2xl p-4 shadow-md relative mt-4",style:{background:"#703DFA"},"data-testid":"card-quote",children:[i.jsxs("div",{className:"text-center mb-3 px-2",children:[i.jsx("p",{className:"text-white text-lg font-medium mb-2.5 leading-relaxed italic",children:'"The only impossible journey is the one you never begin."'}),i.jsx("p",{className:"text-white/90 text-sm font-light",children:" Tony Robbins"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:()=>e("/more-quotes"),className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 active:bg-white/40 text-white text-xs font-semibold rounded-full backdrop-blur-sm transition","data-testid":"button-more-quotes",children:"More Quotes "})})]})]})]}),i.jsx($8,{isOpen:t,onClose:()=>n(!1)})]})}var V8=j.createContext(void 0);function xu(e){const t=j.useContext(V8);return e||t||"ltr"}var Zp="rovingFocusGroup.onEntryFocus",U8={bubbles:!1,cancelable:!0},Oh="RovingFocusGroup",[Yg,yE,q8]=fh(Oh),[z8,pl]=en(Oh,[q8]),[W8,H8]=z8(Oh),xE=j.forwardRef((e,t)=>i.jsx(Yg.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Yg.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(K8,{...e,ref:t})})}));xE.displayName=Oh;var K8=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=e,f=j.useRef(null),v=Ge(t,f),x=xu(a),[m=null,y]=Nr({prop:o,defaultProp:l,onChange:c}),[g,p]=j.useState(!1),b=un(u),w=yE(n),N=j.useRef(!1),[T,S]=j.useState(0);return j.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(Zp,b),()=>E.removeEventListener(Zp,b)},[b]),i.jsx(W8,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:m,onItemFocus:j.useCallback(E=>y(E),[y]),onItemShiftTab:j.useCallback(()=>p(!0),[]),onFocusableItemAdd:j.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:j.useCallback(()=>S(E=>E-1),[]),children:i.jsx(Pe.div,{tabIndex:g||T===0?-1:0,"data-orientation":r,...d,ref:v,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{N.current=!0}),onFocus:me(e.onFocus,E=>{const A=!N.current;if(E.target===E.currentTarget&&A&&!g){const C=new CustomEvent(Zp,U8);if(E.currentTarget.dispatchEvent(C),!C.defaultPrevented){const _=w().filter(U=>U.focusable),k=_.find(U=>U.active),P=_.find(U=>U.id===m),B=[k,P,..._].filter(Boolean).map(U=>U.ref.current);jE(B,h)}}N.current=!1}),onBlur:me(e.onBlur,()=>p(!1))})})}),bE="RovingFocusGroupItem",wE=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=br(),c=a||l,u=H8(bE,n),h=u.currentTabStopId===c,d=yE(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=u;return j.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),i.jsx(Yg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(Pe.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:me(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:me(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:me(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=Y8(x,u.orientation,u.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let g=d().filter(p=>p.focusable).map(p=>p.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const p=g.indexOf(x.currentTarget);g=u.loop?Z8(g,p+1):g.slice(p+1)}setTimeout(()=>jE(g))}})})})});wE.displayName=bE;var Q8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y8(e,t,n){const r=G8(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Q8[r]}function jE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Z8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Tx=xE,Ax=wE,Px="Tabs",[X8,AJ]=en(Px,[pl]),NE=pl(),[J8,Ox]=X8(Px),SE=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=xu(l),[d,f]=Nr({prop:r,onChange:s,defaultProp:a});return i.jsx(J8,{scope:n,baseId:br(),value:d,onValueChange:f,orientation:o,dir:h,activationMode:c,children:i.jsx(Pe.div,{dir:h,"data-orientation":o,...u,ref:t})})});SE.displayName=Px;var kE="TabsList",_E=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Ox(kE,n),o=NE(n);return i.jsx(Tx,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});_E.displayName=kE;var CE="TabsTrigger",EE=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=Ox(CE,n),l=NE(n),c=PE(o.baseId,r),u=OE(o.baseId,r),h=r===o.value;return i.jsx(Ax,{asChild:!0,...l,focusable:!s,active:h,children:i.jsx(Pe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:me(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:me(e.onFocus,()=>{const d=o.activationMode!=="manual";!h&&!s&&d&&o.onValueChange(r)})})})});EE.displayName=CE;var TE="TabsContent",AE=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=Ox(TE,n),c=PE(l.baseId,r),u=OE(l.baseId,r),h=r===l.value,d=j.useRef(h);return j.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(On,{present:s||h,children:({present:f})=>i.jsx(Pe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&a})})});AE.displayName=TE;function PE(e,t){return`${e}-trigger-${t}`}function OE(e,t){return`${e}-content-${t}`}var e9=SE,DE=_E,RE=EE,ME=AE;const Dh=e9,bu=j.forwardRef(({className:e,...t},n)=>i.jsx(DE,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bu.displayName=DE.displayName;const Gr=j.forwardRef(({className:e,...t},n)=>i.jsx(RE,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gr.displayName=RE.displayName;const Yr=j.forwardRef(({className:e,...t},n)=>i.jsx(ME,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yr.displayName=ME.displayName;const we=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ee("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));we.displayName="Card";const Td=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));Td.displayName="CardHeader";const Ad=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ad.displayName="CardTitle";const t9=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ee("text-sm text-muted-foreground",e),...t}));t9.displayName="CardDescription";const Ks=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ee("p-6 pt-0",e),...t}));Ks.displayName="CardContent";const n9=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",e),...t}));n9.displayName="CardFooter";function Lw({modules:e,isLoading:t,error:n,featureLabel:r}){const[,s]=Ve();return t?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})}):n?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:["Failed to load ",r," content"]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-brand/10 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ho,{className:"w-8 h-8 text-brand"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Modules Yet"}),i.jsxs("p",{className:"text-muted-foreground text-sm max-w-xs",children:[r," content is being prepared. Check back soon!"]})]}):i.jsx("div",{className:"space-y-3",children:e.map((a,o)=>i.jsx(we,{className:"p-4 hover-elevate active-elevate-2 cursor-pointer",onClick:()=>s(`/processes/module/${a.id}`),"data-testid":`card-module-${a.id}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#F3F0FF"},children:i.jsx(Sr,{className:"w-6 h-6",style:{color:"#703DFA"}})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("h3",{className:"font-semibold text-foreground truncate",children:a.title})}),i.jsx(Cn,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]})},a.id))})}function r9(){const[,e]=Ve(),[t,n]=j.useState("DYD"),{data:r,isLoading:s,error:a}=Ue({queryKey:["/api/public/v1/features","DYD"],queryFn:async()=>{const u=await fetch("/api/public/v1/features/DYD");if(!u.ok)throw new Error("Failed to fetch DYD content");return u.json()}}),{data:o,isLoading:l,error:c}=Ue({queryKey:["/api/public/v1/features","USM"],queryFn:async()=>{const u=await fetch("/api/public/v1/features/USM");if(!u.ok)throw new Error("Failed to fetch USM content");return u.json()}});return i.jsx("div",{className:"min-h-screen pb-20 bg-page-bg",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b z-10",children:i.jsxs("div",{className:"py-4 relative flex items-center",children:[i.jsx("button",{onClick:()=>e("/"),className:"absolute left-4 hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-gray-500"})}),i.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-lg font-bold text-gray-500 tracking-wider font-['Montserrat'] uppercase whitespace-nowrap",children:"PROCESSES"})]})}),i.jsx("div",{className:"px-4 pt-4",children:i.jsxs(Dh,{value:t,onValueChange:n,className:"w-full",children:[i.jsxs(bu,{className:"w-full grid grid-cols-2 mb-4","data-testid":"tabs-processes",children:[i.jsx(Gr,{value:"DYD",className:"data-[state=active]:bg-brand data-[state=active]:text-white","data-testid":"tab-dyd",children:"DYD Processes"}),i.jsx(Gr,{value:"USM",className:"data-[state=active]:bg-brand data-[state=active]:text-white","data-testid":"tab-usm",children:"USM Processes"})]}),i.jsx(Yr,{value:"DYD",className:"mt-0",children:i.jsx(Lw,{modules:(r==null?void 0:r.modules)||[],isLoading:s,error:a,featureLabel:"DYD Processes"})}),i.jsx(Yr,{value:"USM",className:"mt-0",children:i.jsx(Lw,{modules:(o==null?void 0:o.modules)||[],isLoading:l,error:c,featureLabel:"USM Processes"})})]})})]})})}const Dx=mh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ee=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?f2:"button";return i.jsx(o,{className:Ee(Dx({variant:t,size:n,className:e})),ref:a,...s})});ee.displayName="Button";function Rh(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Rx="Checkbox",[s9,PJ]=en(Rx),[i9,a9]=s9(Rx),IE=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...d}=e,[f,v]=j.useState(null),x=Ge(t,w=>v(w)),m=j.useRef(!1),y=f?h||!!f.closest("form"):!0,[g=!1,p]=Nr({prop:s,defaultProp:a,onChange:u}),b=j.useRef(g);return j.useEffect(()=>{const w=f==null?void 0:f.form;if(w){const N=()=>p(b.current);return w.addEventListener("reset",N),()=>w.removeEventListener("reset",N)}},[f,p]),i.jsxs(i9,{scope:n,state:g,disabled:l,children:[i.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":gi(g)?"mixed":g,"aria-required":o,"data-state":$E(g),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:x,onKeyDown:me(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:me(e.onClick,w=>{p(N=>gi(N)?!0:!N),y&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),y&&i.jsx(o9,{control:f,bubbles:!m.current,name:r,value:c,checked:g,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:gi(a)?!1:a})]})});IE.displayName=Rx;var LE="CheckboxIndicator",FE=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=a9(LE,n);return i.jsx(On,{present:r||gi(a.state)||a.state===!0,children:i.jsx(Pe.span,{"data-state":$E(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});FE.displayName=LE;var o9=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=j.useRef(null),l=Rh(n),c=jh(t);j.useEffect(()=>{const h=o.current,d=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&v){const x=new Event("click",{bubbles:r});h.indeterminate=gi(n),v.call(h,gi(n)?!1:n),h.dispatchEvent(x)}},[l,n,r]);const u=j.useRef(gi(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gi(e){return e==="indeterminate"}function $E(e){return gi(e)?"indeterminate":e?"checked":"unchecked"}var BE=IE,l9=FE;const bo=j.forwardRef(({className:e,...t},n)=>i.jsx(BE,{ref:n,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(l9,{className:Ee("flex items-center justify-center text-current"),children:i.jsx(Jn,{className:"h-4 w-4"})})}));bo.displayName=BE.displayName;var c9="Label",VE=j.forwardRef((e,t)=>i.jsx(Pe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VE.displayName=c9;var UE=VE;const u9=mh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ge=j.forwardRef(({className:e,...t},n)=>i.jsx(UE,{ref:n,className:Ee(u9(),e),...t}));ge.displayName=UE.displayName;var Xp="focusScope.autoFocusOnMount",Jp="focusScope.autoFocusOnUnmount",Fw={bubbles:!1,cancelable:!0},d9="FocusScope",Mh=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),u=un(s),h=un(a),d=j.useRef(null),f=Ge(t,m=>c(m)),v=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let m=function(b){if(v.paused||!l)return;const w=b.target;l.contains(w)?d.current=w:Bs(d.current,{select:!0})},y=function(b){if(v.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Bs(d.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Bs(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const p=new MutationObserver(g);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),p.disconnect()}}},[r,l,v.paused]),j.useEffect(()=>{if(l){Bw.add(v);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(Xp,Fw);l.addEventListener(Xp,u),l.dispatchEvent(g),g.defaultPrevented||(f9(v9(qE(l)),{select:!0}),document.activeElement===m&&Bs(l))}return()=>{l.removeEventListener(Xp,u),setTimeout(()=>{const g=new CustomEvent(Jp,Fw);l.addEventListener(Jp,h),l.dispatchEvent(g),g.defaultPrevented||Bs(m??document.body,{select:!0}),l.removeEventListener(Jp,h),Bw.remove(v)},0)}}},[l,u,h,v]);const x=j.useCallback(m=>{if(!n&&!r||v.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(y&&g){const p=m.currentTarget,[b,w]=h9(p);b&&w?!m.shiftKey&&g===w?(m.preventDefault(),n&&Bs(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),n&&Bs(w,{select:!0})):g===p&&m.preventDefault()}},[n,r,v.paused]);return i.jsx(Pe.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Mh.displayName=d9;function f9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Bs(r,{select:t}),document.activeElement!==n)return}function h9(e){const t=qE(e),n=$w(t,e),r=$w(t.reverse(),e);return[n,r]}function qE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $w(e,t){for(const n of e)if(!p9(n,{upTo:t}))return n}function p9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function m9(e){return e instanceof HTMLInputElement&&"select"in e}function Bs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&m9(e)&&t&&e.select()}}var Bw=g9();function g9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Vw(e,t),e.unshift(t)},remove(t){var n;e=Vw(e,t),(n=e[0])==null||n.resume()}}}function Vw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function v9(e){return e.filter(t=>t.tagName!=="A")}var em=0;function Mx(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Uw()),document.body.insertAdjacentElement("beforeend",e[1]??Uw()),em++,()=>{em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),em--}},[])}function Uw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Br=function(){return Br=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Br.apply(this,arguments)};function zE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function y9(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Pd="right-scroll-bar-position",Od="width-before-scroll-bar",x9="with-scroll-bars-hidden",b9="--removed-body-scroll-bar-size";function tm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function w9(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var j9=typeof window<"u"?j.useLayoutEffect:j.useEffect,qw=new WeakMap;function N9(e,t){var n=w9(null,function(r){return e.forEach(function(s){return tm(s,r)})});return j9(function(){var r=qw.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||tm(l,null)}),a.forEach(function(l){s.has(l)||tm(l,o)})}qw.set(n,e)},[e]),n}function S9(e){return e}function k9(e,t){t===void 0&&(t=S9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function _9(e){e===void 0&&(e={});var t=k9(null);return t.options=Br({async:!0,ssr:!1},e),t}var WE=function(e){var t=e.sideCar,n=zE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Br({},n))};WE.isSideCarExport=!0;function C9(e,t){return e.useMedium(t),WE}var HE=_9(),nm=function(){},Ih=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,f=e.sideCar,v=e.noIsolation,x=e.inert,m=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,p=e.gapMode,b=zE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,N=N9([n,t]),T=Br(Br({},b),s);return j.createElement(j.Fragment,null,h&&j.createElement(w,{sideCar:HE,removeScrollBar:u,shards:d,noIsolation:v,inert:x,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:p}),o?j.cloneElement(j.Children.only(l),Br(Br({},T),{ref:N})):j.createElement(g,Br({},T,{className:c,ref:N}),l))});Ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ih.classNames={fullWidth:Od,zeroRight:Pd};var E9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=E9();return t&&e.setAttribute("nonce",t),e}function A9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function P9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var O9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=T9())&&(A9(t,n),P9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},D9=function(){var e=O9();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},KE=function(){var e=D9(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},R9={left:0,top:0,right:0,gap:0},rm=function(e){return parseInt(e||"",10)||0},M9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rm(n),rm(r),rm(s)]},I9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return R9;var t=M9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},L9=KE(),wo="data-scroll-locked",F9=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(x9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Od,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(b9,": ").concat(l,`px;
  }
`)},zw=function(){var e=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(e)?e:0},$9=function(){j.useEffect(function(){return document.body.setAttribute(wo,(zw()+1).toString()),function(){var e=zw()-1;e<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,e.toString())}},[])},B9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;$9();var a=j.useMemo(function(){return I9(s)},[s]);return j.createElement(L9,{styles:F9(a,!t,s,n?"":"!important")})},Zg=!1;if(typeof window<"u")try{var Ju=Object.defineProperty({},"passive",{get:function(){return Zg=!0,!0}});window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{Zg=!1}var Ba=Zg?{passive:!1}:!1,V9=function(e){return e.tagName==="TEXTAREA"},QE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!V9(e)&&n[t]==="visible")},U9=function(e){return QE(e,"overflowY")},q9=function(e){return QE(e,"overflowX")},Ww=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=GE(e,r);if(s){var a=YE(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},z9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},W9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},GE=function(e,t){return e==="v"?U9(t):q9(t)},YE=function(e,t){return e==="v"?z9(t):W9(t)},H9=function(e,t){return e==="h"&&t==="rtl"?-1:1},K9=function(e,t,n,r,s){var a=H9(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,h=o>0,d=0,f=0;do{var v=YE(e,l),x=v[0],m=v[1],y=v[2],g=m-y-a*x;(x||g)&&GE(e,l)&&(d+=g,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(d)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(u=!0),u},ed=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hw=function(e){return[e.deltaX,e.deltaY]},Kw=function(e){return e&&"current"in e?e.current:e},Q9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},G9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Y9=0,Va=[];function Z9(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),s=j.useState(Y9++)[0],a=j.useState(KE)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=y9([e.lockRef.current],(e.shards||[]).map(Kw),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=ed(m),p=n.current,b="deltaX"in m?m.deltaX:p[0]-g[0],w="deltaY"in m?m.deltaY:p[1]-g[1],N,T=m.target,S=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&S==="h"&&T.type==="range")return!1;var E=Ww(S,T);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=Ww(S,T)),!E)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=N),!N)return!0;var A=r.current||N;return K9(A,y,m,A==="h"?b:w,!0)},[]),c=j.useCallback(function(m){var y=m;if(!(!Va.length||Va[Va.length-1]!==a)){var g="deltaY"in y?Hw(y):ed(y),p=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&Q9(N.delta,g)})[0];if(p&&p.should){y.cancelable&&y.preventDefault();return}if(!p){var b=(o.current.shards||[]).map(Kw).filter(Boolean).filter(function(N){return N.contains(y.target)}),w=b.length>0?l(y,b[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),u=j.useCallback(function(m,y,g,p){var b={name:m,delta:y,target:g,should:p,shadowParent:X9(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),h=j.useCallback(function(m){n.current=ed(m),r.current=void 0},[]),d=j.useCallback(function(m){u(m.type,Hw(m),m.target,l(m,e.lockRef.current))},[]),f=j.useCallback(function(m){u(m.type,ed(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return Va.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ba),document.addEventListener("touchmove",c,Ba),document.addEventListener("touchstart",h,Ba),function(){Va=Va.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Ba),document.removeEventListener("touchmove",c,Ba),document.removeEventListener("touchstart",h,Ba)}},[]);var v=e.removeScrollBar,x=e.inert;return j.createElement(j.Fragment,null,x?j.createElement(a,{styles:G9(s)}):null,v?j.createElement(B9,{gapMode:e.gapMode}):null)}function X9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const J9=C9(HE,Z9);var Lh=j.forwardRef(function(e,t){return j.createElement(Ih,Br({},e,{ref:t,sideCar:J9}))});Lh.classNames=Ih.classNames;var eB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ua=new WeakMap,td=new WeakMap,nd={},sm=0,ZE=function(e){return e&&(e.host||ZE(e.parentNode))},tB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ZE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nB=function(e,t,n,r){var s=tB(t,Array.isArray(e)?e:[e]);nd[n]||(nd[n]=new WeakMap);var a=nd[n],o=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(l.has(f))h(f);else try{var v=f.getAttribute(r),x=v!==null&&v!=="false",m=(Ua.get(f)||0)+1,y=(a.get(f)||0)+1;Ua.set(f,m),a.set(f,y),o.push(f),m===1&&x&&td.set(f,!0),y===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return h(t),l.clear(),sm++,function(){o.forEach(function(d){var f=Ua.get(d)-1,v=a.get(d)-1;Ua.set(d,f),a.set(d,v),f||(td.has(d)||d.removeAttribute(r),td.delete(d)),v||d.removeAttribute(n)}),sm--,sm||(Ua=new WeakMap,Ua=new WeakMap,td=new WeakMap,nd={})}},Ix=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=eB(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),nB(r,s,n,"aria-hidden")):function(){return null}},Lx="Dialog",[XE,JE]=en(Lx),[rB,Tr]=XE(Lx),eT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u=!1,h]=Nr({prop:r,defaultProp:s,onChange:a});return i.jsx(rB,{scope:t,triggerRef:l,contentRef:c,contentId:br(),titleId:br(),descriptionId:br(),open:u,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(d=>!d),[h]),modal:o,children:n})};eT.displayName=Lx;var tT="DialogTrigger",nT=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Tr(tT,n),a=Ge(t,s.triggerRef);return i.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Bx(s.open),...r,ref:a,onClick:me(e.onClick,s.onOpenToggle)})});nT.displayName=tT;var Fx="DialogPortal",[sB,rT]=XE(Fx,{forceMount:void 0}),sT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Tr(Fx,t);return i.jsx(sB,{scope:t,forceMount:n,children:j.Children.map(r,o=>i.jsx(On,{present:n||a.open,children:i.jsx(du,{asChild:!0,container:s,children:o})}))})};sT.displayName=Fx;var Sf="DialogOverlay",iT=j.forwardRef((e,t)=>{const n=rT(Sf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Tr(Sf,e.__scopeDialog);return a.modal?i.jsx(On,{present:r||a.open,children:i.jsx(aB,{...s,ref:t})}):null});iT.displayName=Sf;var iB=ba("DialogOverlay.RemoveScroll"),aB=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Tr(Sf,n);return i.jsx(Lh,{as:iB,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Pe.div,{"data-state":Bx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Na="DialogContent",aT=j.forwardRef((e,t)=>{const n=rT(Na,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Tr(Na,e.__scopeDialog);return i.jsx(On,{present:r||a.open,children:a.modal?i.jsx(oB,{...s,ref:t}):i.jsx(lB,{...s,ref:t})})});aT.displayName=Na;var oB=j.forwardRef((e,t)=>{const n=Tr(Na,e.__scopeDialog),r=j.useRef(null),s=Ge(t,n.contentRef,r);return j.useEffect(()=>{const a=r.current;if(a)return Ix(a)},[]),i.jsx(oT,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault())})}),lB=j.forwardRef((e,t)=>{const n=Tr(Na,e.__scopeDialog),r=j.useRef(!1),s=j.useRef(!1);return i.jsx(oT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),oT=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Tr(Na,n),c=j.useRef(null),u=Ge(t,c);return Mx(),i.jsxs(i.Fragment,{children:[i.jsx(Mh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(ol,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bx(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(uB,{titleId:l.titleId}),i.jsx(fB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$x="DialogTitle",lT=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Tr($x,n);return i.jsx(Pe.h2,{id:s.titleId,...r,ref:t})});lT.displayName=$x;var cT="DialogDescription",uT=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Tr(cT,n);return i.jsx(Pe.p,{id:s.descriptionId,...r,ref:t})});uT.displayName=cT;var dT="DialogClose",fT=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Tr(dT,n);return i.jsx(Pe.button,{type:"button",...r,ref:t,onClick:me(e.onClick,()=>s.onOpenChange(!1))})});fT.displayName=dT;function Bx(e){return e?"open":"closed"}var hT="DialogTitleWarning",[cB,pT]=MM(hT,{contentName:Na,titleName:$x,docsSlug:"dialog"}),uB=({titleId:e})=>{const t=pT(hT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dB="DialogDescriptionWarning",fB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pT(dB).contentName}}.`;return j.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},mT=eT,gT=nT,vT=sT,Vx=iT,Ux=aT,qx=lT,zx=uT,Wx=fT;const ct=mT,Xg=gT,hB=vT,yT=j.forwardRef(({className:e,...t},n)=>i.jsx(Vx,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yT.displayName=Vx.displayName;const it=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(hB,{children:[i.jsx(yT,{}),i.jsxs(Ux,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(Wx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Pn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));it.displayName=Ux.displayName;const ut=({className:e,...t})=>i.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ut.displayName="DialogHeader";const Bt=({className:e,...t})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bt.displayName="DialogFooter";const dt=j.forwardRef(({className:e,...t},n)=>i.jsx(qx,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));dt.displayName=qx.displayName;const Vr=j.forwardRef(({className:e,...t},n)=>i.jsx(zx,{ref:n,className:Ee("text-sm text-muted-foreground",e),...t}));Vr.displayName=zx.displayName;const xT="dr-m-playlists";function pB(){const e=localStorage.getItem(xT);return e?JSON.parse(e):[]}function mB(e){const t=pB(),n={...e,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return t.push(n),localStorage.setItem(xT,JSON.stringify(t)),n}const Qw=["Recognition","Vibration Elevation","Neurolinking","EET","Hoponopono","Soul Connection","Donald Duck","Inner Child Healing","Journaling"],Gw=["Wealth Code Activation 1","Wealth Code Activation 2","Wealth Code Activation 3","Wealth Code Activation 4","Birth Story Healing","Adoption","Miscarriage","Cesarean","Clearing the Birth Energy","Pre-Birth Story Process","Anxiety Relief Code 1","Anxiety Relief Code 2","Happiness Code Activation 1","Happiness Code Activation 2","Story Burning"];function gB(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[o,l]=j.useState(!0),[c,u]=j.useState(!1),[h,d]=j.useState(""),f=m=>{r(y=>y.includes(m)?y.filter(g=>g!==m):[...y,m])},v=()=>{n.length!==0&&u(!0)},x=()=>{if(!h.trim()){t({title:"Name Required",description:"Please enter a name for your playlist.",variant:"destructive"});return}mB({name:h.trim(),practices:n}),t({title:"Playlist Saved!",description:`"${h}" with ${n.length} practices has been saved.`}),u(!1),d(""),r([]),setTimeout(()=>{e("/playlist")},500)};return i.jsxs("div",{className:"min-h-screen bg-background pb-32",children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Design Your Practice"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," selected"]})]})]})}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[i.jsxs("div",{className:"bg-card border border-card-border rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>a(!s),className:"w-full p-4 flex items-center justify-between hover-elevate active-elevate-2","data-testid":"button-toggle-usm",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"USM Practices"}),s?i.jsx(Wo,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(Xr,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsx(Nf,{children:s&&i.jsx(Jo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"border-t border-border",children:Qw.map((m,y)=>i.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 hover-elevate ${y!==Qw.length-1?"border-b border-border":""}`,children:[i.jsx(bo,{id:`usm-${m}`,checked:n.includes(m),onCheckedChange:()=>f(m),"data-testid":`checkbox-${m.toLowerCase().replace(/\s+/g,"-")}`}),i.jsx("label",{htmlFor:`usm-${m}`,className:"flex-1 text-sm font-medium text-foreground cursor-pointer",children:m})]},m))})})})]}),i.jsxs("div",{className:"bg-card border border-card-border rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>l(!o),className:"w-full p-4 flex items-center justify-between hover-elevate active-elevate-2","data-testid":"button-toggle-dyd",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"DYD Practices"}),o?i.jsx(Wo,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(Xr,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsx(Nf,{children:o&&i.jsx(Jo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"border-t border-border",children:Gw.map((m,y)=>i.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 hover-elevate ${y!==Gw.length-1?"border-b border-border":""}`,children:[i.jsx(bo,{id:`dyd-${m}`,checked:n.includes(m),onCheckedChange:()=>f(m),"data-testid":`checkbox-${m.toLowerCase().replace(/\s+/g,"-")}`}),i.jsx("label",{htmlFor:`dyd-${m}`,className:"flex-1 text-sm font-medium text-foreground cursor-pointer",children:m})]},m))})})})]})]}),i.jsx("div",{className:"fixed bottom-20 left-0 right-0 p-4 bg-background/95 backdrop-blur-sm border-t border-border",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs(ee,{onClick:v,className:"w-full h-12 text-base font-semibold",disabled:n.length===0,"data-testid":"button-save-playlist",children:["Save My Playlist (",n.length,")"]})})})]}),i.jsx(ct,{open:c,onOpenChange:u,children:i.jsxs(it,{className:"max-w-md","data-testid":"dialog-name-playlist",children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Name Your Playlist"}),i.jsx(Vr,{children:"Give your custom practice playlist a memorable name"})]}),i.jsxs("div",{className:"py-4",children:[i.jsx(ge,{htmlFor:"playlist-name",className:"text-sm font-medium",children:"Playlist Name"}),i.jsx(Ae,{id:"playlist-name",placeholder:"e.g., Morning Routine",value:h,onChange:m=>d(m.target.value),onKeyDown:m=>{m.key==="Enter"&&x()},className:"mt-2","data-testid":"input-playlist-name",autoFocus:!0})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>{u(!1),d("")},"data-testid":"button-cancel",children:"Cancel"}),i.jsx(ee,{onClick:x,"data-testid":"button-confirm-save",children:"Save Playlist"})]})]})})]})}function vB(){const[,e]=Ve(),{toast:t}=ht(),{data:n=[],isLoading:r}=Ue({queryKey:["/api/sessions"]}),s=(o,l)=>{o?(window.open(o,"_blank"),t({title:"Opening Session",description:`Launching ${l} practice session...`})):t({title:"Link unavailable",description:"Meeting link not set for this session",variant:"destructive"})},a=o=>{const l=new Date,[c,u]=o.split(":").map(Number),h=new Date;h.setHours(c,u,0,0);const d=Math.floor((h.getTime()-l.getTime())/(1e3*60));return d<-30?{status:"ended",label:"Ended"}:d<=0&&d>=-30?{status:"live",label:"Live Now"}:d<=15?{status:"starting-soon",label:"Starting Soon"}:{status:"upcoming",label:"Upcoming"}};return i.jsx("div",{className:"min-h-screen bg-page-bg pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b z-10",children:i.jsxs("div",{className:"py-4 relative flex items-center",children:[i.jsx("button",{onClick:()=>e("/"),className:"absolute left-4 top-1/2 translate-y-[4px] hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-gray-500"})}),i.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 text-xl font-bold text-gray-500 tracking-wider font-['Montserrat'] uppercase whitespace-nowrap",children:"COMMUNITY PRACTICES"})]})}),i.jsxs("div",{className:"px-4 py-6",children:[i.jsx(we,{className:"bg-white border border-gray-200 p-4 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ys,{className:"w-5 h-5 text-brand mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Practice Together"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Join our community for guided group practices. Sessions run daily at scheduled times."})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Today's Sessions"}),r?i.jsx("p",{className:"text-center text-gray-500 py-8",children:"Loading sessions..."}):n.length===0?i.jsx(we,{className:"bg-white border border-gray-200 p-8",children:i.jsx("p",{className:"text-center text-gray-500",children:"No sessions scheduled yet"})}):n.map(o=>{const{status:l,label:c}=a(o.time);return i.jsx(we,{className:"bg-white border border-gray-200 p-4","data-testid":`session-${o.id}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-14 h-14 bg-brand/10 rounded-lg flex items-center justify-center",children:i.jsx(xi,{className:"w-7 h-7 text-brand"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title}),l==="live"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-500/10 text-red-600 text-xs font-medium",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full animate-pulse"}),c]}),l==="starting-soon"&&i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-amber-500/10 text-amber-600 text-xs font-medium",children:c})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.displayTime}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(ys,{className:"w-3.5 h-3.5"}),i.jsxs("span",{children:[o.participants," members"]})]})]}),i.jsx(ee,{onClick:()=>s(o.meetingLink,o.displayTime),variant:l==="live"?"default":"outline",size:"default",disabled:l==="ended","data-testid":`button-join-${o.id}`,children:l==="ended"?"Ended":"Join"})]})},o.id)})]}),i.jsx(we,{className:"mt-6 p-4 bg-white border border-gray-200",children:i.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Sessions are open 30 minutes before and after scheduled time"})})]})]})})}function yB(){const[,e]=Ve(),{data:t,isLoading:n,error:r}=Ue({queryKey:["/api/public/v1/features","BREATH"],queryFn:async()=>{const a=await fetch("/api/public/v1/features/BREATH");if(!a.ok)throw new Error("Failed to fetch Spiritual Breaths content");return a.json()}}),s=(t==null?void 0:t.lessons)||[];return i.jsx("div",{className:"min-h-screen pb-20 bg-page-bg",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b z-10",children:i.jsxs("div",{className:"py-4 relative flex items-center",children:[i.jsx("button",{onClick:()=>e("/"),className:"absolute left-4 hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-gray-500"})}),i.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-lg font-bold text-gray-500 tracking-wider font-['Montserrat'] uppercase whitespace-nowrap",children:"SPIRITUAL BREATHS"})]})}),i.jsxs("div",{className:"px-4 py-6",children:[n&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})}),r&&i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Failed to load Spiritual Breaths content"}),!n&&!r&&s.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-brand/10 rounded-full flex items-center justify-center mb-4",children:i.jsx(wa,{className:"w-8 h-8 text-brand"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Breaths Yet"}),i.jsx("p",{className:"text-muted-foreground text-sm max-w-xs",children:"Spiritual Breaths content is being prepared. Check back soon!"})]}),!n&&!r&&s.length>0&&i.jsx("div",{className:"space-y-3",children:s.map(a=>i.jsx(we,{className:"p-4 hover-elevate active-elevate-2 cursor-pointer",onClick:()=>e(`/spiritual-breaths/lesson/${a.id}`),"data-testid":`card-lesson-${a.id}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#E8F5E9"},children:i.jsx(wa,{className:"w-6 h-6",style:{color:"#4CAF50"}})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("h3",{className:"font-semibold text-foreground truncate",children:a.title})}),i.jsx(Cn,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]})},a.id))})]})]})})}function xB(e){return{id:e.id.toString(),title:e.title,subtitle:e.subtitle,date:e.date,time:e.time,startTime:new Date(e.scheduledStart),endTime:new Date(e.scheduledEnd),zoomLink:e.zoomLink,thumbnail:e.thumbnail,isLive:e.isLive}}function bB(e){return{id:e.id.toString(),title:e.title,thumbnail:e.thumbnail,uploadDate:e.uploadDate,isCollection:!1,url:e.videoUrl,author:e.author,description:e.description,videoId:`video-${e.id}`}}function wB(){const[,e]=Ve(),[t,n]=j.useState("upcoming"),[r,s]=j.useState(null),[a,o]=j.useState(!0),{data:l=[]}=Ue({queryKey:["/api/masterclasses"]}),{data:c=[]}=Ue({queryKey:["/api/workshop-videos"]}),u=l.map(xB),h=c.map(bB),d=[{id:"upcoming",label:"Upcoming"},{id:"latest",label:"Latest"}];j.useEffect(()=>{try{const g=localStorage.getItem("last-watched");if(g){const p=JSON.parse(g);s(p)}}catch(g){console.error("Error loading last watched:",g)}},[]);const f=g=>{window.open(g,"_blank")},v=g=>{if(g.isCollection)e(`/workshops/course/${g.id}`);else{const p=new URLSearchParams({videoId:g.videoId||g.id,title:g.title,thumbnail:g.thumbnail||"",url:g.url||"",author:g.author||"",description:g.description||""});e(`/video-player?${p.toString()}`)}},x=()=>{if(!r)return;const g=new URLSearchParams({videoId:r.videoId,title:r.title,thumbnail:r.thumbnail,author:r.author||"",url:r.url||"",progress:r.progressInSeconds.toString()});e(`/video-player?${g.toString()}`)},m=()=>{o(!1)},y=g=>{const p=Math.floor(g/60),b=g%60;return`${p}:${b.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:[i.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[i.jsx("h1",{className:"text-xl font-bold text-gray-500 tracking-wider",style:{fontFamily:"Montserrat, sans-serif"},children:"MASTERCLASSES"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>e("/search"),className:"w-10 h-10 rounded-full bg-[#F3F0FF] flex items-center justify-center hover-elevate active-elevate-2","data-testid":"button-search",children:i.jsx(Ra,{className:"w-5 h-5 text-[#703DFA]",strokeWidth:2})}),i.jsx("button",{onClick:()=>e("/notifications"),className:"w-10 h-10 rounded-full bg-[#F3F0FF] flex items-center justify-center hover-elevate active-elevate-2","data-testid":"button-notifications",children:i.jsx(gh,{className:"w-5 h-5 text-[#703DFA]",strokeWidth:2})})]})]}),i.jsx("div",{className:"border-t border-gray-200"}),i.jsx("div",{className:"overflow-x-auto scrollbar-hide bg-white",children:i.jsx("div",{className:"flex gap-2 px-4 pb-3 pt-3 min-w-max",children:d.map(g=>i.jsx("button",{onClick:()=>n(g.id),className:`px-4 py-2 rounded-md font-medium text-sm whitespace-nowrap transition-all ${t===g.id?"bg-[#703DFA] text-white":"bg-[#F3F0FF] text-gray-600 hover-elevate"}`,"data-testid":`tab-${g.id}`,children:g.label},g.id))})})]}),i.jsxs("div",{className:"px-4 py-6",children:[t==="upcoming"&&i.jsx("div",{className:"space-y-5",children:u.map(g=>{var p;return i.jsxs("div",{className:"bg-white border border-[#232A34]/10 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition","data-testid":`upcoming-${g.id}`,children:[i.jsxs("div",{className:"relative h-48",children:[(p=g.thumbnail)!=null&&p.startsWith("bg-")?i.jsx("div",{className:`${g.thumbnail} w-full h-full`}):i.jsx("img",{src:g.thumbnail||"/images/placeholder.jpg",alt:g.title,className:"w-full h-full object-cover"}),g.isLive&&i.jsx("div",{className:"absolute top-3 right-3 px-2.5 py-1 rounded-full bg-red-500 text-white text-xs font-bold",children:"LIVE"})]}),i.jsxs("div",{className:"p-3 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Ay,{className:"w-4 h-4 text-[#703DFA]",strokeWidth:2}),i.jsx("span",{className:"text-sm font-medium",children:g.date})]}),i.jsx("span",{className:"text-xs",children:g.time})]}),i.jsxs("div",{className:"flex items-start justify-between gap-2 pt-0.5",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-base font-bold text-[#232A34] leading-tight",children:g.title}),i.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:g.subtitle})]}),g.isLive&&i.jsx("button",{onClick:()=>f(g.zoomLink),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-medium text-sm whitespace-nowrap hover:opacity-90 transition shrink-0","data-testid":`button-join-${g.id}`,children:"JOIN"})]})]})]},g.id)})}),t==="latest"&&i.jsx("div",{className:"space-y-4",children:h.map(g=>i.jsxs(we,{className:"overflow-hidden cursor-pointer hover-elevate active-elevate-2",onClick:()=>v(g),"data-testid":`video-${g.id}`,children:[typeof g.thumbnail=="string"&&g.thumbnail.startsWith("bg-")?i.jsx("div",{className:`${g.thumbnail} h-48 flex items-center justify-center`,children:i.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Wr,{className:"w-7 h-7 text-white",fill:"white"})})}):i.jsxs("div",{className:"relative h-48 bg-black",children:[i.jsx("img",{src:g.thumbnail,alt:g.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Wr,{className:"w-7 h-7 text-white",fill:"white"})})})]}),i.jsxs("div",{className:"p-3 bg-white",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-",children:g.title}),g.author&&i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:g.author}),i.jsx("p",{className:"text-sm text-muted-foreground",children:g.uploadDate})]})]},g.id))})]})]}),r&&a&&i.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white border-t border-[#E5E7EB] shadow-lg z-20","data-testid":"last-watched-bar",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[r.thumbnail&&i.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-16 h-10 object-cover rounded flex-shrink-0","data-testid":"last-watched-thumbnail"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate","data-testid":"last-watched-title",children:r.title}),i.jsxs("p",{className:"text-xs text-gray-500","data-testid":"last-watched-time",children:["Watched: ",y(r.progressInSeconds)]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsxs(ee,{size:"sm",onClick:x,className:"bg-[#703DFA] border border-[#703DFA] text-white hover:opacity-90 transition",children:[i.jsx(Wr,{className:"w-4 h-4 mr-1",fill:"white"}),"Resume"]}),i.jsx("button",{onClick:m,className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-[#703DFA]/10 transition-colors","data-testid":"button-close-last-watched",children:i.jsx(Pn,{className:"w-4 h-4 text-[#703DFA]"})})]})]})})})]})}var bT="AlertDialog",[jB,OJ]=en(bT,[JE]),Os=JE(),wT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Os(t);return i.jsx(mT,{...r,...n,modal:!0})};wT.displayName=bT;var NB="AlertDialogTrigger",SB=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return i.jsx(gT,{...s,...r,ref:t})});SB.displayName=NB;var kB="AlertDialogPortal",jT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Os(t);return i.jsx(vT,{...r,...n})};jT.displayName=kB;var _B="AlertDialogOverlay",NT=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return i.jsx(Vx,{...s,...r,ref:t})});NT.displayName=_B;var jo="AlertDialogContent",[CB,EB]=jB(jo),TB=p2("AlertDialogContent"),ST=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=Os(n),o=j.useRef(null),l=Ge(t,o),c=j.useRef(null);return i.jsx(cB,{contentName:jo,titleName:kT,docsSlug:"alert-dialog",children:i.jsx(CB,{scope:n,cancelRef:c,children:i.jsxs(Ux,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:me(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(TB,{children:r}),i.jsx(PB,{contentRef:o})]})})})});ST.displayName=jo;var kT="AlertDialogTitle",_T=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return i.jsx(qx,{...s,...r,ref:t})});_T.displayName=kT;var CT="AlertDialogDescription",ET=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return i.jsx(zx,{...s,...r,ref:t})});ET.displayName=CT;var AB="AlertDialogAction",TT=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return i.jsx(Wx,{...s,...r,ref:t})});TT.displayName=AB;var AT="AlertDialogCancel",PT=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=EB(AT,n),a=Os(n),o=Ge(t,s);return i.jsx(Wx,{...a,...r,ref:o})});PT.displayName=AT;var PB=({contentRef:e})=>{const t=`\`${jo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jo}\` by passing a \`${CT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},OB=wT,DB=jT,OT=NT,DT=ST,RT=TT,MT=PT,IT=_T,LT=ET;const Sa=OB,RB=DB,FT=j.forwardRef(({className:e,...t},n)=>i.jsx(OT,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));FT.displayName=OT.displayName;const Si=j.forwardRef(({className:e,...t},n)=>i.jsxs(RB,{children:[i.jsx(FT,{}),i.jsx(DT,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Si.displayName=DT.displayName;const ki=({className:e,...t})=>i.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});ki.displayName="AlertDialogHeader";const _i=({className:e,...t})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_i.displayName="AlertDialogFooter";const Ci=j.forwardRef(({className:e,...t},n)=>i.jsx(IT,{ref:n,className:Ee("text-lg font-semibold",e),...t}));Ci.displayName=IT.displayName;const Ei=j.forwardRef(({className:e,...t},n)=>i.jsx(LT,{ref:n,className:Ee("text-sm text-muted-foreground",e),...t}));Ei.displayName=LT.displayName;const Ti=j.forwardRef(({className:e,...t},n)=>i.jsx(RT,{ref:n,className:Ee(Dx(),e),...t}));Ti.displayName=RT.displayName;const Ai=j.forwardRef(({className:e,...t},n)=>i.jsx(MT,{ref:n,className:Ee(Dx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ai.displayName=MT.displayName;function Yw(e,[t,n]){return Math.min(n,Math.max(t,e))}var MB=[" ","Enter","ArrowUp","ArrowDown"],IB=[" ","Enter"],wu="Select",[Fh,$h,LB]=fh(wu),[ml,DJ]=en(wu,[LB,fl]),Bh=fl(),[FB,Bi]=ml(wu),[$B,BB]=ml(wu),$T=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:f,required:v,form:x}=e,m=Bh(t),[y,g]=j.useState(null),[p,b]=j.useState(null),[w,N]=j.useState(!1),T=xu(u),[S=!1,E]=Nr({prop:r,defaultProp:s,onChange:a}),[A,C]=Nr({prop:o,defaultProp:l,onChange:c}),_=j.useRef(null),k=y?x||!!y.closest("form"):!0,[P,M]=j.useState(new Set),B=Array.from(P).map(U=>U.props.value).join(";");return i.jsx(T_,{...m,children:i.jsxs(FB,{required:v,scope:t,trigger:y,onTriggerChange:g,valueNode:p,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:br(),value:A,onValueChange:C,open:S,onOpenChange:E,dir:T,triggerPointerDownPosRef:_,disabled:f,children:[i.jsx(Fh.Provider,{scope:t,children:i.jsx($B,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(U=>{M(L=>new Set(L).add(U))},[]),onNativeOptionRemove:j.useCallback(U=>{M(L=>{const F=new Set(L);return F.delete(U),F})},[]),children:n})}),k?i.jsxs(uA,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:d,value:A,onChange:U=>C(U.target.value),disabled:f,form:x,children:[A===void 0?i.jsx("option",{value:""}):null,Array.from(P)]},B):null]})})};$T.displayName=wu;var BT="SelectTrigger",VT=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Bh(n),o=Bi(BT,n),l=o.disabled||r,c=Ge(t,o.onTriggerChange),u=$h(n),h=j.useRef("touch"),[d,f,v]=dA(m=>{const y=u().filter(b=>!b.disabled),g=y.find(b=>b.value===o.value),p=fA(y,m,g);p!==void 0&&o.onValueChange(p.value)}),x=m=>{l||(o.onOpenChange(!0),v()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(Wy,{asChild:!0,...a,children:i.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cA(o.value)?"":void 0,...s,ref:c,onClick:me(s.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&x(m)}),onPointerDown:me(s.onPointerDown,m=>{h.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:me(s.onKeyDown,m=>{const y=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(y&&m.key===" ")&&MB.includes(m.key)&&(x(),m.preventDefault())})})})});VT.displayName=BT;var UT="SelectValue",qT=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=Bi(UT,n),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,d=Ge(t,c.onValueNodeChange);return Jt(()=>{u(h)},[u,h]),i.jsx(Pe.span,{...l,ref:d,style:{pointerEvents:"none"},children:cA(c.value)?i.jsx(i.Fragment,{children:o}):a})});qT.displayName=UT;var VB="SelectIcon",zT=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(Pe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});zT.displayName=VB;var UB="SelectPortal",WT=e=>i.jsx(du,{asChild:!0,...e});WT.displayName=UB;var ka="SelectContent",HT=j.forwardRef((e,t)=>{const n=Bi(ka,e.__scopeSelect),[r,s]=j.useState();if(Jt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Fi.createPortal(i.jsx(KT,{scope:e.__scopeSelect,children:i.jsx(Fh.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(QT,{...e,ref:t})});HT.displayName=ka;var lr=10,[KT,Vi]=ml(ka),qB="SelectContentImpl",zB=ba("SelectContent.RemoveScroll"),QT=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:m,avoidCollisions:y,...g}=e,p=Bi(ka,n),[b,w]=j.useState(null),[N,T]=j.useState(null),S=Ge(t,z=>w(z)),[E,A]=j.useState(null),[C,_]=j.useState(null),k=$h(n),[P,M]=j.useState(!1),B=j.useRef(!1);j.useEffect(()=>{if(b)return Ix(b)},[b]),Mx();const U=j.useCallback(z=>{const[Z,...X]=k().map(Y=>Y.ref.current),[te]=X.slice(-1),oe=document.activeElement;for(const Y of z)if(Y===oe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===Z&&N&&(N.scrollTop=0),Y===te&&N&&(N.scrollTop=N.scrollHeight),Y==null||Y.focus(),document.activeElement!==oe))return},[k,N]),L=j.useCallback(()=>U([E,b]),[U,E,b]);j.useEffect(()=>{P&&L()},[P,L]);const{onOpenChange:F,triggerPointerDownPosRef:R}=p;j.useEffect(()=>{if(b){let z={x:0,y:0};const Z=te=>{var oe,Y;z={x:Math.abs(Math.round(te.pageX)-(((oe=R.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(te.pageY)-(((Y=R.current)==null?void 0:Y.y)??0))}},X=te=>{z.x<=10&&z.y<=10?te.preventDefault():b.contains(te.target)||F(!1),document.removeEventListener("pointermove",Z),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,F,R]),j.useEffect(()=>{const z=()=>F(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[F]);const[O,D]=dA(z=>{const Z=k().filter(oe=>!oe.disabled),X=Z.find(oe=>oe.ref.current===document.activeElement),te=fA(Z,z,X);te&&setTimeout(()=>te.ref.current.focus())}),$=j.useCallback((z,Z,X)=>{const te=!B.current&&!X;(p.value!==void 0&&p.value===Z||te)&&(A(z),te&&(B.current=!0))},[p.value]),q=j.useCallback(()=>b==null?void 0:b.focus(),[b]),K=j.useCallback((z,Z,X)=>{const te=!B.current&&!X;(p.value!==void 0&&p.value===Z||te)&&_(z)},[p.value]),W=r==="popper"?Jg:GT,V=W===Jg?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:m,avoidCollisions:y}:{};return i.jsx(KT,{scope:n,content:b,viewport:N,onViewportChange:T,itemRefCallback:$,selectedItem:E,onItemLeave:q,itemTextRefCallback:K,focusSelectedItem:L,selectedItemText:C,position:r,isPositioned:P,searchRef:O,children:i.jsx(Lh,{as:zB,allowPinchZoom:!0,children:i.jsx(Mh,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:me(s,z=>{var Z;(Z=p.trigger)==null||Z.focus({preventScroll:!0}),z.preventDefault()}),children:i.jsx(ol,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:i.jsx(W,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...g,...V,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:me(g.onKeyDown,z=>{const Z=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!Z&&z.key.length===1&&D(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let te=k().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(z.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const oe=z.target,Y=te.indexOf(oe);te=te.slice(Y+1)}setTimeout(()=>U(te)),z.preventDefault()}})})})})})})});QT.displayName=qB;var WB="SelectItemAlignedPosition",GT=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Bi(ka,n),o=Vi(ka,n),[l,c]=j.useState(null),[u,h]=j.useState(null),d=Ge(t,S=>h(S)),f=$h(n),v=j.useRef(!1),x=j.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:g,focusSelectedItem:p}=o,b=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&y&&g){const S=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),C=g.getBoundingClientRect();if(a.dir!=="rtl"){const oe=C.left-E.left,Y=A.left-oe,de=S.left-Y,le=S.width+de,Ce=Math.max(le,E.width),Xe=window.innerWidth-lr,Oe=Yw(Y,[lr,Math.max(lr,Xe-Ce)]);l.style.minWidth=le+"px",l.style.left=Oe+"px"}else{const oe=E.right-C.right,Y=window.innerWidth-A.right-oe,de=window.innerWidth-S.right-Y,le=S.width+de,Ce=Math.max(le,E.width),Xe=window.innerWidth-lr,Oe=Yw(Y,[lr,Math.max(lr,Xe-Ce)]);l.style.minWidth=le+"px",l.style.right=Oe+"px"}const _=f(),k=window.innerHeight-lr*2,P=m.scrollHeight,M=window.getComputedStyle(u),B=parseInt(M.borderTopWidth,10),U=parseInt(M.paddingTop,10),L=parseInt(M.borderBottomWidth,10),F=parseInt(M.paddingBottom,10),R=B+U+P+F+L,O=Math.min(y.offsetHeight*5,R),D=window.getComputedStyle(m),$=parseInt(D.paddingTop,10),q=parseInt(D.paddingBottom,10),K=S.top+S.height/2-lr,W=k-K,V=y.offsetHeight/2,z=y.offsetTop+V,Z=B+U+z,X=R-Z;if(Z<=K){const oe=_.length>0&&y===_[_.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(W,V+(oe?q:0)+Y+L),le=Z+de;l.style.height=le+"px"}else{const oe=_.length>0&&y===_[0].ref.current;l.style.top="0px";const de=Math.max(K,B+m.offsetTop+(oe?$:0)+V)+X;l.style.height=de+"px",m.scrollTop=Z-K+m.offsetTop}l.style.margin=`${lr}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,a.trigger,a.valueNode,l,u,m,y,g,a.dir,r]);Jt(()=>b(),[b]);const[w,N]=j.useState();Jt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const T=j.useCallback(S=>{S&&x.current===!0&&(b(),p==null||p(),x.current=!1)},[b,p]);return i.jsx(KB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:T,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(Pe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});GT.displayName=WB;var HB="SelectPopperPosition",Jg=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=lr,...a}=e,o=Bh(n);return i.jsx(Hy,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jg.displayName=HB;var[KB,Hx]=ml(ka,{}),ev="SelectViewport",YT=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Vi(ev,n),o=Hx(ev,n),l=Ge(t,a.onViewportChange),c=j.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Fh.Slot,{scope:n,children:i.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const v=Math.abs(c.current-h.scrollTop);if(v>0){const x=window.innerHeight-lr*2,m=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),g=Math.max(m,y);if(g<x){const p=g+v,b=Math.min(x,p),w=p-b;d.style.height=b+"px",d.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});YT.displayName=ev;var ZT="SelectGroup",[QB,GB]=ml(ZT),YB=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=br();return i.jsx(QB,{scope:n,id:s,children:i.jsx(Pe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});YB.displayName=ZT;var XT="SelectLabel",JT=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=GB(XT,n);return i.jsx(Pe.div,{id:s.id,...r,ref:t})});JT.displayName=XT;var kf="SelectItem",[ZB,eA]=ml(kf),tA=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=Bi(kf,n),c=Vi(kf,n),u=l.value===r,[h,d]=j.useState(a??""),[f,v]=j.useState(!1),x=Ge(t,p=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,p,r,s)}),m=br(),y=j.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(ZB,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:j.useCallback(p=>{d(b=>b||((p==null?void 0:p.textContent)??"").trim())},[]),children:i.jsx(Fh.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:i.jsx(Pe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:me(o.onFocus,()=>v(!0)),onBlur:me(o.onBlur,()=>v(!1)),onClick:me(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:me(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:me(o.onPointerDown,p=>{y.current=p.pointerType}),onPointerMove:me(o.onPointerMove,p=>{var b;y.current=p.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,p=>{var b;p.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:me(o.onKeyDown,p=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&p.key===" "||(IB.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});tA.displayName=kf;var Kl="SelectItemText",nA=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=Bi(Kl,n),l=Vi(Kl,n),c=eA(Kl,n),u=BB(Kl,n),[h,d]=j.useState(null),f=Ge(t,g=>d(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),v=h==null?void 0:h.textContent,x=j.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return Jt(()=>(m(x),()=>y(x)),[m,y,x]),i.jsxs(i.Fragment,{children:[i.jsx(Pe.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fi.createPortal(a.children,o.valueNode):null]})});nA.displayName=Kl;var rA="SelectItemIndicator",sA=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return eA(rA,n).isSelected?i.jsx(Pe.span,{"aria-hidden":!0,...r,ref:t}):null});sA.displayName=rA;var tv="SelectScrollUpButton",iA=j.forwardRef((e,t)=>{const n=Vi(tv,e.__scopeSelect),r=Hx(tv,e.__scopeSelect),[s,a]=j.useState(!1),o=Ge(t,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(oA,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});iA.displayName=tv;var nv="SelectScrollDownButton",aA=j.forwardRef((e,t)=>{const n=Vi(nv,e.__scopeSelect),r=Hx(nv,e.__scopeSelect),[s,a]=j.useState(!1),o=Ge(t,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(oA,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});aA.displayName=nv;var oA=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Vi("SelectScrollButton",n),o=j.useRef(null),l=$h(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Jt(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),i.jsx(Pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{c()})})}),XB="SelectSeparator",lA=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Pe.div,{"aria-hidden":!0,...r,ref:t})});lA.displayName=XB;var rv="SelectArrow",JB=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Bh(n),a=Bi(rv,n),o=Vi(rv,n);return a.open&&o.position==="popper"?i.jsx(Ky,{...s,...r,ref:t}):null});JB.displayName=rv;function cA(e){return e===""||e===void 0}var uA=j.forwardRef((e,t)=>{const{value:n,...r}=e,s=j.useRef(null),a=Ge(t,s),o=Rh(n);return j.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const d=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(d)}},[o,n]),i.jsx(fu,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});uA.displayName="BubbleSelect";function dA(e){const t=un(e),n=j.useRef(""),r=j.useRef(0),s=j.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function fA(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=eV(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function eV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tV=$T,hA=VT,nV=qT,rV=zT,sV=WT,pA=HT,iV=YT,mA=JT,gA=tA,aV=nA,oV=sA,vA=iA,yA=aA,xA=lA;const Gt=tV,Yt=nV,Ut=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(hA,{ref:r,className:Ee("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(rV,{asChild:!0,children:i.jsx(Xr,{className:"h-4 w-4 opacity-50"})})]}));Ut.displayName=hA.displayName;const bA=j.forwardRef(({className:e,...t},n)=>i.jsx(vA,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Wo,{className:"h-4 w-4"})}));bA.displayName=vA.displayName;const wA=j.forwardRef(({className:e,...t},n)=>i.jsx(yA,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Xr,{className:"h-4 w-4"})}));wA.displayName=yA.displayName;const qt=j.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(sV,{children:i.jsxs(pA,{ref:s,className:Ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(bA,{}),i.jsx(iV,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(wA,{})]})}));qt.displayName=pA.displayName;const lV=j.forwardRef(({className:e,...t},n)=>i.jsx(mA,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lV.displayName=mA.displayName;const et=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(gA,{ref:r,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(oV,{children:i.jsx(Jn,{className:"h-4 w-4"})})}),i.jsx(aV,{children:t})]}));et.displayName=gA.displayName;const cV=j.forwardRef(({className:e,...t},n)=>i.jsx(xA,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));cV.displayName=xA.displayName;function uV({src:e,title:t,mode:n="basic",userId:r,audioId:s,playlistId:a,isActive:o,onPlay:l,onEnded:c,autoPlay:u=!1,initialTime:h=0,onProgressUpdate:d,onComplete:f}){const v=j.useRef(null),[x,m]=j.useState(!1),[y,g]=j.useState(0),[p,b]=j.useState(0),[w,N]=j.useState(1),[T,S]=j.useState(!1);j.useEffect(()=>{const P=v.current;if(!P)return;const M=()=>{g(P.currentTime),n==="playlist"&&d&&d(P.currentTime,P.duration)},B=()=>b(P.duration),U=()=>{m(!1),c&&c()};return P.addEventListener("timeupdate",M),P.addEventListener("loadedmetadata",B),P.addEventListener("ended",U),()=>{P.removeEventListener("timeupdate",M),P.removeEventListener("loadedmetadata",B),P.removeEventListener("ended",U)}},[c,n,d]),j.useEffect(()=>{n==="playlist"&&p>0&&!T&&y/p*100>=90&&(E(),S(!0),f&&f())},[y,p,n,T,f]),j.useEffect(()=>{const P=v.current;P&&o===!1&&x&&(P.pause(),m(!1))},[o,x]),j.useEffect(()=>{const P=v.current;P&&(g(0),S(!1),P.load(),h>0&&(P.currentTime=h,g(h)),u&&P.play().then(()=>m(!0)).catch(()=>{}))},[e,u,h]);const E=async()=>{if(!(!r||!s||!a))try{await fetch("/api/track-progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,audioId:s,playlistId:a,progress:90})})}catch(P){console.error("Failed to track progress:",P)}},A=()=>{const P=v.current;P&&(x?(P.pause(),m(!1)):(P.play(),m(!0),l&&l()))},C=P=>{const M=v.current;if(!M)return;const B=parseFloat(P.target.value);M.currentTime=B,g(B)},_=P=>{const M=v.current;if(!M)return;const B=parseFloat(P);M.playbackRate=B,N(B)},k=P=>{if(isNaN(P))return"0:00";const M=Math.floor(P/60),B=Math.floor(P%60);return`${M}:${B.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-4 space-y-3","data-testid":"audio-player",children:[i.jsx("audio",{ref:v,src:e,preload:"metadata"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ee,{size:"icon",onClick:A,className:"w-12 h-12 rounded-full flex-shrink-0 bg-brand hover:bg-brand/90 text-brand-foreground","data-testid":"button-play-pause",children:x?i.jsx(Dy,{className:"w-5 h-5",fill:"currentColor"}):i.jsx(Wr,{className:"w-5 h-5",fill:"currentColor"})}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 truncate","data-testid":"text-audio-title",children:t}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("input",{type:"range",min:"0",max:p||0,value:y,onChange:C,className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand",style:{background:`linear-gradient(to right, hsl(var(--brand-purple)) 0%, hsl(var(--brand-purple)) ${y/p*100}%, #e5e7eb ${y/p*100}%, #e5e7eb 100%)`},"data-testid":"input-audio-seek"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[i.jsx("span",{"data-testid":"text-current-time",children:k(y)}),i.jsx("span",{"data-testid":"text-duration",children:k(p)})]})]})]}),i.jsxs(Gt,{value:w.toString(),onValueChange:_,children:[i.jsx(Ut,{className:"w-20 h-9","data-testid":"select-speed",children:i.jsx(Yt,{})}),i.jsxs(qt,{children:[i.jsx(et,{value:"1",children:"1x"}),i.jsx(et,{value:"1.25",children:"1.25x"}),i.jsx(et,{value:"1.5",children:"1.5x"}),i.jsx(et,{value:"2",children:"2x"})]})]})]})]})}function dV(){const[,e]=Ve(),{toast:t}=ht(),{isAuthenticated:n,isLoading:r}=Gy(),[s,a]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState(!1),[h,d]=j.useState(null),[f,v]=j.useState(""),[x,m]=j.useState(!1),[y,g]=j.useState(""),[p,b]=j.useState(!1),[w,N]=j.useState(null),[T,S]=j.useState([]),[E,A]=j.useState(null),[C,_]=j.useState(null),[k,P]=j.useState(0),[M,B]=j.useState(!1),[U,L]=j.useState(0),[F,R]=j.useState([]),{data:O=[],isLoading:D}=Ue({queryKey:["/api/public/v1/playlists"],queryFn:wd({on401:"returnNull"}),enabled:n}),{data:$,isLoading:q}=Ue({queryKey:["/api/public/v1/playlists",s],queryFn:wd({on401:"returnNull"}),enabled:!!s&&n}),{data:K,isLoading:W}=Ue({queryKey:["/api/public/v1/playlist/source"],queryFn:wd({on401:"returnNull"}),enabled:p&&n}),V=Se({mutationFn:async J=>(await De("POST","/api/public/v1/playlists",{title:J})).json(),onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/public/v1/playlists"]}),m(!1),g(""),t({title:"Playlist created!"})},onError:()=>{t({title:"Failed to create playlist",variant:"destructive"})}}),z=Se({mutationFn:async({id:J,title:ie})=>(await De("PATCH",`/api/public/v1/playlists/${J}`,{title:ie})).json(),onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/public/v1/playlists"]}),u(!1),d(null),v(""),t({title:"Playlist renamed!"})},onError:()=>{t({title:"Failed to rename playlist",variant:"destructive"})}}),Z=Se({mutationFn:async J=>{await De("DELETE",`/api/public/v1/playlists/${J}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/public/v1/playlists"]}),l(null),C===o&&I(),t({title:"Playlist deleted!"})},onError:()=>{t({title:"Failed to delete playlist",variant:"destructive"})}}),X=Se({mutationFn:async({playlistId:J,lessonIds:ie})=>(await De("POST",`/api/public/v1/playlists/${J}/items`,{lessonIds:ie})).json(),onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/public/v1/playlists"]}),ve.invalidateQueries({queryKey:["/api/public/v1/playlists",w]}),b(!1),N(null),S([]),t({title:"Playlist updated!"})},onError:()=>{t({title:"Failed to update playlist",variant:"destructive"})}}),te=Se({mutationFn:async({playlistId:J,itemId:ie})=>{await De("DELETE",`/api/public/v1/playlists/${J}/items/${ie}`)},onSuccess:(J,ie)=>{ve.invalidateQueries({queryKey:["/api/public/v1/playlists",ie.playlistId]}),t({title:"Item removed!"})},onError:()=>{t({title:"Failed to remove item",variant:"destructive"})}}),oe=Se({mutationFn:async({playlistId:J,orderedItemIds:ie})=>{await De("PATCH",`/api/public/v1/playlists/${J}/items/reorder`,{orderedItemIds:ie})},onSuccess:(J,ie)=>{ve.invalidateQueries({queryKey:["/api/public/v1/playlists",ie.playlistId]})},onError:()=>{t({title:"Failed to reorder items",variant:"destructive"})}}),Y=Se({mutationFn:async J=>(await De("POST","/api/v1/activity/log",{lessonId:J.lessonId,lessonName:J.lessonName,featureType:"PROCESS",activityDate:new Date().toISOString().split("T")[0]})).json(),onSuccess:()=>{ve.invalidateQueries({predicate:J=>Array.isArray(J.queryKey)&&J.queryKey[0]==="/api/v1/activity/monthly-stats"})}}),de=j.useRef(new Set),le=(J,ie)=>{n&&(de.current.has(J)||(de.current.add(J),Y.mutate({lessonId:J,lessonName:ie})))},Ce=J=>{d(J),v(J.title),u(!0)},Xe=()=>{!h||!f.trim()||z.mutate({id:h.id,title:f.trim()})},Oe=()=>{y.trim()&&V.mutate(y.trim())},ne=J=>{N(J);const ie=($==null?void 0:$.items)||[];S(ie.map(_e=>_e.lessonId)),b(!0)},re=J=>{S(ie=>ie.includes(J)?ie.filter(_e=>_e!==J):[...ie,J])},he=()=>{w&&X.mutate({playlistId:w,lessonIds:T})},pe=J=>{const ie=($==null?void 0:$.items)||[];R(ie),_(J),P(0),L(0),B(!0)},I=()=>{_(null),P(0),B(!1),L(0),R([])},H=()=>{var ie;const J=F[k];if(J){const _e=((ie=J.lesson)==null?void 0:ie.title)||`Lesson ${J.lessonId}`;le(J.lessonId,_e)}k<F.length-1?(P(k+1),L(0)):I()},se=(()=>{var _e;if(!C||F.length===0)return null;const J=F[k];if(!J||!J.audioFiles.length)return null;const ie=J.audioFiles[0];return{url:ie.signedUrl,title:((_e=J.lesson)==null?void 0:_e.title)||ie.fileName}})(),ce=J=>{if(!s||!$)return;const ie=J.map(_e=>_e.id);oe.mutate({playlistId:s,orderedItemIds:ie})};return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F3F3F3"},children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})}):n?D?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F3F3F3"},children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})}):O.length===0?i.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("h1",{className:"text-xl font-semibold text-gray-500",style:{fontFamily:"Montserrat"},children:"MY PROCESS"})}),i.jsx("div",{className:"w-10"})]})}),i.jsx("div",{className:"px-4 py-6",children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"#F3F0FF"},children:i.jsx(Sd,{className:"w-10 h-10",style:{color:"#703DFA"}})}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"No Processes Yet"}),i.jsx("p",{className:"text-muted-foreground max-w-xs",children:"Create your first custom practice playlist"}),i.jsxs(ee,{onClick:()=>m(!0),className:"mt-4 border-0",style:{backgroundColor:"#703DFA"},"data-testid":"button-create-playlist",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Create Your First Playlist"]})]})})})]}),i.jsx(ct,{open:x,onOpenChange:m,children:i.jsxs(it,{className:"max-w-md","data-testid":"dialog-create-playlist",children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Create New Playlist"}),i.jsx(Vr,{children:"Give your playlist a name to get started."})]}),i.jsx("div",{className:"py-4",children:i.jsx(Ae,{placeholder:"e.g., Morning Ritual",value:y,onChange:J=>g(J.target.value),"data-testid":"input-playlist-title"})}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-create",children:"Cancel"}),i.jsx(ee,{onClick:Oe,disabled:!y.trim()||V.isPending,style:{backgroundColor:"#703DFA"},"data-testid":"button-confirm-create",children:V.isPending?i.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Create"})]})]})})]}):i.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("h1",{className:"text-base font-semibold text-gray-500",style:{fontFamily:"Montserrat"},children:"MY PROCESS"})}),i.jsx("button",{onClick:()=>m(!0),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-add-playlist",children:i.jsx(gt,{className:"w-6 h-6",style:{color:"#703DFA"}})})]})}),i.jsx("div",{className:"px-4 py-6 space-y-3",children:O.map(J=>{var ie;return i.jsxs(we,{className:"overflow-hidden bg-white","data-testid":`playlist-${J.id}`,children:[i.jsxs("button",{onClick:()=>a(s===J.id?null:J.id),className:"w-full p-4 flex items-center gap-3 hover-elevate active-elevate-2","data-testid":`button-expand-${J.id}`,children:[i.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#F3F0FF"},children:i.jsx(Sd,{className:"w-6 h-6",style:{color:"#703DFA"}})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:J.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",new Date(J.createdAt).toLocaleDateString()]})]}),s===J.id?i.jsx(Wo,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(Xr,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsx(Nf,{children:s===J.id&&i.jsx(Jo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-border",children:i.jsx("div",{className:"p-4 space-y-3",children:q?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx(nt,{className:"w-5 h-5 animate-spin text-brand"})}):i.jsxs(i.Fragment,{children:[($==null?void 0:$.items.length)===0?i.jsx("div",{className:"text-center py-2",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:"No items in this playlist yet."})}):E===J.id?i.jsx(R8,{axis:"y",values:($==null?void 0:$.items)||[],onReorder:ce,className:"space-y-2",children:$==null?void 0:$.items.map(_e=>{var Me;return i.jsx(F8,{value:_e,className:"cursor-grab active:cursor-grabbing",children:i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg","data-testid":`item-${_e.id}`,children:[i.jsx(Dc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("span",{className:"text-sm font-medium text-foreground truncate block",children:((Me=_e.lesson)==null?void 0:Me.title)||`Lesson ${_e.lessonId}`})}),i.jsx("button",{onClick:ae=>{ae.stopPropagation(),te.mutate({playlistId:J.id,itemId:_e.id})},className:"p-1 hover:bg-red-100 rounded","data-testid":`button-remove-item-${_e.id}`,children:i.jsx(Pn,{className:"w-4 h-4 text-red-500"})})]})},_e.id)})}):$!=null&&$.items&&$.items.length>0?i.jsx("div",{className:"space-y-2",children:$.items.map((_e,Me)=>{var ae;return i.jsxs("div",{className:`flex items-center gap-2 text-sm ${C===J.id&&k===Me?"text-brand font-semibold":"text-foreground"}`,"data-testid":`practice-item-${Me}`,children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:"#703DFA"}}),i.jsx("span",{className:"font-medium",children:((ae=_e.lesson)==null?void 0:ae.title)||`Lesson ${_e.lessonId}`})]},_e.id)})}):null,C===J.id&&M&&se&&i.jsx("div",{className:"pt-2",children:i.jsx(uV,{src:se.url||"",title:se.title,mode:"playlist",autoPlay:!0,initialTime:U,onEnded:H})}),i.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[(((ie=$==null?void 0:$.items)==null?void 0:ie.length)||0)>0&&i.jsxs(i.Fragment,{children:[i.jsx(ee,{className:"flex-1 border-0",style:{backgroundColor:"#703DFA",color:"white"},onClick:()=>C===J.id?I():pe(J.id),"data-testid":`button-play-${J.id}`,children:C===J.id?i.jsxs(i.Fragment,{children:[i.jsx(Dy,{className:"w-4 h-4 mr-2"}),"Stop"]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Play"]})}),i.jsx(ee,{variant:"outline",size:"icon",onClick:()=>A(E===J.id?null:J.id),"data-testid":`button-edit-mode-${J.id}`,children:E===J.id?i.jsx(Jn,{className:"w-4 h-4",style:{color:"#703DFA"}}):i.jsx(Dc,{className:"w-4 h-4",style:{color:"#703DFA"}})})]}),i.jsx(ee,{variant:"outline",size:"icon",onClick:()=>ne(J.id),"data-testid":`button-edit-items-${J.id}`,children:i.jsx(gt,{className:"w-4 h-4",style:{color:"#703DFA"}})}),i.jsx(ee,{variant:"outline",size:"icon",onClick:()=>Ce(J),"data-testid":`button-rename-${J.id}`,children:i.jsx(Ry,{className:"w-4 h-4",style:{color:"#703DFA"}})}),i.jsx(ee,{variant:"outline",size:"icon",onClick:()=>l(J.id),"data-testid":`button-delete-${J.id}`,children:i.jsx($t,{className:"w-4 h-4",style:{color:"#703DFA"}})})]})]})})})})]},J.id)})})]}),i.jsx(Sa,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Si,{"data-testid":"dialog-confirm-delete",children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:"Delete Playlist?"}),i.jsx(Ei,{children:"This action cannot be undone. This will permanently delete your playlist."})]}),i.jsxs(_i,{children:[i.jsx(Ai,{"data-testid":"button-cancel-delete",children:"Cancel"}),i.jsx(Ti,{onClick:()=>o&&Z.mutate(o),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:Z.isPending?i.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Delete"})]})]})}),i.jsx(ct,{open:c,onOpenChange:u,children:i.jsxs(it,{className:"max-w-md","data-testid":"dialog-rename-playlist",children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Rename Playlist"}),i.jsx(Vr,{children:"Enter a new name for your playlist."})]}),i.jsx("div",{className:"py-4",children:i.jsx(Ae,{value:f,onChange:J=>v(J.target.value),placeholder:"Playlist name","data-testid":"input-rename-title"})}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>u(!1),"data-testid":"button-cancel-rename",children:"Cancel"}),i.jsx(ee,{onClick:Xe,disabled:!f.trim()||z.isPending,style:{backgroundColor:"#703DFA"},"data-testid":"button-confirm-rename",children:z.isPending?i.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Rename"})]})]})}),i.jsx(ct,{open:x,onOpenChange:m,children:i.jsxs(it,{className:"max-w-md","data-testid":"dialog-create-playlist",children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Create New Playlist"}),i.jsx(Vr,{children:"Give your playlist a name to get started."})]}),i.jsx("div",{className:"py-4",children:i.jsx(Ae,{placeholder:"e.g., Morning Ritual",value:y,onChange:J=>g(J.target.value),"data-testid":"input-playlist-title"})}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-create",children:"Cancel"}),i.jsx(ee,{onClick:Oe,disabled:!y.trim()||V.isPending,style:{backgroundColor:"#703DFA"},"data-testid":"button-confirm-create",children:V.isPending?i.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Create"})]})]})}),i.jsx(ct,{open:p,onOpenChange:b,children:i.jsxs(it,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col","data-testid":"dialog-lesson-picker",children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Select Lessons"}),i.jsx(Vr,{children:"Choose audio lessons to add to your playlist."})]}),i.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:W?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-brand"})}):K!=null&&K.course?i.jsx("div",{className:"space-y-4",children:K.modules.map(J=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:J.title}),i.jsx("div",{className:"space-y-1",children:J.lessons.map(ie=>{const _e=T.includes(ie.id);return ie.audioFiles.length>0?i.jsxs("button",{onClick:()=>re(ie.id),className:`w-full flex items-center gap-3 p-3 rounded-lg transition-colors ${_e?"bg-brand/10 border border-brand":"bg-gray-50 hover:bg-gray-100"}`,"data-testid":`lesson-option-${ie.id}`,children:[i.jsx(qn,{className:"w-4 h-4 text-brand flex-shrink-0"}),i.jsx("span",{className:"flex-1 text-left text-sm",children:ie.title}),_e&&i.jsx(Jn,{className:"w-4 h-4 text-brand"})]},ie.id):null})})]},J.id))}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No content available yet. Please check back later."})})}),i.jsxs(Bt,{className:"border-t pt-4",children:[i.jsx(ee,{variant:"outline",onClick:()=>b(!1),"data-testid":"button-cancel-lessons",children:"Cancel"}),i.jsx(ee,{onClick:he,disabled:T.length===0||X.isPending,style:{backgroundColor:"#703DFA"},"data-testid":"button-save-lessons",children:X.isPending?i.jsx(nt,{className:"w-4 h-4 animate-spin"}):`Save (${T.length} selected)`})]})]})})]}):i.jsx("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("h1",{className:"text-base font-semibold text-gray-500",style:{fontFamily:"Montserrat"},children:"MY PROCESS"})}),i.jsx("div",{className:"w-10"})]})}),i.jsxs("div",{className:"px-4 py-12 flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-brand/10 rounded-full flex items-center justify-center mb-4",children:i.jsx(Sd,{className:"w-8 h-8 text-brand"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Login Required"}),i.jsx("p",{className:"text-gray-600 max-w-xs mb-4",children:"Please log in to create and manage your practice playlists."}),i.jsx(ee,{onClick:()=>e("/login"),style:{backgroundColor:"#703DFA"},"data-testid":"button-login",children:"Log In"})]})]})})}const fr=j.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));fr.displayName="Textarea";const Zw=["What was my Project of Heart?","What tangible results was I looking for?","What were my challenges?","What actionable steps did I take?","What results did I get?","What are my learnings?","What are my wins?","What have I achieved?"];function fV(){var F;const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState("vision"),[s,a]=j.useState({vision:null,cycles:{},stars:0,selfEvaluation:null}),[o,l]=j.useState({title:"",description:""}),[c,u]=j.useState(!1),[h,d]=j.useState(1),[f,v]=j.useState(1),[x,m]=j.useState({actions:"",learnings:"",wins:"",nextStep:""}),[y,g]=j.useState(!1),[p,b]=j.useState({}),[w,N]=j.useState(!1),[T,S]=j.useState(!1),[E,A]=j.useState(""),[C,_]=j.useState(null);j.useEffect(()=>{const R=localStorage.getItem("@app:poh_data");if(R)try{a(JSON.parse(R))}catch(D){console.error("Error loading POH data:",D)}const O=localStorage.getItem("@app:weekly_action");O&&_(O)},[]);const k=R=>{a(R),localStorage.setItem("@app:poh_data",JSON.stringify(R))},P=()=>{if(!o.title.trim()||!o.description.trim()){t({title:"Please complete all fields",description:"Both title and description are required",variant:"destructive"});return}const R={title:o.title,description:o.description,createdDate:new Date().toISOString().split("T")[0]},O=s.vision?s.stars:s.stars+1;k({...s,vision:R,stars:O}),s.vision?t({title:"Vision Updated",description:"Your vision has been updated successfully."}):t({title:"Vision Set! ",description:"Your heart's vision is the seed of transformation.",className:"bg-gradient-to-r from-[#FAD0C4] via-[#FFD1BA] to-[#A8E6CF]"}),u(!1)},M=()=>{var K,W;if(!x.actions.trim()||!x.learnings.trim()||!x.wins.trim()){t({title:"Please complete all required fields",description:"Actions, learnings, and wins are required",variant:"destructive"});return}const R=`cycle${h}`,O=`week${f}`,D={...s.cycles,[R]:{weeks:{...((K=s.cycles[R])==null?void 0:K.weeks)||{},[O]:x},completed:!1}},$=[1,2,3,4].every(V=>{var z;return(z=D[R])==null?void 0:z.weeks[`week${V}`]});let q=s.stars;if($&&!((W=s.cycles[R])!=null&&W.completed)){D[R].completed=!0;let V=h===1?1:2;q+=V,t({title:`Cycle Completed! ${"".repeat(V)}`,description:"Each week, your heart expands through awareness and action.",className:"bg-gradient-to-r from-[#FAD0C4] via-[#FFD1BA] to-[#A8E6CF]"})}else t({title:"Reflection Saved ",description:"Your weekly reflection has been saved."});k({...s,cycles:D,stars:q}),m({actions:"",learnings:"",wins:"",nextStep:""})},B=()=>{if(!Zw.every(O=>{var D;return(D=p[O])==null?void 0:D.trim()})){t({title:"Please answer all questions",description:"All fields are required for the self-evaluation",variant:"destructive"});return}k({...s,selfEvaluation:{completed:!0,responses:p}}),t({title:"Reflection Complete ",description:"Your self-evaluation has been saved.",className:"bg-gradient-to-r from-[#FAD0C4] via-[#FFD1BA] to-[#A8E6CF]"}),g(!1)},U=()=>{if(!E.trim()){t({title:"Please enter your action",description:"Describe what you'll do this week",variant:"destructive"});return}localStorage.setItem("@app:weekly_action",E),_(E),N(!1),S(!0),A(""),setTimeout(()=>{S(!1)},3e3)};j.useEffect(()=>{var $;const R=`cycle${h}`,O=`week${f}`,D=($=s.cycles[R])==null?void 0:$.weeks[O];m(D||{actions:"",learnings:"",wins:"",nextStep:""})},[h,f,s.cycles]);const L=s.stars/6*100;return i.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:[i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("h1",{className:"text-base font-semibold text-gray-500",style:{fontFamily:"Montserrat"},children:"PROJECT OF HEART"})}),i.jsx("div",{className:"w-10"})]})}),i.jsxs("div",{className:"px-4 py-2",children:[i.jsxs(we,{className:"mb-3 p-4 shadow-md bg-white",style:{borderRadius:"1rem"},children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"flex-[6]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{background:"radial-gradient(circle, #00C853 0%, transparent 70%)"},children:i.jsxs("svg",{className:"w-12 h-12",viewBox:"0 0 200 200",fill:"none",children:[i.jsxs("g",{stroke:"#5FB77D",strokeWidth:"3.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("g",{transform:"rotate(0 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(30 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(60 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(90 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(120 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(150 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(180 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(210 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(240 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(270 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(300 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})}),i.jsx("g",{transform:"rotate(330 100 100)",children:i.jsx("path",{d:"M 100 20 Q 92 24 88 34 Q 94 29 100 32 Q 106 29 112 34 Q 108 24 100 20"})})]}),i.jsx("circle",{cx:"100",cy:"100",r:"45",stroke:"#5FB77D",strokeWidth:"3.5",fill:"none"}),i.jsxs("g",{stroke:"#5FB77D",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M 100 70 L 125 120 L 75 120 Z"}),i.jsx("path",{d:"M 100 130 L 75 80 L 125 80 Z"})]})]})}),i.jsx("h4",{className:"font-bold text-base",style:{color:"#3D3D3D"},children:"Heart Chakra  Anahata"})]}),i.jsxs("p",{className:"text-xs leading-relaxed",style:{color:"#6B7280"},children:["Center of Love, Balance, and Purpose.",i.jsx("br",{}),"Your Project of Heart aligns with the bridge between who you were and who you're rising to be."]})]}),i.jsxs("div",{className:"flex-[4] flex flex-col items-center justify-center gap-3",children:[i.jsxs("div",{className:"relative w-24 h-24",children:[i.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",children:[i.jsx("circle",{cx:"48",cy:"48",r:"42",stroke:"#F9C5BD",strokeWidth:"6",fill:"none",opacity:"0.2"}),i.jsx("circle",{cx:"48",cy:"48",r:"42",stroke:"#FDE68A",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*42}`,strokeDashoffset:`${2*Math.PI*42*(1-Math.min(L,100)/100)}`,strokeLinecap:"round",className:"transition-all duration-500"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(a1,{className:"w-12 h-12",style:{color:"#FDE68A"},fill:"currentColor"})})]}),i.jsxs("div",{className:"relative flex items-center px-4 py-1.5 rounded-lg",style:{background:"linear-gradient(135deg, #E8D5F8 0%, #D4C5F9 100%)",minWidth:"80px"},children:[i.jsx("div",{className:"absolute -left-3 w-10 h-10 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #FDE68A 0%, #F59E0B 100%)",border:"3px solid white"},children:i.jsx(a1,{className:"w-5 h-5",style:{color:"#FFFFFF"},fill:"currentColor"})}),i.jsx("p",{className:"text-base font-bold ml-6",style:{color:"#703DFA"},"data-testid":"text-stars-count",children:s.stars})]})]})]}),i.jsxs("div",{className:"space-y-1.5 text-xs",style:{color:"#6B7280"},children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"mt-0.5",children:s.stars>=1?i.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#703DFA"},children:i.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 12 12",fill:"none",stroke:"white",strokeWidth:"2",children:i.jsx("path",{d:"M2 6 L5 9 L10 3",strokeLinecap:"round",strokeLinejoin:"round"})})}):i.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{borderColor:"#D1D5DB"}})}),i.jsx("span",{className:"font-medium",style:{color:"#3D3D3D"},children:" Set Project of Heart  Your first star begins here."})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"mt-0.5",children:s.stars>=2?i.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#703DFA"},children:i.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 12 12",fill:"none",stroke:"white",strokeWidth:"2",children:i.jsx("path",{d:"M2 6 L5 9 L10 3",strokeLinecap:"round",strokeLinejoin:"round"})})}):i.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{borderColor:"#D1D5DB"}})}),i.jsx("span",{className:"font-medium",style:{color:"#3D3D3D"},children:" Cycle 1  You took the first step."})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"mt-0.5",children:s.stars>=4?i.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#703DFA"},children:i.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 12 12",fill:"none",stroke:"white",strokeWidth:"2",children:i.jsx("path",{d:"M2 6 L5 9 L10 3",strokeLinecap:"round",strokeLinejoin:"round"})})}):i.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{borderColor:"#D1D5DB"}})}),i.jsx("span",{className:"font-medium",style:{color:"#3D3D3D"},children:" Cycle 2  You stayed consistent."})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"mt-0.5",children:s.stars>=6?i.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#703DFA"},children:i.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 12 12",fill:"none",stroke:"white",strokeWidth:"2",children:i.jsx("path",{d:"M2 6 L5 9 L10 3",strokeLinecap:"round",strokeLinejoin:"round"})})}):i.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{borderColor:"#D1D5DB"}})}),i.jsx("span",{className:"font-medium",style:{color:"#3D3D3D"},children:" Cycle 3  You grew stronger."})]})]})]}),i.jsxs(Dh,{value:n,onValueChange:r,children:[i.jsxs(bu,{className:"grid w-full grid-cols-3 mb-2 bg-white h-auto p-1 rounded-md",children:[i.jsx(Gr,{value:"vision","data-testid":"tab-vision",className:"data-[state=active]:bg-[#703DFA] data-[state=active]:text-white rounded-md",children:"Vision"}),i.jsx(Gr,{value:"journey","data-testid":"tab-journey",className:"data-[state=active]:bg-[#703DFA] data-[state=active]:text-white rounded-md",children:"Journey"}),i.jsx(Gr,{value:"reflect","data-testid":"tab-reflect",className:"data-[state=active]:bg-[#703DFA] data-[state=active]:text-white rounded-md",children:"Reflect"})]}),i.jsx(Yr,{value:"vision",children:i.jsx(we,{className:"p-4 shadow-md bg-white",style:{borderRadius:"1rem"},children:s.vision?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"text-xl font-semibold",style:{color:"#3D3D3D",fontFamily:"Playfair Display, serif"},children:"Your Vision"}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{l({title:s.vision.title,description:s.vision.description}),u(!0)},"data-testid":"button-edit-vision",children:i.jsx(Ry,{className:"w-4 h-4",style:{color:"#703DFA"}})})]}),i.jsxs("div",{className:"p-4 rounded-lg mb-2",style:{backgroundColor:"#F9F5FF"},children:[i.jsx("p",{className:"font-semibold mb-2",style:{color:"#3D3D3D"},"data-testid":"text-vision-title",children:s.vision.title}),i.jsx("p",{className:"text-sm",style:{color:"#6B7280"},"data-testid":"text-vision-description",children:s.vision.description})]}),i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"flex space-x-3 overflow-x-auto scrollbar-hide snap-x snap-mandatory py-2",children:[i.jsx("div",{className:"flex-shrink-0 w-64 h-64 rounded-2xl shadow-lg bg-cover bg-center snap-start",style:{backgroundImage:"url('/Vision1.png')"},"data-testid":"image-vision-1"}),i.jsx("div",{className:"flex-shrink-0 w-64 h-64 rounded-2xl shadow-lg bg-cover bg-center snap-start",style:{backgroundImage:"url('/Vision2.png')"},"data-testid":"image-vision-2"}),i.jsx("div",{className:"flex-shrink-0 w-64 h-64 rounded-2xl shadow-lg bg-cover bg-center snap-start",style:{backgroundImage:"url('/Vision3.png')"},"data-testid":"image-vision-3"}),i.jsx("div",{className:"flex-shrink-0 w-64 h-64 rounded-2xl shadow-lg flex items-center justify-center snap-start",style:{background:"linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%)"},"data-testid":"image-placeholder-4",children:i.jsx(vs,{className:"w-12 h-12 opacity-40",style:{color:"#9CA3AF"}})})]})}),i.jsx("div",{className:"p-4 rounded-lg text-center italic",style:{backgroundColor:"#F5F5F5",color:"#6B7280"},children:i.jsx("p",{className:"text-sm",children:`"Your heart's vision is the seed of transformation."`})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #703DFA, #FFFFFF)"},children:i.jsx(ll,{className:"w-10 h-10 text-white",fill:"currentColor"})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"#3D3D3D",fontFamily:"Playfair Display, serif"},children:"Define Your Heart's Purpose"}),i.jsx("p",{className:"text-sm mb-6",style:{color:"#6B7280"},children:"A serene, heart-centered space to define your Project of Heart"}),i.jsx(ee,{onClick:()=>u(!0),className:"font-semibold border-0",style:{backgroundColor:"#E5AC19",color:"#0D131F"},"data-testid":"button-set-vision",children:"Set Your Vision"})]})})}),i.jsxs(Yr,{value:"journey",children:[C?i.jsxs(we,{className:"p-6 shadow-md mb-4 bg-white",style:{borderRadius:"1rem"},children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(I3,{className:"w-6 h-6",style:{color:"#A8E6CF"}}),i.jsx("h3",{className:"text-lg font-semibold",style:{color:"#3D3D3D"},children:"This Week's Action"})]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{_(null),localStorage.removeItem("@app:weekly_action")},"data-testid":"button-edit-action",children:"Edit"})]}),i.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(255, 255, 255, 0.6)"},children:i.jsx("p",{className:"text-base",style:{color:"#3D3D3D"},"data-testid":"text-weekly-action",children:C})}),i.jsx("p",{className:"text-xs mt-3 text-center",style:{color:"#6B7280"},children:"Choose yourself, every single day."})]}):i.jsx(ee,{onClick:()=>N(!0),size:"sm",className:"w-8/12 mx-auto mb-4 font-semibold shadow-md border-0 block py-4 text-base",style:{backgroundColor:"#E5AC19",color:"#0D131F",borderRadius:"2rem"},"data-testid":"button-start-journey",children:"Start Your Journey"}),i.jsx(we,{className:"p-6 shadow-md bg-white",style:{borderRadius:"1rem"},children:i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"#3D3D3D",fontFamily:"Playfair Display, serif"},children:"Cycles of Growth"}),i.jsx("p",{className:"text-sm mb-4",style:{color:"#6B7280"},children:"Each week, your heart expands through awareness and action."}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{children:[i.jsx(ge,{className:"text-xs",style:{color:"#6B7280"},children:"Cycle"}),i.jsxs(Gt,{value:String(h),onValueChange:R=>d(parseInt(R)),children:[i.jsx(Ut,{"data-testid":"select-cycle",children:i.jsx(Yt,{})}),i.jsxs(qt,{children:[i.jsx(et,{value:"1",children:"Cycle 1"}),i.jsx(et,{value:"2",children:"Cycle 2"}),i.jsx(et,{value:"3",children:"Cycle 3"})]})]})]}),i.jsxs("div",{children:[i.jsx(ge,{className:"text-xs",style:{color:"#6B7280"},children:"Week"}),i.jsxs(Gt,{value:String(f),onValueChange:R=>v(parseInt(R)),children:[i.jsx(Ut,{"data-testid":"select-week",children:i.jsx(Yt,{})}),i.jsxs(qt,{children:[i.jsx(et,{value:"1",children:"Week 1"}),i.jsx(et,{value:"2",children:"Week 2"}),i.jsx(et,{value:"3",children:"Week 3"}),i.jsx(et,{value:"4",children:"Week 4"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"actions",className:"text-xs",style:{color:"#6B7280"},children:"Actions Taken *"}),i.jsx(fr,{id:"actions",value:x.actions,onChange:R=>m({...x,actions:R.target.value}),placeholder:"What actions did you take this week?",className:"mt-1",rows:3,"data-testid":"input-actions"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"learnings",className:"text-xs",style:{color:"#6B7280"},children:"Learnings *"}),i.jsx(fr,{id:"learnings",value:x.learnings,onChange:R=>m({...x,learnings:R.target.value}),placeholder:"What did you learn?",className:"mt-1",rows:3,"data-testid":"input-learnings"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"wins",className:"text-xs",style:{color:"#6B7280"},children:"Wins *"}),i.jsx(fr,{id:"wins",value:x.wins,onChange:R=>m({...x,wins:R.target.value}),placeholder:"What were your wins?",className:"mt-1",rows:3,"data-testid":"input-wins"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"nextStep",className:"text-xs",style:{color:"#6B7280"},children:"Next Step (Optional)"}),i.jsx(fr,{id:"nextStep",value:x.nextStep,onChange:R=>m({...x,nextStep:R.target.value}),placeholder:"What's your next step?",className:"mt-1",rows:2,"data-testid":"input-next-step"})]}),i.jsx(ee,{onClick:M,className:"w-full font-semibold border-0",style:{backgroundColor:"#703DFA",color:"white"},"data-testid":"button-save-week",children:"Save Reflection"})]}),i.jsx("div",{className:"mt-6 p-3 rounded-lg text-center",style:{backgroundColor:"#F0F9FF"},children:i.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:" Reflect with your heart every Sunday"})})]})})]}),i.jsx(Yr,{value:"reflect",children:i.jsx(we,{className:"p-6 shadow-md bg-white",style:{borderRadius:"1rem"},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #FDE68A, #F9C5BD)"},children:i.jsx(Dp,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"#3D3D3D",fontFamily:"Playfair Display, serif"},children:"Self-Evaluation"}),i.jsx("p",{className:"text-sm mb-6",style:{color:"#6B7280"},children:"Optional deep reflection on your journey"}),(F=s.selfEvaluation)!=null&&F.completed?i.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F0FDF4"},children:[i.jsx(Dp,{className:"w-12 h-12 mx-auto mb-3 text-yellow-500"}),i.jsx("p",{className:"font-semibold mb-1",style:{color:"#3D3D3D"},children:"Reflection Complete!"}),i.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"You've earned a Golden Star "})]}):i.jsx(ee,{onClick:()=>{var R;b(((R=s.selfEvaluation)==null?void 0:R.responses)||{}),g(!0)},className:"font-semibold border-0",style:{backgroundColor:"#E5AC19",color:"#0D131F"},"data-testid":"button-start-evaluation",children:"Begin Self-Evaluation"}),i.jsx("div",{className:"mt-6 p-4 rounded-lg italic text-center",style:{backgroundColor:"#703DFA",color:"white"},children:i.jsx("p",{className:"text-xs leading-relaxed",children:'"When we start, we are one person; months later, we are someone new. Reflection opens new doors and visions."'})})]})})})]})]})]}),i.jsx(ct,{open:c,onOpenChange:u,children:i.jsxs(it,{style:{backgroundColor:"white"},children:[i.jsx(ut,{children:i.jsx(dt,{style:{fontFamily:"Playfair Display, serif"},children:s.vision?"Edit Your Vision":"Set Your Vision"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"vision-title",children:"What is your Project of Heart? *"}),i.jsx(Ae,{id:"vision-title",value:o.title,onChange:R=>l({...o,title:R.target.value}),placeholder:"e.g., Launch my wellness coaching business",className:"mt-2 focus-visible:ring-2 focus-visible:ring-[#703DFA]",style:{backgroundColor:"#F3F3F3"},"data-testid":"input-vision-title"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"vision-description",children:"Why does this matter to you? *"}),i.jsx(fr,{id:"vision-description",value:o.description,onChange:R=>l({...o,description:R.target.value}),placeholder:"Describe your deeper purpose...",className:"mt-2 focus-visible:ring-2 focus-visible:ring-[#703DFA]",style:{backgroundColor:"#F3F3F3"},rows:4,"data-testid":"input-vision-description"})]}),i.jsx(ee,{onClick:P,className:"w-full font-semibold border-0",style:{backgroundColor:"#E5AC19",color:"#0D131F"},"data-testid":"button-save-vision",children:s.vision?"Update Vision":"Set Vision & Earn "})]})]})}),i.jsx(ct,{open:y,onOpenChange:g,children:i.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",style:{backgroundColor:"white"},children:[i.jsx(ut,{children:i.jsx(dt,{style:{fontFamily:"Playfair Display, serif"},children:"Self-Evaluation "})}),i.jsxs("div",{className:"space-y-4",children:[Zw.map((R,O)=>i.jsxs("div",{children:[i.jsxs(ge,{className:"text-sm font-medium",style:{color:"#3D3D3D"},children:[O+1,". ",R]}),i.jsx(fr,{value:p[R]||"",onChange:D=>b({...p,[R]:D.target.value}),placeholder:"Your reflection...",className:"mt-2 focus-visible:ring-2 focus-visible:ring-[#703DFA]",style:{backgroundColor:"#F3F3F3"},rows:3,"data-testid":`input-eval-${O}`})]},O)),i.jsx(ee,{onClick:B,className:"w-full font-semibold border-0",style:{backgroundColor:"#E5AC19",color:"#0D131F"},"data-testid":"button-save-evaluation",children:"Complete Reflection "})]})]})}),i.jsx(ct,{open:w,onOpenChange:N,children:i.jsxs(it,{style:{backgroundColor:"white"},children:[i.jsx(ut,{children:i.jsx(dt,{style:{fontFamily:"Playfair Display, serif",color:"#3D3D3D"},children:"Your Weekly Commitment"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"weekly-action",className:"text-base font-medium",style:{color:"#3D3D3D"},children:"What actions will you take this week toward your vision?"}),i.jsx(fr,{id:"weekly-action",value:E,onChange:R=>A(R.target.value),placeholder:"I will...",className:"mt-3 focus-visible:!ring-2 focus-visible:!ring-[#703DFA]",style:{backgroundColor:"#F3F3F3"},rows:4,"data-testid":"input-weekly-action"})]}),i.jsx(ee,{onClick:U,className:"w-full font-semibold border-0",style:{backgroundColor:"#E5AC19",color:"#0D131F"},"data-testid":"button-submit-action",children:"Commit to Action"})]})]})}),i.jsx(ct,{open:T,onOpenChange:S,children:i.jsx(it,{className:"text-center",style:{background:"linear-gradient(135deg, #FAD0C4 0%, #FFD1BA 50%, #A8E6CF 100%)",border:"none"},children:i.jsxs("div",{className:"py-6",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center animate-pulse",style:{background:"rgba(255, 255, 255, 0.4)"},children:i.jsx(Dp,{className:"w-12 h-12",style:{color:"#3D3D3D"}})}),i.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"#3D3D3D",fontFamily:"Playfair Display, serif"},children:"Congratulation Champion!"}),i.jsx("p",{className:"text-lg",style:{color:"#3D3D3D"},children:"Choose yourself, every single day."})]})})})]})}function hV(){const[,e]=Ve(),[t,n]=j.useState(!0),[r,s]=j.useState(""),[a,o]=j.useState({}),[l,c]=j.useState(!1),[u,h]=j.useState(!1);j.useState(!1);const[d,f]=j.useState("UserName"),[v,x]=j.useState(!1),[m,y]=j.useState("");j.useEffect(()=>{const L=localStorage.getItem("streakStartDate"),F=localStorage.getItem("streakVisible"),R=localStorage.getItem("streakData"),O=localStorage.getItem("@app:userName");s(L||"2025-01-01"),n(F===null?!0:F==="true"),o(R?JSON.parse(R):g()),f(O||"UserName")},[]);const g=()=>{const L={},F=new Date,R=2025;for(let O=0;O<12;O++){const D=new Date(R,O+1,0).getDate();for(let $=1;$<=D;$++){const q=new Date(R,O,$),K=q.toISOString().split("T")[0];if(q<F){const W=(R*1e4+O*100+$)%100;W>20?L[K]="streak":W>5&&(L[K]="missed")}else q.toDateString()===F.toDateString()&&(L[K]="streak")}}return localStorage.setItem("streakData",JSON.stringify(L)),L},p=()=>{const L=!t;n(L),localStorage.setItem("streakVisible",String(L))},b=()=>{confirm("Are you sure you want to reset your Project of Heart? This will clear all POH progress and set stars to 0.")&&(localStorage.removeItem("@app:poh_data"),localStorage.removeItem("@app:weekly_action"),alert("Project of Heart has been reset successfully."))},w=()=>{confirm("Are you sure you want to reset your Process Checklist? This will remove your current selections and daily progress.")&&(localStorage.removeItem("userChecklist"),localStorage.removeItem("dailyLogs"),e("/process-checklist"))},N=()=>{confirm("Are you sure you want to clear all your conversations with Dr.M? This cannot be undone.")&&(localStorage.removeItem("@app:drm_conversations"),alert("Dr.M chat history has been cleared successfully."))},T=()=>{y(d),x(!0)},S=()=>{m.trim()&&(f(m.trim()),localStorage.setItem("@app:userName",m.trim()),x(!1))},E=()=>{x(!1),y("")},A=L=>{const F=L.trim().split(/\s+/);return F.length===1?F[0].substring(0,2).toUpperCase():(F[0][0]+F[F.length-1][0]).toUpperCase()},_=(()=>{const L=[],F=new Date,R=2025,O=new Date(r);for(let D=0;D<12;D++){const $=new Date(R,D+1,0).getDate();for(let q=1;q<=$;q++){const K=new Date(R,D,q),W=K.toISOString().split("T")[0];let V="neutral";K>=O&&K<=F?V=a[W]||"neutral":K>F&&(V="neutral"),L.push({date:W,status:V})}}return L})();(()=>{let L=0,F=0,R=0;const O=new Date().toISOString().split("T")[0],D=new Date(r),$=[..._].filter(K=>new Date(K.date)>=D).reverse();let q=!1;for(const K of $)K.date>O||(K.status==="streak"?(R++,q||(L=R)):K.status==="missed"&&(q=!0,R>F&&(F=R),R=0));return R>F&&(F=R),{currentStreak:L,bestStreak:F}})();const P=45,M=_.reduce((L,F)=>{const R=new Date(F.date).getMonth();return L[R]||(L[R]=[]),L[R].push(F),L},{});for(const L in M)M[L].sort((F,R)=>new Date(F.date).getDate()-new Date(R.date).getDate());const B=["2025-10-01","2025-10-02","2025-10-03","2025-10-04","2025-10-05","2025-10-06","2025-10-07","2025-10-08","2025-10-09","2025-10-10","2025-10-11","2025-10-12","2025-10-13","2025-10-14","2025-10-15","2025-10-16","2025-10-17","2025-10-18","2025-10-19","2025-10-20","2025-10-21","2025-10-22","2025-10-23","2025-10-24","2025-10-25","2025-10-26","2025-10-27","2025-10-28","2025-10-29","2025-10-30","2025-10-31","2025-11-01","2025-11-02","2025-11-03","2025-11-04","2025-11-05","2025-11-06","2025-11-07","2025-11-08","2025-11-09","2025-11-10","2025-11-11","2025-11-12","2025-11-13","2025-11-14"];for(const[L,F]of Object.entries(M))F.forEach(R=>{const O=new Date(R.date)>new Date("2025-11-14");if(B.includes(R.date)){R.status="streak";return}if(O){R.status="neutral";return}const D=parseInt(R.date.replaceAll("-",""));if(R.date.endsWith("-31")){R.status="neutral";return}D%3===0||D%7===0?R.status="streak":R.status="missed"});for(const L in M)M[L].forEach(F=>{F.date==="2025-12-31"&&(F.status="neutral")});const U=["January","February","March","April","May","June","July","August","September","October","November","December"];return i.jsxs("div",{className:"min-h-screen pb-24",style:{backgroundColor:"#F3F3F3"},children:[i.jsx("div",{className:"bg-white border-b py-4 px-4",children:i.jsx("div",{className:"flex items-center",children:i.jsx("div",{className:"flex-1 text-center",children:i.jsx("h1",{className:"text-xl font-bold text-gray-500 tracking-wider font-['Montserrat'] uppercase",children:"PROFILE"})})})}),i.jsx("div",{className:"bg-white border rounded-xl mt-2 mx-2 sm:mx-6",children:i.jsxs("div",{className:"max-w-sm mx-auto px-3 py-3 relative",children:[!v&&i.jsx("button",{onClick:T,className:"absolute top-3 right-3 p-1.5 hover:bg-white/50 rounded-lg transition","data-testid":"button-edit-name",children:i.jsx(D3,{className:"w-4 h-4 text-brand"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gradient-to-br from-purple-500 to-white flex items-center justify-center text-white text-xl font-bold border-2 border-white/30 shadow-md flex-shrink-0",children:A(d)}),i.jsx("div",{className:"flex-1",children:v?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",value:m,onChange:L=>y(L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand text-foreground bg-white",placeholder:"Enter your name",autoFocus:!0,"data-testid":"input-username"}),i.jsx("button",{onClick:S,className:"p-2 bg-brand text-white rounded-lg hover:bg-brand/90","data-testid":"button-save-name",children:i.jsx(Jn,{className:"w-5 h-5"})}),i.jsx("button",{onClick:E,className:"p-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400","data-testid":"button-cancel-edit",children:i.jsx(Pn,{className:"w-5 h-5"})})]}):i.jsx("h2",{className:"text-xl font-['Poppins'] font-semibold text-gray-600 dark:text-gray-200 tracking-tight",children:d})})]}),i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"text-lg text-muted-foreground mb-2 text-center",children:"My Karmic Affirmation"}),i.jsx("p",{className:"text-foreground font-['Playfair_Display'] text-base sm:text-lg leading-normal tracking-wide","data-testid":"text-affirmation",children:"I trust the universe to guide me toward my highest purpose. Every challenge is an opportunity for growth, and I embrace it with grace and courage."})]})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx(we,{className:"bg-white border shadow-sm rounded-xl",children:i.jsxs(Ks,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 tracking-wide",children:"Your Consistency Map "}),i.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 rounded-md transition",children:t?i.jsx(K2,{className:"w-5 h-5 text-gray-500"}):i.jsx(H2,{className:"w-5 h-5 text-gray-500"})})]}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-end gap-4 text-xs mb-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-gray-600",children:"Streak"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{className:"text-gray-600",children:"Missed"})]})]}),i.jsx("div",{className:"overflow-x-auto scrollbar-hide","data-testid":"streak-calendar",children:i.jsx("div",{className:"flex gap-6 pb-4",children:Object.entries(M).map(([L,F])=>i.jsxs("div",{className:"flex-shrink-0",children:[i.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:U[parseInt(L)]}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:F.map(R=>{const O=new Date(R.date).getDate();return i.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-xs font-medium ${R.status==="streak"?"bg-green-500 text-white":R.status==="missed"?"bg-red-500 text-white":"bg-muted text-muted-foreground"}`,"data-testid":`day-${R.date}`,children:O},R.date)})})]},L))})}),i.jsx("div",{className:"mt-4 text-left",children:i.jsxs("p",{className:"text-sm text-gray-500 tracking-wide",children:["BEST STREAK ---->"," ",i.jsxs("span",{className:"text-green-600 font-semibold ml-3",children:[P," Days"]})]})})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden","data-testid":"card-prescription",children:[i.jsxs("button",{onClick:()=>h(!u),className:"w-full text-left p-5 hover-elevate active-elevate-2","data-testid":"button-prescription",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-black text-sm font-bold tracking-wider uppercase mb-2",children:"MY PRESCRIPTION"}),i.jsx("p",{className:"text-gray-700 text-sm",children:"View your personalized daily practices"})]}),i.jsx("div",{className:"flex-shrink-0 ml-3",children:i.jsx(ll,{className:"w-6 h-6 text-[#703DFA]"})})]}),i.jsx("div",{className:"flex items-center justify-end mt-3",children:i.jsx(Xr,{className:`w-5 h-5 text-[#703DFA] transition-transform ${u?"rotate-180":""}`})})]}),u&&i.jsxs("div",{className:"px-5 pb-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(M3,{className:"w-5 h-5 text-orange-500 flex-shrink-0"}),i.jsxs("p",{className:"text-sm text-foreground",children:[i.jsx("span",{className:"font-semibold",children:"Morning: "}),"Vibration Elevation  Neuro-coupling  WCA 1 & 2  Birth Story + Late Birth"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(A3,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm text-foreground",children:[i.jsx("span",{className:"font-semibold",children:"Afternoon: "})," ","Journaling"," "]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(O3,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm text-foreground",children:[i.jsx("span",{className:"font-semibold",children:"Evening: "}),"WCA 3  Anxiety Code 1  Happiness Code 1"]})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden","data-testid":"card-settings",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-black text-sm font-bold tracking-wider uppercase mb-2",children:"SETTINGS"}),i.jsx("p",{className:"text-gray-700 text-sm",children:"Manage your account and preferences"})]}),i.jsx("div",{className:"flex-shrink-0 ml-3",children:i.jsx(Rc,{className:"w-6 h-6 text-[#703DFA]"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-between p-3 rounded-lg hover-elevate active-elevate-2","data-testid":"button-account",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Rc,{className:"w-5 h-5 text-[#703DFA]"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Account"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Change your account settings"})]})]}),i.jsx(Cn,{className:`w-5 h-5 text-muted-foreground transition-transform ${l?"rotate-90":""}`})]}),l&&i.jsxs("div",{className:"pl-11 pr-3 py-2 space-y-2",children:[i.jsxs("button",{onClick:b,className:"w-full text-left p-3 rounded-lg hover-elevate active-elevate-2 border border-red-200 dark:border-red-800/30","data-testid":"button-reset-poh",children:[i.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Reset Project of Heart"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Clear all POH progress (for demonstration)"})]}),i.jsxs("button",{onClick:w,className:"w-full text-left p-3 rounded-lg hover-elevate active-elevate-2 border border-red-200 dark:border-red-800/30","data-testid":"button-reset-checklist",children:[i.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Reset Process Checklist"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Clear checklist and daily progress"})]}),i.jsxs("button",{onClick:N,className:"w-full text-left p-3 rounded-lg hover-elevate active-elevate-2 border border-orange-200 dark:border-orange-800/30","data-testid":"button-clear-drm-chats",children:[i.jsx("p",{className:"font-medium text-orange-600 dark:text-orange-400",children:"Clear Dr.M Chat History"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Delete all conversations with Dr.M avatar"})]})]})]}),i.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover-elevate active-elevate-2","data-testid":"button-notifications-settings",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(gh,{className:"w-5 h-5 text-[#703DFA]"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Notifications"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your notification preferences"})]})]}),i.jsx(Cn,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover-elevate active-elevate-2","data-testid":"button-support",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(P3,{className:"w-5 h-5 text-[#703DFA]"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Get Support"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Talk with our Coaches"})]})]}),i.jsx(Cn,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover-elevate active-elevate-2","data-testid":"button-logout",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Q2,{className:"w-5 h-5 text-red-500"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-red-500",children:"Logout"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Log out of your account"})]})]}),i.jsx(Cn,{className:"w-5 h-5 text-muted-foreground"})]})]})]})})]})]})}const pV="/assets/DrM_1761365497901-CgJaiqjJ.webp",mV="modulepreload",gV=function(e){return"/"+e},Xw={},Jw=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=gV(c),c in Xw)return;Xw[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":mV,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,v)=>{d.addEventListener("load",f),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var vV=Object.defineProperty,jA=e=>{throw TypeError(e)},yV=(e,t,n)=>t in e?vV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qe=(e,t,n)=>yV(e,typeof t!="symbol"?t+"":t,n),NA=(e,t,n)=>t.has(e)||jA("Cannot "+n),Dl=(e,t,n)=>(NA(e,t,"read from private field"),n?n.call(e):t.get(e)),xV=(e,t,n)=>t.has(e)?jA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),bV=(e,t,n,r)=>(NA(e,t,"write to private field"),t.set(e,n),n);const wV="host",SA="queue/data",jV="queue/join",ej="upload",NV="login",rd="config",SV="info",kV="runtime",_V="sleeptime",CV="heartbeat",EV="component_server",TV="reset",AV="cancel",PV="app_id",kA="This application is currently busy. Please try again. ",ju="Connection errored out. ",zs="Could not resolve app config. ",OV="Could not get space status. ",DV="Could not get API info. ",Kx="Space metadata could not be loaded. ",RV="Invalid URL. A full URL path is required.",MV="Not authorized to access this space. ",_A="Invalid credentials. Could not login. ",IV="Login credentials are required to access this space.",LV="File system access is only available in Node.js environments",CA="Root URL not found in client config",FV="Error uploading file";async function tj(e,t,n){try{return(await(await fetch(`https://huggingface.co/api/spaces/${e}/jwt`,{headers:{Authorization:`Bearer ${t}`,...n?{Cookie:n}:{}}})).json()).token||!1}catch{return!1}}function $V(e){let t={};return e.forEach(({api_name:n,id:r})=>{n&&(t[n]=r)}),t}async function BV(e){const t=this.options.token?{Authorization:`Bearer ${this.options.token}`}:{};if(t["Content-Type"]="application/json",typeof window<"u"&&window.gradio_config&&location.origin!=="http://localhost:9876"){if(window.gradio_config.current_page&&(e=e.substring(0,e.lastIndexOf("/"))),window.gradio_config.dev_mode){let n=sv(e,this.deep_link?rd+"?deep_link="+this.deep_link:rd);const r=await this.fetch(n,{headers:t,credentials:"include"}),s=await nj(r,e,!!this.options.auth);window.gradio_config={...s,current_page:window.gradio_config.current_page}}return window.gradio_config.root=e,{...window.gradio_config}}else if(e){let n=sv(e,this.deep_link?rd+"?deep_link="+this.deep_link:rd);const r=await this.fetch(n,{headers:t,credentials:"include"});return nj(r,e,!!this.options.auth)}throw new Error(zs)}async function nj(e,t,n){var r,s;if((e==null?void 0:e.status)===401&&!n){const a=await e.json(),o=(r=a==null?void 0:a.detail)==null?void 0:r.auth_message;throw new Error(o||IV)}else if((e==null?void 0:e.status)===401&&n)throw new Error(_A);if((e==null?void 0:e.status)===200){let a=await e.json();return a.root=t,(s=a.dependencies)==null||s.forEach((o,l)=>{o.id===void 0&&(o.id=l)}),a}else if((e==null?void 0:e.status)===401)throw new Error(MV);throw new Error(zs)}async function VV(){const{http_protocol:e,host:t}=await Gx(this.app_reference,this.options.token);try{if(this.options.auth){const n=await EA(e,t,this.options.auth,this.fetch,this.options.token);n&&this.set_cookies(n)}}catch(n){throw Error(n.message)}}async function EA(e,t,n,r,s){const a=new FormData;a.append("username",n==null?void 0:n[0]),a.append("password",n==null?void 0:n[1]);let o={};s&&(o.Authorization=`Bearer ${s}`);const l=await r(`${e}//${t}/${NV}`,{headers:o,method:"POST",body:a,credentials:"include"});if(l.status===200)return l.headers.get("set-cookie");throw l.status===401?new Error(_A):new Error(Kx)}function im(e){if(e.startsWith("http")){const{protocol:t,host:n,pathname:r}=new URL(e);return{ws_protocol:t==="https:"?"wss":"ws",http_protocol:t,host:n+(r!=="/"?r:"")}}return{ws_protocol:"wss",http_protocol:"https:",host:new URL(e).host}}const TA=e=>{let t=[];return e.split(/,(?=\s*[^\s=;]+=[^\s=;]+)/).forEach(n=>{const[r,s]=n.split(";")[0].split("=");r&&s&&t.push(`${r.trim()}=${s.trim()}`)}),t},Qx=/^[a-zA-Z0-9_\-\.]+\/[a-zA-Z0-9_\-\.]+$/,UV=/.*hf\.space\/{0,1}.*$/;async function Gx(e,t){const n={};t&&(n.Authorization=`Bearer ${t}`);const r=e.trim().replace(/\/$/,"");if(Qx.test(r))try{const s=(await(await fetch(`https://huggingface.co/api/spaces/${r}/${wV}`,{headers:n})).json()).host;return{space_id:e,...im(s)}}catch{throw new Error(Kx)}if(UV.test(r)){const{ws_protocol:s,http_protocol:a,host:o}=im(r);return{space_id:o.split("/")[0].replace(".hf.space",""),ws_protocol:s,http_protocol:a,host:o}}return{space_id:!1,...im(r)}}const sv=(...e)=>{try{return e.reduce((t,n)=>(t=t.replace(/\/+$/,""),n=n.replace(/^\/+/,""),new URL(n,t+"/").toString()))}catch{throw new Error(RV)}};function qV(e,t,n){const r={named_endpoints:{},unnamed_endpoints:{}};return Object.keys(e).forEach(s=>{(s==="named_endpoints"||s==="unnamed_endpoints")&&(r[s]={},Object.entries(e[s]).forEach(([a,{parameters:o,returns:l}])=>{var c,u,h,d;const f=((c=t.dependencies.find(m=>m.api_name===a||m.api_name===a.replace("/","")))==null?void 0:c.id)||n[a.replace("/","")]||-1,v=f!==-1?(u=t.dependencies.find(m=>m.id==f))==null?void 0:u.types:{generator:!1,cancel:!1};if(f!==-1&&((d=(h=t.dependencies.find(m=>m.id==f))==null?void 0:h.inputs)==null?void 0:d.length)!==o.length){const m=t.dependencies.find(y=>y.id==f).inputs.map(y=>{var g;return(g=t.components.find(p=>p.id===y))==null?void 0:g.type});try{m.forEach((y,g)=>{if(y==="state"){const p={component:"state",example:null,parameter_default:null,parameter_has_default:!0,parameter_name:null,hidden:!0};o.splice(g,0,p)}})}catch(y){console.error(y)}}const x=(m,y,g,p)=>({...m,description:WV(m==null?void 0:m.type,g),type:zV(m==null?void 0:m.type,y,g,p)||""});r[s][a]={parameters:o.map(m=>x(m,m==null?void 0:m.component,m==null?void 0:m.serializer,"parameter")),returns:l.map(m=>x(m,m==null?void 0:m.component,m==null?void 0:m.serializer,"return")),type:v}}))}),r}function zV(e,t,n,r){if(t==="Api")return e.type;switch(e==null?void 0:e.type){case"string":return"string";case"boolean":return"boolean";case"number":return"number"}if(n==="JSONSerializable"||n==="StringSerializable")return"any";if(n==="ListStringSerializable")return"string[]";if(t==="Image")return r==="parameter"?"Blob | File | Buffer":"string";if(n==="FileSerializable")return(e==null?void 0:e.type)==="array"?r==="parameter"?"(Blob | File | Buffer)[]":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]":r==="parameter"?"Blob | File | Buffer":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}";if(n==="GallerySerializable")return r==="parameter"?"[(Blob | File | Buffer), (string | null)][]":"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]"}function WV(e,t){return t==="GallerySerializable"?"array of [file, label] tuples":t==="ListStringSerializable"?"array of strings":t==="FileSerializable"?"array of files or single file":e==null?void 0:e.description}function rj(e,t){switch(e.msg){case"send_data":return{type:"data"};case"send_hash":return{type:"hash"};case"queue_full":return{type:"update",status:{queue:!0,message:kA,stage:"error",code:e.code,success:e.success}};case"heartbeat":return{type:"heartbeat"};case"unexpected_error":return{type:"unexpected_error",status:{queue:!0,message:e.message,session_not_found:e.session_not_found,stage:"error",success:!1}};case"broken_connection":return{type:"broken_connection",status:{queue:!0,message:e.message,stage:"error",success:!1}};case"estimation":return{type:"update",status:{queue:!0,stage:t||"pending",code:e.code,size:e.queue_size,position:e.rank,eta:e.rank_eta,success:e.success}};case"progress":return{type:"update",status:{queue:!0,stage:"pending",code:e.code,progress_data:e.progress_data,success:e.success}};case"log":return{type:"log",data:e};case"process_generating":return{type:"generating",status:{queue:!0,message:e.success?null:e.output.error,stage:e.success?"generating":"error",code:e.code,progress_data:e.progress_data,eta:e.average_duration,changed_state_ids:e.success?e.output.changed_state_ids:void 0},data:e.success?e.output:null};case"process_streaming":return{type:"streaming",status:{queue:!0,message:e.output.error,stage:"streaming",time_limit:e.time_limit,code:e.code,progress_data:e.progress_data,eta:e.eta},data:e.output};case"process_completed":return"error"in e.output?{type:"update",status:{queue:!0,title:e.output.title,message:e.output.error,visible:e.output.visible,duration:e.output.duration,stage:"error",code:e.code,success:e.success}}:{type:"complete",status:{queue:!0,message:e.success?void 0:e.output.error,stage:e.success?"complete":"error",code:e.code,progress_data:e.progress_data,changed_state_ids:e.success?e.output.changed_state_ids:void 0},data:e.success?e.output:null};case"process_starts":return{type:"update",status:{queue:!0,stage:"pending",code:e.code,size:e.rank,position:0,success:e.success,eta:e.eta},original_msg:"process_starts"}}return{type:"none",status:{stage:"error",queue:!0}}}const HV=(e=[],t)=>{const n=t?t.parameters:[];if(Array.isArray(e))return t&&n.length>0&&e.length>n.length&&console.warn("Too many arguments provided for the endpoint."),e;const r=[],s=Object.keys(e);return n.forEach((a,o)=>{if(e.hasOwnProperty(a.parameter_name))r[o]=e[a.parameter_name];else if(a.parameter_has_default)r[o]=a.parameter_default;else throw new Error(`No value provided for required parameter: ${a.parameter_name}`)}),s.forEach(a=>{if(!n.some(o=>o.parameter_name===a))throw new Error(`Parameter \`${a}\` is not a valid keyword argument. Please refer to the API for usage.`)}),r.forEach((a,o)=>{if(a===void 0&&!n[o].parameter_has_default)throw new Error(`No value provided for required parameter: ${n[o].parameter_name}`)}),r};async function KV(){if(this.api_info)return this.api_info;const{token:e}=this.options,{config:t}=this,n={"Content-Type":"application/json"};if(e&&(n.Authorization=`Bearer ${e}`),!!t)try{let r,s;if(typeof window<"u"&&window.gradio_api_info)s=window.gradio_api_info;else{const a=sv(t.root,this.api_prefix,SV);if(r=await this.fetch(a,{headers:n,credentials:"include"}),!r.ok)throw new Error(ju);s=await r.json()}return"api"in s&&(s=s.api),s.named_endpoints["/predict"]&&!s.unnamed_endpoints[0]&&(s.unnamed_endpoints[0]=s.named_endpoints["/predict"]),qV(s,t,this.api_map)}catch(r){throw new Error("Could not get API info. "+r.message)}}async function QV(e,t,n){var r;const s={};(r=this==null?void 0:this.options)!=null&&r.token&&(s.Authorization=`Bearer ${this.options.token}`);const a=1e3,o=[];let l;for(let c=0;c<t.length;c+=a){const u=t.slice(c,c+a),h=new FormData;u.forEach(f=>{h.append("files",f)});try{const f=n?`${e}${this.api_prefix}/${ej}?upload_id=${n}`:`${e}${this.api_prefix}/${ej}`;l=await this.fetch(f,{method:"POST",body:h,headers:s,credentials:"include"})}catch(f){throw new Error(ju+f.message)}if(!l.ok){const f=await l.text();return{error:`HTTP ${l.status}: ${f}`}}const d=await l.json();d&&o.push(...d)}return{files:o}}async function GV(e,t,n,r){let s=(Array.isArray(e)?e:[e]).map(o=>o.blob);const a=s.filter(o=>o.size>(r??1/0));if(a.length)throw new Error(`File size exceeds the maximum allowed size of ${r} bytes: ${a.map(o=>o.name).join(", ")}`);return await Promise.all(await this.upload_files(t,s,n).then(async o=>{if(o.error)throw new Error(o.error);return o.files?o.files.map((l,c)=>new Yx({...e[c],path:l,url:`${t}${this.api_prefix}/file=${l}`})):[]}))}class Yx{constructor({path:t,url:n,orig_name:r,size:s,blob:a,is_stream:o,mime_type:l,alt_text:c,b64:u}){qe(this,"path"),qe(this,"url"),qe(this,"orig_name"),qe(this,"size"),qe(this,"blob"),qe(this,"is_stream"),qe(this,"mime_type"),qe(this,"alt_text"),qe(this,"b64"),qe(this,"meta",{_type:"gradio.FileData"}),this.path=t,this.url=n,this.orig_name=r,this.size=s,this.blob=n?void 0:a,this.is_stream=o,this.mime_type=l,this.alt_text=c,this.b64=u}}class YV{constructor(t,n){qe(this,"type"),qe(this,"command"),qe(this,"meta"),qe(this,"fileData"),this.type="command",this.command=t,this.meta=n}}typeof process<"u"&&process.versions&&process.versions.node;function sj(e,t,n){for(;n.length>1;){const s=n.shift();if(typeof s=="string"||typeof s=="number")e=e[s];else throw new Error("Invalid key type")}const r=n.shift();if(typeof r=="string"||typeof r=="number")e[r]=t;else throw new Error("Invalid key type")}async function iv(e,t=void 0,n=[],r=!1,s=void 0){if(Array.isArray(e)){let a=[];return await Promise.all(e.map(async(o,l)=>{var c;let u=n.slice();u.push(String(l));const h=await iv(e[l],r?((c=s==null?void 0:s.parameters[l])==null?void 0:c.component)||void 0:t,u,!1,s);a=a.concat(h)})),a}else{if(globalThis.Buffer&&e instanceof globalThis.Buffer||e instanceof Blob)return[{path:n,blob:new Blob([e]),type:t}];if(typeof e=="object"&&e!==null){let a=[];for(const o of Object.keys(e)){const l=[...n,o],c=e[o];a=a.concat(await iv(c,void 0,l,!1,s))}return a}}return[]}function ZV(e,t){var n,r;let s=(r=(n=t==null?void 0:t.dependencies)==null?void 0:n.find(a=>a.id==e))==null?void 0:r.queue;return s!=null?!s:!t.enable_queue}function XV(e,t){return new Promise((n,r)=>{const s=new MessageChannel;s.port1.onmessage=({data:a})=>{s.port1.close(),n(a)},window.parent.postMessage(e,t,[s.port2])})}function sd(e,t,n,r,s=!1){if(r==="input"&&!s)throw new Error("Invalid code path. Cannot skip state inputs for input.");if(r==="output"&&s)return e;let a=[],o=0;const l=r==="input"?t.inputs:t.outputs;for(let c=0;c<l.length;c++){const u=l[c],h=n.find(d=>d.id===u);if((h==null?void 0:h.type)==="state"){if(s)if(e.length===l.length){const d=e[o];a.push(d),o++}else a.push(null);else{o++;continue}continue}else{const d=e[o];a.push(d),o++}}return a}async function JV(e,t,n){const r=this;await eU(r,t);const s=await iv(t,void 0,[],!0,n);return(await Promise.all(s.map(async({path:a,blob:o,type:l})=>{if(!o)return{path:a,type:l};const c=await r.upload_files(e,[o]),u=c.files&&c.files[0];return{path:a,file_url:u,type:l,name:typeof File<"u"&&o instanceof File?o==null?void 0:o.name:void 0}}))).forEach(({path:a,file_url:o,type:l,name:c})=>{if(l==="Gallery")sj(t,o,a);else if(o){const u=new Yx({path:o,orig_name:c});sj(t,u,a)}}),t}async function eU(e,t){var n,r;if(!((n=e.config)!=null&&n.root||(r=e.config)!=null&&r.root_url))throw new Error(CA);await AA(e,t)}async function AA(e,t,n=[]){for(const r in t)t[r]instanceof YV?await tU(e,t,r):typeof t[r]=="object"&&t[r]!==null&&await AA(e,t[r],[...n,r])}async function tU(e,t,n){var r,s;let a=t[n];const o=((r=e.config)==null?void 0:r.root)||((s=e.config)==null?void 0:s.root_url);if(!o)throw new Error(CA);try{let l,c;if(typeof process<"u"&&process.versions&&process.versions.node){const f=await Jw(()=>import("./__vite-browser-external-DYxpcVy9-BIHI7g3E.js"),[]);c=(await Jw(async()=>{const{resolve:v}=await import("./__vite-browser-external-DYxpcVy9-BIHI7g3E.js");return{resolve:v}},[])).resolve(process.cwd(),a.meta.path),l=await f.readFile(c)}else throw new Error(LV);const u=new Blob([l],{type:"application/octet-stream"}),h=await e.upload_files(o,[u]),d=h.files&&h.files[0];if(d){const f=new Yx({path:d,orig_name:a.meta.name||""});t[n]=f}}catch(l){console.error(FV,l)}}async function nU(e,t,n){const r={"Content-Type":"application/json"};this.options.token&&(r.Authorization=`Bearer ${this.options.token}`);try{var s=await this.fetch(e,{method:"POST",body:JSON.stringify(t),headers:{...r,...n},credentials:"include"})}catch{return[{error:ju},500]}let a,o;try{a=await s.json(),o=s.status}catch(l){a={error:`Could not parse server response: ${l}`},o=500}return[a,o]}async function rU(e,t={}){let n=!1,r=!1;if(!this.config)throw new Error("Could not resolve app config");if(typeof e=="number")this.config.dependencies.find(s=>s.id==e);else{const s=e.replace(/^\//,"");this.config.dependencies.find(a=>a.id==this.api_map[s])}return new Promise(async(s,a)=>{const o=this.submit(e,t,null,null,!0);let l;for await(const c of o)c.type==="data"&&(r&&s(l),n=!0,l=c),c.type==="status"&&(c.stage==="error"&&a(c),c.stage==="complete"&&(r=!0,n&&s(l)))})}async function dc(e,t,n){let r=t==="subdomain"?`https://huggingface.co/api/spaces/by-subdomain/${e}`:`https://huggingface.co/api/spaces/${e}`,s,a;try{if(s=await fetch(r),a=s.status,a!==200)throw new Error;s=await s.json()}catch{n({status:"error",load_status:"error",message:OV,detail:"NOT_FOUND"});return}if(!s||a!==200)return;const{runtime:{stage:o},id:l}=s;switch(o){case"STOPPED":case"SLEEPING":n({status:"sleeping",load_status:"pending",message:"Space is asleep. Waking it up...",detail:o}),setTimeout(()=>{dc(e,t,n)},1e3);break;case"PAUSED":n({status:"paused",load_status:"error",message:"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.",detail:o,discussions_enabled:await ij(l)});break;case"RUNNING":case"RUNNING_BUILDING":n({status:"running",load_status:"complete",message:"Space is running.",detail:o});break;case"BUILDING":n({status:"building",load_status:"pending",message:"Space is building...",detail:o}),setTimeout(()=>{dc(e,t,n)},1e3);break;case"APP_STARTING":n({status:"starting",load_status:"pending",message:"Space is starting...",detail:o}),setTimeout(()=>{dc(e,t,n)},1e3);break;default:n({status:"space_error",load_status:"error",message:"This space is experiencing an issue.",detail:o,discussions_enabled:await ij(l)});break}}const PA=async(e,t)=>{let n=0;const r=12,s=5e3;return new Promise(a=>{dc(e,Qx.test(e)?"space_name":"subdomain",o=>{t(o),o.status==="running"||o.status==="error"||o.status==="paused"||o.status==="space_error"?a():(o.status==="sleeping"||o.status==="building")&&(n<r?(n++,setTimeout(()=>{PA(e,t).then(a)},s)):a())})})},sU=/^(?=[^]*\b[dD]iscussions{0,1}\b)(?=[^]*\b[dD]isabled\b)[^]*$/;async function ij(e){try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/discussions`,{method:"HEAD"}),n=t.headers.get("x-error-message");return!(!t.ok||n&&sU.test(n))}catch{return!1}}async function iU(e,t){const n={};t&&(n.Authorization=`Bearer ${t}`);try{const r=await fetch(`https://huggingface.co/api/spaces/${e}/${kV}`,{headers:n});if(r.status!==200)throw new Error("Space hardware could not be obtained.");const{hardware:s}=await r.json();return s.current}catch(r){throw new Error(r.message)}}async function aU(e,t,n){const r={};n&&(r.Authorization=`Bearer ${n}`);const s={seconds:t};try{const a=await fetch(`https://huggingface.co/api/spaces/${e}/${_V}`,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(s)});if(a.status!==200)throw new Error("Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.");return await a.json()}catch(a){throw new Error(a.message)}}const aj=["cpu-basic","cpu-upgrade","cpu-xl","t4-small","t4-medium","a10g-small","a10g-large","a10g-largex2","a10g-largex4","a100-large","zero-a10g","h100","h100x8"];async function oU(e,t){const{token:n,private:r,hardware:s,timeout:a,auth:o}=t;if(s&&!aj.includes(s))throw new Error(`Invalid hardware type provided. Valid types are: ${aj.map(y=>`"${y}"`).join(",")}.`);const{http_protocol:l,host:c}=await Gx(e,n);let u=null;if(o){const y=await EA(l,c,o,fetch);y&&(u=TA(y))}const h={Authorization:`Bearer ${n}`,"Content-Type":"application/json",...u?{Cookie:u.join("; ")}:{}},d=(await(await fetch("https://huggingface.co/api/whoami-v2",{headers:h})).json()).name,f=e.split("/")[1],v={repository:`${d}/${f}`};r&&(v.private=!0);let x;try{s||(x=await iU(e,n))}catch(y){throw Error(Kx+y.message)}const m=s||x||"cpu-basic";v.hardware=m;try{const y=await fetch(`https://huggingface.co/api/spaces/${e}/duplicate`,{method:"POST",headers:h,body:JSON.stringify(v)});if(y.status===409)try{return await av.connect(`${d}/${f}`,t)}catch(p){throw console.error("Failed to connect Client instance:",p),p}else if(y.status!==200)throw new Error(y.statusText);const g=await y.json();return await aU(`${d}/${f}`,a||300,n),await av.connect(lU(g.url),t)}catch(y){throw new Error(y)}}function lU(e){const t=/https:\/\/huggingface.co\/spaces\/([^/]+\/[^/]+)/,n=e.match(t);if(n)return n[1]}var Vs;class cU extends TransformStream{constructor(t={allowCR:!1}){super({transform:(n,r)=>{for(n=Dl(this,Vs)+n;;){const s=n.indexOf(`
`),a=t.allowCR?n.indexOf("\r"):-1;if(a!==-1&&a!==n.length-1&&(s===-1||s-1>a)){r.enqueue(n.slice(0,a)),n=n.slice(a+1);continue}if(s===-1)break;const o=n[s-1]==="\r"?s-1:s;r.enqueue(n.slice(0,o)),n=n.slice(s+1)}bV(this,Vs,n)},flush:n=>{if(Dl(this,Vs)==="")return;const r=t.allowCR&&Dl(this,Vs).endsWith("\r")?Dl(this,Vs).slice(0,-1):Dl(this,Vs);n.enqueue(r)}}),xV(this,Vs,"")}}Vs=new WeakMap;function uU(e){let t=new TextDecoderStream,n=new cU({allowCR:!0});return e.pipeThrough(t).pipeThrough(n)}function dU(e){let t=/[:]\s*/.exec(e),n=t&&t.index;if(n)return[e.substring(0,n),e.substring(n+t[0].length)]}function oj(e,t,n){e.get(t)||e.set(t,n)}async function*fU(e,t){if(!e.body)return;let n=uU(e.body),r,s=n.getReader(),a;for(;;){if(t&&t.aborted)return s.cancel();if(r=await s.read(),r.done)return;if(!r.value){a&&(yield a),a=void 0;continue}let[o,l]=dU(r.value)||[];o&&(o==="data"?(a||(a={}),a[o]=a[o]?a[o]+`
`+l:l):o==="event"?(a||(a={}),a[o]=l):o==="id"?(a||(a={}),a[o]=+l||l):o==="retry"&&(a||(a={}),a[o]=+l||void 0))}}async function hU(e,t){let n=new Request(e,t);oj(n.headers,"Accept","text/event-stream"),oj(n.headers,"Content-Type","application/json");let r=await fetch(n);if(!r.ok)throw r;return fU(r,n.signal)}async function pU(){let{event_callbacks:e,unclosed_events:t,pending_stream_messages:n,stream_status:r,config:s,jwt:a}=this;const o=this;if(!s)throw new Error("Could not resolve app config");r.open=!0;let l=null,c=new URLSearchParams({session_hash:this.session_hash}).toString(),u=new URL(`${s.root}${this.api_prefix}/${SA}?${c}`);if(a&&u.searchParams.set("__sign",a),l=this.stream(u),!l){console.warn("Cannot connect to SSE endpoint: "+u.toString());return}l.onmessage=async function(h){let d=JSON.parse(h.data);if(d.msg==="close_stream"){Zx(r,o.abort_controller);return}const f=d.event_id;if(!f)await Promise.all(Object.keys(e).map(v=>e[v](d)));else if(e[f]&&s){d.msg==="process_completed"&&["sse","sse_v1","sse_v2","sse_v2.1","sse_v3"].includes(s.protocol)&&t.delete(f);let v=e[f];typeof window<"u"&&typeof document<"u"?setTimeout(v,0,d):v(d)}else n[f]||(n[f]=[]),n[f].push(d)},l.onerror=async function(h){console.error(h),await Promise.all(Object.keys(e).map(d=>e[d]({msg:"broken_connection",message:ju})))}}function Zx(e,t){e&&(e.open=!1,t==null||t.abort())}function mU(e,t,n){e[t]?n.data.forEach((r,s)=>{let a=gU(e[t][s],r);e[t][s]=a,n.data[s]=a}):(e[t]=[],n.data.forEach((r,s)=>{e[t][s]=r}))}function gU(e,t){return t.forEach(([n,r,s])=>{e=vU(e,r,n,s)}),e}function vU(e,t,n,r){if(t.length===0){if(n==="replace")return r;if(n==="append")return e+r;throw new Error(`Unsupported action: ${n}`)}let s=e;for(let o=0;o<t.length-1;o++)s=s[t[o]];const a=t[t.length-1];switch(n){case"replace":s[a]=r;break;case"append":s[a]+=r;break;case"add":Array.isArray(s)?s.splice(Number(a),0,r):s[a]=r;break;case"delete":Array.isArray(s)?s.splice(Number(a),1):delete s[a];break;default:throw new Error(`Unknown action: ${n}`)}return e}function yU(e,t={}){const n={close:()=>{console.warn("Method not implemented.")},onerror:null,onmessage:null,onopen:null,readyState:0,url:e.toString(),withCredentials:!1,CONNECTING:0,OPEN:1,CLOSED:2,addEventListener:()=>{throw new Error("Method not implemented.")},dispatchEvent:()=>{throw new Error("Method not implemented.")},removeEventListener:()=>{throw new Error("Method not implemented.")}};return hU(e,t).then(async r=>{n.readyState=n.OPEN;try{for await(const s of r)n.onmessage&&n.onmessage(s);n.readyState=n.CLOSED}catch(s){n.onerror&&n.onerror(s),n.readyState=n.CLOSED}}).catch(r=>{console.error(r),n.onerror&&n.onerror(r),n.readyState=n.CLOSED}),n}function xU(e,t={},n,r,s){var a;try{let o=function(le){(s||V[le.type])&&h(le)},l=function(){for(te=!0;Y.length>0;)Y.shift()({value:void 0,done:!0})},c=function(le){Y.length>0?Y.shift()(le):oe.push(le)},u=function(le){c(bU(le)),l()},h=function(le){c({value:le,done:!1})},d=function(){return oe.length>0?Promise.resolve(oe.shift()):new Promise(le=>Y.push(le))};const{token:f}=this.options,{fetch:v,app_reference:x,config:m,session_hash:y,api_info:g,api_map:p,stream_status:b,pending_stream_messages:w,pending_diff_streams:N,event_callbacks:T,unclosed_events:S,post_data:E,options:A,api_prefix:C}=this,_=this;if(!g)throw new Error("No API found");if(!m)throw new Error("Could not resolve app config");let{fn_index:k,endpoint_info:P,dependency:M}=wU(g,e,p,m),B=HV(t,P),U,L=m.protocol??"ws";if(L==="ws")throw new Error("WebSocket protocol is not supported in this version");let F="",R=()=>F;const O=typeof e=="number"?"/predict":e;let D,$=null,q=!1,K={},W=typeof window<"u"&&typeof document<"u"?new URLSearchParams(window.location.search).toString():"";const V=((a=A==null?void 0:A.events)==null?void 0:a.reduce((le,Ce)=>(le[Ce]=!0,le),{}))||{};async function z(){let le={},Ce={};le={event_id:$},Ce={event_id:$,session_hash:y,fn_index:k};try{if(!m)throw new Error("Could not resolve app config");"event_id"in Ce&&await v(`${m.root}${C}/${AV}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(Ce)}),await v(`${m.root}${C}/${TV}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(le)})}catch{console.warn("The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.")}}const Z=async le=>{await this._resolve_heartbeat(le)};async function X(le){if(!m)return;let Ce=le.render_id;m.components=[...m.components.filter(ne=>ne.props.rendered_in!==Ce),...le.components],m.dependencies=[...m.dependencies.filter(ne=>ne.rendered_in!==Ce),...le.dependencies];const Xe=m.components.some(ne=>ne.type==="state"),Oe=m.dependencies.some(ne=>ne.targets.some(re=>re[1]==="unload"));m.connect_heartbeat=Xe||Oe,await Z(m),o({type:"render",data:le,endpoint:O,fn_index:k})}this.handle_blob(m.root,B,P).then(async le=>{var Ce;if(D={data:sd(le,M,m.components,"input",!0)||[],event_data:n,fn_index:k,trigger_id:r},ZV(k,m))o({type:"status",endpoint:O,stage:"pending",queue:!1,fn_index:k,time:new Date}),E(`${m.root}${C}/run${O.startsWith("/")?O:`/${O}`}${W?"?"+W:""}`,{...D,session_hash:y}).then(([Oe,ne])=>{const re=Oe.data;ne==200?(o({type:"data",endpoint:O,fn_index:k,data:sd(re,M,m.components,"output",A.with_null_state),time:new Date,event_data:n,trigger_id:r}),Oe.render_config&&X(Oe.render_config),o({type:"status",endpoint:O,fn_index:k,stage:"complete",eta:Oe.average_duration,queue:!1,time:new Date})):o({type:"status",stage:"error",endpoint:O,fn_index:k,message:Oe.error,queue:!1,time:new Date})}).catch(Oe=>{o({type:"status",stage:"error",message:Oe.message,endpoint:O,fn_index:k,queue:!1,time:new Date})});else if(L=="sse"){o({type:"status",stage:"pending",queue:!0,endpoint:O,fn_index:k,time:new Date});var Xe=new URLSearchParams({fn_index:k.toString(),session_hash:y}).toString();let Oe=new URL(`${m.root}${C}/${SA}?${W?W+"&":""}${Xe}`);if(this.jwt&&Oe.searchParams.set("__sign",this.jwt),U=this.stream(Oe),!U)return Promise.reject(new Error("Cannot connect to SSE endpoint: "+Oe.toString()));U.onmessage=async function(ne){const re=JSON.parse(ne.data),{type:he,status:pe,data:I}=rj(re,K[k]);if(he==="update"&&pe&&!q)o({type:"status",endpoint:O,fn_index:k,time:new Date,...pe}),pe.stage==="error"&&(U==null||U.close(),l());else if(he==="data"){let[H,G]=await E(`${m.root}${C}/queue/data`,{...D,session_hash:y,event_id:$});G!==200&&(o({type:"status",stage:"error",message:ju,queue:!0,endpoint:O,fn_index:k,time:new Date}),U==null||U.close(),l())}else he==="complete"?q=pe:he==="log"?o({type:"log",title:I.title,log:I.log,level:I.level,endpoint:O,duration:I.duration,visible:I.visible,fn_index:k}):(he==="generating"||he==="streaming")&&o({type:"status",time:new Date,...pe,stage:pe==null?void 0:pe.stage,queue:!0,endpoint:O,fn_index:k});I&&(o({type:"data",time:new Date,data:sd(I.data,M,m.components,"output",A.with_null_state),endpoint:O,fn_index:k,event_data:n,trigger_id:r}),q&&(o({type:"status",time:new Date,...q,stage:pe==null?void 0:pe.stage,queue:!0,endpoint:O,fn_index:k}),U==null||U.close(),l()))}}else if(L=="sse_v1"||L=="sse_v2"||L=="sse_v2.1"||L=="sse_v3"){o({type:"status",stage:"pending",queue:!0,endpoint:O,fn_index:k,time:new Date});let Oe="";typeof window<"u"&&typeof document<"u"&&(Oe=(Ce=window==null?void 0:window.location)==null?void 0:Ce.hostname);const ne=Oe.includes(".dev.")?`https://moon-${Oe.split(".")[1]}.dev.spaces.huggingface.tech`:"https://huggingface.co";(typeof window<"u"&&typeof document<"u"&&window.parent!=window&&window.supports_zerogpu_headers?XV("zerogpu-headers",ne):Promise.resolve(null)).then(re=>E(`${m.root}${C}/${jV}?${W}`,{...D,session_hash:y},re)).then(async([re,he])=>{if(he===503)o({type:"status",stage:"error",message:kA,queue:!0,endpoint:O,fn_index:k,time:new Date});else if(he===422)o({type:"status",stage:"error",message:re.detail,queue:!0,endpoint:O,fn_index:k,code:"validation_error",time:new Date}),l();else if(he!==200)o({type:"status",stage:"error",broken:!1,message:re.detail,queue:!0,endpoint:O,fn_index:k,time:new Date});else{$=re.event_id,F=$;let pe=async function(I){try{const{type:H,status:G,data:se,original_msg:ce}=rj(I,K[k]);if(H=="heartbeat")return;if(H==="update"&&G&&!q)o({type:"status",endpoint:O,fn_index:k,time:new Date,original_msg:ce,...G});else if(H==="complete")q=G;else if(H=="unexpected_error"||H=="broken_connection"){console.error("Unexpected error",G==null?void 0:G.message);const J=H==="broken_connection";o({type:"status",stage:"error",message:(G==null?void 0:G.message)||"An Unexpected Error Occurred!",queue:!0,endpoint:O,broken:J,session_not_found:G==null?void 0:G.session_not_found,fn_index:k,time:new Date})}else if(H==="log"){o({type:"log",title:se.title,log:se.log,level:se.level,endpoint:O,duration:se.duration,visible:se.visible,fn_index:k});return}else(H==="generating"||H==="streaming")&&(o({type:"status",time:new Date,...G,stage:G==null?void 0:G.stage,queue:!0,endpoint:O,fn_index:k}),se&&M.connection!=="stream"&&["sse_v2","sse_v2.1","sse_v3"].includes(L)&&mU(N,$,se));se&&(o({type:"data",time:new Date,data:sd(se.data,M,m.components,"output",A.with_null_state),endpoint:O,fn_index:k}),se.render_config&&await X(se.render_config),q&&(o({type:"status",time:new Date,...q,stage:G==null?void 0:G.stage,queue:!0,endpoint:O,fn_index:k}),l())),((G==null?void 0:G.stage)==="complete"||(G==null?void 0:G.stage)==="error")&&(T[$]&&delete T[$],$ in N&&delete N[$])}catch(H){console.error("Unexpected client exception",H),o({type:"status",stage:"error",message:"An Unexpected Error Occurred!",queue:!0,endpoint:O,fn_index:k,time:new Date}),["sse_v2","sse_v2.1","sse_v3"].includes(L)&&(Zx(b,_.abort_controller),b.open=!1,l())}};$ in w&&(w[$].forEach(I=>pe(I)),delete w[$]),T[$]=pe,S.add($),b.open||await this.open_stream()}})}});let te=!1;const oe=[],Y=[],de={[Symbol.asyncIterator]:()=>de,next:d,throw:async le=>(u(le),d()),return:async()=>(l(),d()),cancel:z,event_id:R};return de}catch(o){throw console.error("Submit function encountered an error:",o),o}}function bU(e){return{then:(t,n)=>n(e)}}function wU(e,t,n,r){let s,a,o;if(typeof t=="number")s=t,a=e.unnamed_endpoints[s],o=r.dependencies.find(l=>l.id==t);else{const l=t.replace(/^\//,"");s=n[l],a=e.named_endpoints[t.trim()],o=r.dependencies.find(c=>c.id==n[l])}if(typeof s!="number")throw new Error("There is no endpoint matching that name of fn_index matching that number.");return{fn_index:s,endpoint_info:a,dependency:o}}class av{constructor(t,n={events:["data"]}){qe(this,"app_reference"),qe(this,"options"),qe(this,"deep_link",null),qe(this,"config"),qe(this,"api_prefix",""),qe(this,"api_info"),qe(this,"api_map",{}),qe(this,"session_hash",Math.random().toString(36).substring(2)),qe(this,"jwt",!1),qe(this,"last_status",{}),qe(this,"cookies",null),qe(this,"stream_status",{open:!1}),qe(this,"closed",!1),qe(this,"pending_stream_messages",{}),qe(this,"pending_diff_streams",{}),qe(this,"event_callbacks",{}),qe(this,"unclosed_events",new Set),qe(this,"heartbeat_event",null),qe(this,"abort_controller",null),qe(this,"stream_instance",null),qe(this,"current_payload"),qe(this,"view_api"),qe(this,"upload_files"),qe(this,"upload"),qe(this,"handle_blob"),qe(this,"post_data"),qe(this,"submit"),qe(this,"predict"),qe(this,"open_stream"),qe(this,"resolve_config"),qe(this,"resolve_cookies");var r;this.app_reference=t,this.deep_link=((r=n.query_params)==null?void 0:r.deep_link)||null,n.events||(n.events=["data"]),this.options=n,this.current_payload={},this.view_api=KV.bind(this),this.upload_files=QV.bind(this),this.handle_blob=JV.bind(this),this.post_data=nU.bind(this),this.submit=xU.bind(this),this.predict=rU.bind(this),this.open_stream=pU.bind(this),this.resolve_config=BV.bind(this),this.resolve_cookies=VV.bind(this),this.upload=GV.bind(this),this.fetch=this.fetch.bind(this),this.handle_space_success=this.handle_space_success.bind(this),this.stream=this.stream.bind(this)}get_url_config(t=null){if(!this.config)throw new Error(zs);t===null&&(t=window.location.href);const n=o=>o.replace(/^\/+|\/+$/g,"");let r=n(new URL(this.config.root).pathname),s=n(new URL(t).pathname),a;return s.startsWith(r)?a=n(s.substring(r.length)):a="",this.get_page_config(a)}get_page_config(t){if(!this.config)throw new Error(zs);let n=this.config;return t in n.page||(t=""),{...n,current_page:t,layout:n.page[t].layout,components:n.components.filter(r=>n.page[t].components.includes(r.id)),dependencies:this.config.dependencies.filter(r=>n.page[t].dependencies.includes(r.id))}}fetch(t,n){const r=new Headers((n==null?void 0:n.headers)||{});if(this&&this.cookies&&r.append("Cookie",this.cookies),this&&this.options.headers)for(const s in this.options.headers)r.append(s,this.options.headers[s]);return fetch(t,{...n,headers:r})}stream(t){const n=new Headers;if(this&&this.cookies&&n.append("Cookie",this.cookies),this&&this.options.headers)for(const r in this.options.headers)n.append(r,this.options.headers[r]);return this&&this.options.token&&n.append("Authorization",`Bearer ${this.options.token}`),this.abort_controller=new AbortController,this.stream_instance=yU(t.toString(),{credentials:"include",headers:n,signal:this.abort_controller.signal}),this.stream_instance}async init(){var t;this.options.auth&&await this.resolve_cookies(),await this._resolve_config().then(({config:n})=>this._resolve_heartbeat(n)),this.api_info=await this.view_api(),this.api_map=$V(((t=this.config)==null?void 0:t.dependencies)||[])}async _resolve_heartbeat(t){if(t&&(this.config=t,this.api_prefix=t.api_prefix||"",this.config&&this.config.connect_heartbeat&&this.config.space_id&&this.options.token&&(this.jwt=await tj(this.config.space_id,this.options.token,this.cookies))),t.space_id&&this.options.token&&(this.jwt=await tj(t.space_id,this.options.token)),this.config&&this.config.connect_heartbeat){const n=new URL(`${this.config.root}${this.api_prefix}/${CV}/${this.session_hash}`);this.jwt&&n.searchParams.set("__sign",this.jwt),this.heartbeat_event||(this.heartbeat_event=this.stream(n))}}static async connect(t,n={events:["data"]}){const r=new this(t,n);return n.session_hash&&(r.session_hash=n.session_hash),await r.init(),r}async reconnect(){const t=new URL(`${this.config.root}${this.api_prefix}/${PV}`);let n;try{const r=await this.fetch(t);if(!r.ok)throw new Error;n=(await r.json()).app_id}catch{return"broken"}return n!==this.config.app_id?"changed":"connected"}close(){this.closed=!0,Zx(this.stream_status,this.abort_controller)}set_current_payload(t){this.current_payload=t}static async duplicate(t,n={events:["data"]}){return oU(t,n)}async _resolve_config(){const{http_protocol:t,host:n,space_id:r}=await Gx(this.app_reference,this.options.token),{status_callback:s}=this.options;r&&s&&await PA(r,s);let a;try{let o=`${t}//${n}`;if(a=await this.resolve_config(o),!a)throw new Error(zs);return this.config_success(a)}catch(o){if(r&&s)dc(r,Qx.test(r)?"space_name":"subdomain",this.handle_space_success);else throw s&&s({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),Error(o)}}async config_success(t){if(this.config=t,this.api_prefix=t.api_prefix||"",this.config.auth_required)return this.prepare_return_obj();try{this.api_info=await this.view_api()}catch(n){console.error(DV+n.message)}return this.prepare_return_obj()}async handle_space_success(t){var n;if(!this)throw new Error(zs);const{status_callback:r}=this.options;if(r&&r(t),t.status==="running")try{if(this.config=await this._resolve_config(),this.api_prefix=((n=this==null?void 0:this.config)==null?void 0:n.api_prefix)||"",!this.config)throw new Error(zs);return await this.config_success(this.config)}catch(s){throw r&&r({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),s}}async component_server(t,n,r){var s;if(!this.config)throw new Error(zs);const a={},{token:o}=this.options,{session_hash:l}=this;o&&(a.Authorization=`Bearer ${this.options.token}`);let c,u=this.config.components.find(d=>d.id===t);(s=u==null?void 0:u.props)!=null&&s.root_url?c=u.props.root_url:c=this.config.root;let h;if("binary"in r){h=new FormData;for(const d in r.data)d!=="binary"&&h.append(d,r.data[d]);h.set("component_id",t.toString()),h.set("fn_name",n),h.set("session_hash",l)}else h=JSON.stringify({data:r,component_id:t,fn_name:n,session_hash:l}),a["Content-Type"]="application/json";o&&(a.Authorization=`Bearer ${o}`);try{const d=await this.fetch(`${c}${this.api_prefix}/${EV}/`,{method:"POST",body:h,headers:a,credentials:"include"});if(!d.ok)throw new Error("Could not connect to component server: "+d.statusText);return await d.json()}catch(d){console.warn(d)}}set_cookies(t){this.cookies=TA(t).join("; ")}prepare_return_obj(){return{config:this.config,predict:this.predict,submit:this.submit,view_api:this.view_api,component_server:this.component_server}}}const jU="https://dr-meghana-video.wowlabz.com/";function lj(e){var t,n,r;return e?typeof e=="string"?e:typeof e=="object"?(n=(t=e.value)==null?void 0:t.video)!=null&&n.url?e.value.video.url:(r=e.video)!=null&&r.url?e.video.url:e.video||e.url||e.path||"":"":""}function cj(e){var t;if(!(!e||typeof e!="object"))return(t=e.value)!=null&&t.subtitles?e.value.subtitles:e.subtitles||e.subtitle||void 0}function NU(e){if(!e)return"";const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}async function SU(e,t=""){try{const s=(await(await av.connect(jU)).predict("/process_query",{user_name:t,question:e})).data;console.log("Raw Gradio API response:",JSON.stringify(s,null,2)),console.log("Video data[0]:",s[0]),console.log("Video data[1]:",s[1]);const a=lj(s[0]),o=lj(s[1]),l=cj(s[0]),c=cj(s[1]);return{introVideo:{video:a,subtitles:l},answerVideo:{video:o,subtitles:c},relatedVideoHtml:s[2]||"",textResponse:NU(s[3]||"")}}catch(n){throw console.error("Error calling Dr.M API:",n),new Error("Failed to get response from Dr.M. Please try again.")}}var Xx="Progress",Jx=100,[kU,RJ]=en(Xx),[_U,CU]=kU(Xx),OA=j.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=EU,...o}=e;(s||s===0)&&!uj(s)&&console.error(TU(`${s}`,"Progress"));const l=uj(s)?s:Jx;r!==null&&!dj(r,l)&&console.error(AU(`${r}`,"Progress"));const c=dj(r,l)?r:null,u=_f(c)?a(c,l):void 0;return i.jsx(_U,{scope:n,value:c,max:l,children:i.jsx(Pe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_f(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":MA(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});OA.displayName=Xx;var DA="ProgressIndicator",RA=j.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=CU(DA,n);return i.jsx(Pe.div,{"data-state":MA(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});RA.displayName=DA;function EU(e,t){return`${Math.round(e/t*100)}%`}function MA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _f(e){return typeof e=="number"}function uj(e){return _f(e)&&!isNaN(e)&&e>0}function dj(e,t){return _f(e)&&!isNaN(e)&&e<=t&&e>=0}function TU(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jx}\`.`}function AU(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IA=OA,PU=RA;const e0=j.forwardRef(({className:e,value:t,...n},r)=>i.jsx(IA,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(PU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));e0.displayName=IA.displayName;const id="@app:drm_conversations",fj=3,hj=e=>e?[/\d+\s+questions?\s+remaining/i,/.*questions?\s+remaining/i].some(n=>n.test(e)):!1;function OU(){const[e,t]=j.useState([]),[n,r]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(""),[c,u]=j.useState(""),[h,d]=j.useState(""),[f,v]=j.useState(!1),[x,m]=j.useState(""),y=j.useRef(null),{toast:g}=ht();j.useEffect(()=>{const N=localStorage.getItem(id),T=localStorage.getItem("@app:userName");if(m(T||""),N)try{const S=JSON.parse(N);if(!Array.isArray(S)){localStorage.removeItem(id);return}const E=S.filter(A=>A.videoUrl);if(E.length!==S.length&&localStorage.setItem(id,JSON.stringify(E)),t(E),E.length>0){const A=E[E.length-1];l(A.videoUrl),u(A.subtitlesUrl||""),d(A.id)}}catch(S){console.error("Error loading messages:",S)}},[]),j.useEffect(()=>{o&&y.current&&(y.current.load(),f?(y.current.play().catch(N=>{console.error("Error auto-playing video:",N)}),v(!1)):y.current.pause())},[o]),j.useEffect(()=>{f&&o&&y.current&&(y.current.play().catch(N=>{console.error("Error auto-playing video:",N)}),v(!1))},[f]);const p=N=>{const T=N.slice(-fj);localStorage.setItem(id,JSON.stringify(T)),t(T)},b=N=>{N.videoUrl&&(N.id===h&&y.current?(y.current.currentTime=0,y.current.play().catch(T=>{console.error("Error playing video:",T)})):(v(!0),l(N.videoUrl),u(N.subtitlesUrl||""),d(N.id)))},w=async N=>{if(N.preventDefault(),!n.trim()){g({title:"Please enter a question",variant:"destructive"});return}const T={id:Date.now().toString(),question:n,userName:x,videoUrl:"",subtitlesUrl:"",textResponse:"",timestamp:Date.now()},S=[...e,T];p(S),r(""),a(!0);try{const E=x?x.trim().split(/\s+/)[0]:"Friend",A=await SU(T.question,E);console.log("Dr.M Response:",A),console.log("Answer Video:",A.answerVideo),console.log("Video URL:",A.answerVideo.video),console.log("Text Response:",A.textResponse);const C={...T,videoUrl:A.answerVideo.video||"",subtitlesUrl:A.answerVideo.subtitles||"",textResponse:A.textResponse},_=S.map(k=>k.id===T.id?C:k);p(_),v(!0),l(A.answerVideo.video||""),u(A.answerVideo.subtitles||""),d(T.id)}catch(E){const A=e.filter(C=>C.id!==T.id);p(A),g({title:"Error",description:E instanceof Error?E.message:"Failed to get response from Dr.M",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen pb-20 bg-background",children:i.jsxs("div",{className:"max-w-md mx-auto h-screen flex flex-col",children:[i.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-3 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative ml-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-white shadow-lg overflow-hidden bg-white",children:i.jsx("img",{src:pV,alt:"Dr.M",className:"w-full h-full object-cover object-top","data-testid":"img-drm-avatar"})}),i.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border border-white rounded-full"})]}),i.jsxs("div",{className:"text-white",children:[i.jsx("h1",{className:"text-base font-bold",children:"Dr. M's AI Avatar"}),i.jsx("p",{className:"text-xs opacity-90",children:"Your AI Wellness Guide"})]})]})}),e.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4","data-testid":"empty-state-drm",children:[i.jsx("img",{src:B_,alt:"Chat Icon",className:"w-32 h-32 mb-4","data-testid":"img-chat-icon-empty"}),i.jsx("p",{className:"text-gray-500 text-center","data-testid":"text-empty-chat",children:"Chat with Dr. M's AI Avatar"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-shrink-0 bg-black aspect-video relative mt-1",children:o?i.jsxs("video",{ref:y,className:"w-full h-full",controls:!0,playsInline:!0,"data-testid":"video-drm-response",children:[i.jsx("source",{src:o,type:"video/mp4"}),c&&i.jsx("track",{kind:"subtitles",src:c,srcLang:"en",label:"English",default:!0}),"Your browser does not support the video tag."]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/60",children:i.jsx("p",{className:"text-sm","data-testid":"text-no-video",children:"Your guidance session is being prepared."})})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-2","data-testid":"chat-history",children:e.slice(-fj).map(N=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-end",children:i.jsx("div",{className:"text-white rounded-lg px-4 py-2 max-w-[80%]",style:{backgroundColor:"#703DFA"},"data-testid":`text-user-question-${N.id}`,children:i.jsx("p",{className:"text-sm",children:N.question})})}),i.jsxs("div",{className:"flex justify-start gap-2",children:[N.videoUrl&&i.jsx("button",{onClick:()=>b(N),className:`relative flex-shrink-0 w-16 h-11 rounded-lg overflow-hidden border-2 transition-all ${h===N.id?"ring-2 ring-purple-300":"border-gray-300 hover:border-purple-400"}`,style:{backgroundColor:"#703DFA",borderColor:h===N.id?"#703DFA":void 0},"data-testid":`button-video-thumbnail-${N.id}`,children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Wr,{className:"w-6 h-6 text-white drop-shadow-lg",fill:"white"})})}),!hj(N.textResponse)&&i.jsx("div",{className:"rounded-lg px-4 py-2 max-w-[70%] text-gray-900",style:{backgroundColor:"#F3F0FF"},"data-testid":`text-drm-response-${N.id}`,children:i.jsx("p",{className:"text-sm",children:N.textResponse||"Dr. Ms Avatar is crafting your video response..."})}),hj(N.textResponse)&&N.videoUrl&&i.jsx("div",{className:"rounded-lg px-4 py-2 max-w-[70%] text-gray-900",style:{backgroundColor:"#F3F0FF"},"data-testid":`text-drm-response-${N.id}`,children:i.jsx("p",{className:"text-sm text-gray-600",children:"Video response"})})]})]},N.id))})]}),i.jsx("form",{onSubmit:w,className:"p-3 border-t flex-shrink-0 bg-background mb-16",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{type:"text",placeholder:"Type your question...",value:n,onChange:N=>r(N.target.value),disabled:s,className:"flex-1 focus-visible:ring-[#703DFA]","data-testid":"input-question"}),i.jsx(ee,{type:"submit",disabled:s||!n.trim(),size:"icon","data-testid":"button-send",style:{backgroundColor:"#703DFA"},className:"hover:opacity-90",children:i.jsx(R3,{className:"h-4 w-4"})})]})}),s&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:i.jsx(e0,{value:void 0,className:"h-1 rounded-none","data-testid":"progress-loading"})})]})})}function DU(){const[,e]=Ve(),[t,n]=j.useState(new Date),[r,s]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState({}),[u,h]=j.useState(null),[d,f]=j.useState(!1),[v,x]=j.useState(""),{data:m,isLoading:y}=Ue({queryKey:["/api/public/v1/features","ABUNDANCE"],queryFn:async()=>{const F=await fetch("/api/public/v1/features/ABUNDANCE");if(!F.ok)throw new Error("Failed to fetch abundance courses");return F.json()}}),g=((m==null?void 0:m.courses)||[]).sort((F,R)=>F.position-R.position);j.useEffect(()=>{const F=localStorage.getItem("@app:rewiring_beliefs"),R=localStorage.getItem("@app:rewiring_last_update");if(F)try{const D=JSON.parse(F);s(D.length>0)}catch{s(!1)}if(R){const D=new Date().toDateString(),$=new Date(parseInt(R)).toDateString();o(D===$)}const O=localStorage.getItem("@app:money_earnings");if(O)try{c(JSON.parse(O))}catch(D){console.error("Error loading earnings:",D)}},[]);const p=()=>{const F=t.getFullYear(),R=t.getMonth(),O=new Date(F,R+1,0).getDate(),D=new Date(F,R,1).getDay();return{daysInMonth:O,firstDay:D}},{daysInMonth:b,firstDay:w}=p(),N=Array.from({length:b},(F,R)=>R+1),T=Array.from({length:w},(F,R)=>R),S=F=>{const R=t.getFullYear(),O=String(t.getMonth()+1).padStart(2,"0"),D=String(F).padStart(2,"0");return`${R}-${O}-${D}`},E=F=>{var O;const R=S(F);h(R),x(((O=l[R])==null?void 0:O.toString())||""),f(!0)},A=()=>{if(!u)return;const F=parseFloat(v);if(isNaN(F)){alert("Please enter a valid number");return}if(F<0){alert("Amount cannot be negative");return}const R={...l,[u]:F};c(R),localStorage.setItem("@app:money_earnings",JSON.stringify(R)),f(!1),x("")},C=()=>{if(!u)return;const F={...l};delete F[u],c(F),localStorage.setItem("@app:money_earnings",JSON.stringify(F)),f(!1),x("")},_=()=>{n(new Date(t.getFullYear(),t.getMonth()-1,1))},k=()=>{n(new Date(t.getFullYear(),t.getMonth()+1,1))},P=F=>{const R=Math.max(...Object.values(l),1),O=F/R;return O>.75?"bg-green-600 text-white":O>.5?"bg-green-500 text-white":O>.25?"bg-green-400 text-green-900":"bg-green-200 text-green-900"},B=(()=>{var q;const F=Object.entries(l).filter(([K])=>{const[W,V]=K.split("-");return parseInt(W)===t.getFullYear()&&parseInt(V)===t.getMonth()+1}),R=F.reduce((K,[,W])=>K+W,0),O=F.length>0?Math.max(...F.map(([,K])=>K)):0,D=F.length>0?R/F.length:0,$=(q=F.find(([,K])=>K===O))==null?void 0:q[0];return{total:R,highest:O,average:D,highestDay:$}})(),U=new Date,L=F=>t.getFullYear()===U.getFullYear()&&t.getMonth()===U.getMonth()&&F===U.getDate();return i.jsx("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("h1",{className:"text-lg font-bold text-gray-600 tracking-widest",style:{fontFamily:"Montserrat"},children:"DAILY ABUNDANCE"})]})}),i.jsxs("div",{className:"px-4 py-6 space-y-6",children:[i.jsxs(we,{className:"p-4 bg-white","data-testid":"card-money-calendar",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ay,{className:"w-5 h-5",style:{color:"#703DFA"}}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Money Calendar"})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(ee,{variant:"ghost",size:"sm",onClick:_,"data-testid":"button-prev-month",children:i.jsx(vh,{className:"w-4 h-4"})}),i.jsx("h3",{className:"font-semibold text-foreground",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:k,"data-testid":"button-next-month",children:i.jsx(Cn,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((F,R)=>i.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-1",children:F},R))}),i.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[T.map((F,R)=>i.jsx("div",{className:"aspect-square"},`empty-${R}`)),N.map(F=>{const R=S(F),O=l[R],D=O!==void 0;return i.jsxs("button",{onClick:()=>E(F),className:`aspect-square rounded-lg hover-elevate active-elevate-2 flex flex-col items-center justify-center p-1 ${D?P(O):L(F)?"bg-primary/10 border border-primary":"bg-muted"}`,"data-testid":`day-${F}`,children:[i.jsx("span",{className:`text-xs font-medium ${D?"":"text-foreground"}`,children:F}),D&&i.jsxs("span",{className:"text-[10px] font-semibold",children:["",O]})]},F)})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Monthly Summary"}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings:"}),i.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",B.total.toFixed(0)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Highest Day:"}),i.jsx("span",{className:"text-sm font-semibold text-foreground",children:B.highest>0?`${B.highest.toFixed(0)}`:"-"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Average/Day:"}),i.jsx("span",{className:"text-sm font-semibold text-foreground",children:B.average>0?`${B.average.toFixed(0)}`:"-"})]})]})]}),i.jsx(ct,{open:d,onOpenChange:f,children:i.jsxs(it,{"data-testid":"dialog-earning",children:[i.jsx(ut,{children:i.jsx(dt,{children:u&&l[u]?"Edit Earning":"Add Earning"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Amount ()"}),i.jsx("input",{type:"number",value:v,onChange:F=>x(F.target.value),placeholder:"Enter amount",className:"w-full h-10 px-3 rounded-lg bg-muted text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50","data-testid":"input-earning-amount"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{onClick:A,className:"flex-1","data-testid":"button-save-earning",children:"Save"}),u&&l[u]&&i.jsx(ee,{onClick:C,variant:"destructive","data-testid":"button-delete-earning",children:"Delete"})]})]})]})}),i.jsx(we,{className:"p-5 bg-white cursor-pointer hover-elevate active-elevate-2 shadow-md h-[140px]",onClick:()=>e("/rewiring-belief"),"data-testid":"card-rewiring-belief",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-1 flex-1",children:[i.jsx(Ty,{className:"w-7 h-7 flex-shrink-0",style:{color:"#703DFA"}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h2",{className:"text-foreground text-lg font-bold",children:"Rewiring Belief"}),r&&i.jsx(Py,{className:"w-5 h-5",style:{color:"#703DFA"},"data-testid":"check-icon"})]}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Transform limiting beliefs into empowering ones"}),a&&i.jsx("p",{className:"text-muted-foreground text-xs italic mt-1","data-testid":"text-updated-today",children:"Beliefs updated today"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(ee,{variant:"outline",size:"sm",className:"bg-white text-black border-border",onClick:F=>{F.stopPropagation(),e("/rewiring-belief")},children:[i.jsx("span",{className:"mr-1 text-sm",children:"Start Rewiring"}),i.jsx("span",{style:{color:"#703DFA"},children:""})]})})]})}),y&&i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx(nt,{className:"w-6 h-6 animate-spin",style:{color:"#703DFA"}})}),!y&&g.length>0&&i.jsx("div",{className:"space-y-4",children:g.map(F=>i.jsx(we,{className:"p-5 bg-white cursor-pointer hover-elevate active-elevate-2 shadow-md",onClick:()=>e(`/abundance-mastery/course/${F.id}`),"data-testid":`card-course-${F.id}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sr,{className:"w-7 h-7 flex-shrink-0",style:{color:"#703DFA"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-foreground text-lg font-bold mb-1",children:F.title}),F.description&&i.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:F.description})]})]})},F.id))})]})]})})}const am=["Recognition","EET","Visualisation","Karmic Affirmation","Story Burning","Gratitude Journal","Appreciation Journal","Dump Journal","Mirror Work","Ho'oponopono","Infinity Loop","Meditation","Affirmations"];function RU(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[o,l]=j.useState([]),[c,u]=j.useState(!1),[h,d]=j.useState(!1),[f,v]=j.useState([]),[x,m]=j.useState(new Set),y=!!localStorage.getItem("@app:user_token"),g=Se({mutationFn:async A=>(await De("POST","/api/v1/activity/log",{lessonId:A.lessonId,lessonName:A.lessonName,featureType:"CHECKLIST",activityDate:new Date().toISOString().split("T")[0]})).json(),onSuccess:()=>{ve.invalidateQueries({predicate:A=>Array.isArray(A.queryKey)&&A.queryKey[0]==="/api/v1/activity/monthly-stats"})}}),p=A=>{if(!y||x.has(A))return;const C=am.indexOf(A),_=C>=0?1e4+C:1e4+A.length;m(k=>new Set(k).add(A)),g.mutate({lessonId:_,lessonName:A})};j.useEffect(()=>{const A=localStorage.getItem("userChecklist");if(A){const P=JSON.parse(A);r(P),a(!1)}else a(!0);const C=new Date().toISOString().split("T")[0],k=JSON.parse(localStorage.getItem("dailyLogs")||"[]").find(P=>P.date===C);k&&(l(k.completed),u(!0))},[]);const b=()=>{v([]),d(!0)},w=()=>{v([...n]),d(!0)},N=A=>{v(C=>C.includes(A)?C.filter(_=>_!==A):[...C,A])},T=()=>{if(f.length===0){t({title:"Select at least one practice",description:"Choose practices that matter to you",variant:"destructive"});return}localStorage.setItem("userChecklist",JSON.stringify(f)),r(f);const A=o.filter(P=>f.includes(P));l(A);const C=new Date().toISOString().split("T")[0],k=JSON.parse(localStorage.getItem("dailyLogs")||"[]").filter(P=>P.date!==C);A.length>0&&k.push({date:C,completed:A}),localStorage.setItem("dailyLogs",JSON.stringify(k)),a(!1),d(!1),t({title:"Checklist saved!",description:`${f.length} practices in your daily ritual`})},S=A=>{const C=!o.includes(A);l(_=>_.includes(A)?_.filter(k=>k!==A):[..._,A]),u(!1),C&&p(A)},E=()=>{const A=new Date().toISOString().split("T")[0],_=JSON.parse(localStorage.getItem("dailyLogs")||"[]").filter(k=>k.date!==A);_.push({date:A,completed:o}),localStorage.setItem("dailyLogs",JSON.stringify(_)),u(!0),t({title:"Well done, Champion",description:`You've completed ${o.length} of ${n.length} practices today!`})};return s?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 dark:from-gray-900 dark:via-background dark:to-gray-900 pb-20 flex items-center justify-center",children:[i.jsxs("div",{className:"max-w-md mx-auto px-6 text-center space-y-8",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto shadow-lg",children:i.jsx(Ho,{className:"w-10 h-10 text-white"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Start Your Daily Practice Ritual"}),i.jsx("p",{className:"text-xl text-foreground",children:"Hello Champion,"}),i.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Ready to build your own Process Checklist  the practices that truly matter to you?"})]}),i.jsx(we,{className:"p-6 bg-white border border-gray-200 shadow-xl",children:i.jsxs("div",{className:"space-y-4 text-left",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"This will help you:"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Jn,{className:"w-5 h-5 text-brand flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-600",children:"Stay consistent"})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Jn,{className:"w-5 h-5 text-brand flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-600",children:"Track your journey weekly & monthly"})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Jn,{className:"w-5 h-5 text-brand flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-600",children:"See your growth clearly"})]})]})]})}),i.jsxs(ee,{onClick:b,size:"lg",className:"w-full h-14 text-lg font-semibold shadow-lg bg-brand hover:bg-brand/90 text-white","data-testid":"button-create-checklist",children:[i.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Create My Process Checklist"]})]}),i.jsx(ct,{open:h,onOpenChange:d,children:i.jsxs(it,{className:"max-w-md max-h-[80vh] overflow-y-auto","data-testid":"dialog-select-practices",children:[i.jsxs(ut,{children:[i.jsx(dt,{className:"text-2xl",children:"Select Your Daily Practices"}),i.jsx(Vr,{children:"Choose the practices you want to include in your daily checklist"})]}),i.jsx("div",{className:"space-y-2 py-4",children:am.map(A=>i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl hover-elevate active-elevate-2 transition-all","data-testid":`select-practice-${A.toLowerCase().replace(/\s+/g,"-")}`,children:[i.jsx(bo,{id:`select-${A}`,checked:f.includes(A),onCheckedChange:()=>N(A),className:"w-5 h-5"}),i.jsx("label",{htmlFor:`select-${A}`,className:"flex-1 font-medium text-foreground cursor-pointer text-base",children:A})]},A))}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-checklist",children:"Cancel"}),i.jsxs(ee,{onClick:T,disabled:f.length===0,"data-testid":"button-save-checklist",children:[i.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Save My Checklist"]})]})]})})]}):i.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-lg font-semibold text-gray-500",style:{fontFamily:"Montserrat"},children:"MY PRACTICE LOG"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length," of ",n.length," completed"]})]}),i.jsxs(ee,{variant:"ghost",size:"sm",onClick:w,className:"gap-2","data-testid":"button-edit-checklist",children:[i.jsx(on,{className:"w-4 h-4 text-[#703DFA]"}),i.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})]})}),i.jsxs("div",{className:"px-4 py-6 space-y-6",children:[i.jsxs(we,{className:"p-6 bg-gradient-to-br from-purple-500 via-indigo-500 to-purple-600 border-0 shadow-lg relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),i.jsxs("div",{className:"relative flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:i.jsx(q2,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-white text-xl font-bold mb-1",children:"Today's Practices"}),i.jsx("p",{className:"text-white/90 text-sm",children:"Check off what you've completed"})]})]})]}),i.jsx(we,{className:"p-5 shadow-md rounded-xl bg-white border-[#703DFA]",children:i.jsx("div",{className:"space-y-2",children:n.map(A=>i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl hover-elevate active-elevate-2 transition-all","data-testid":`practice-${A.toLowerCase().replace(/\s+/g,"-")}`,children:[i.jsx(bo,{id:A,checked:o.includes(A),onCheckedChange:()=>S(A),className:"w-5 h-5 rounded-md border-[#703DFA] data-[state=checked]:bg-[#703DFA] data-[state=checked]:border-[#703DFA]"}),i.jsx("label",{htmlFor:A,className:`flex-1 font-medium cursor-pointer transition-all ${o.includes(A)?"text-muted-foreground line-through":"text-foreground"}`,children:A})]},A))})}),i.jsx(ee,{onClick:E,className:"w-full h-12 text-base font-semibold shadow-md border-0",style:{backgroundColor:"#703DFA"},disabled:o.length===0,"data-testid":"button-save-reflection",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Saved"]}):"Save Today's Reflection"})]})]}),i.jsx(ct,{open:h,onOpenChange:d,children:i.jsxs(it,{className:"max-w-md max-h-[80vh] overflow-y-auto","data-testid":"dialog-edit-practices",children:[i.jsxs(ut,{children:[i.jsx(dt,{className:"text-2xl",children:"Edit Your Daily Practices"}),i.jsx(Vr,{children:"Add or remove practices from your daily checklist"})]}),i.jsx("div",{className:"space-y-2 py-4",children:am.map(A=>i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl hover-elevate active-elevate-2 transition-all","data-testid":`edit-practice-${A.toLowerCase().replace(/\s+/g,"-")}`,children:[i.jsx(bo,{id:`edit-${A}`,checked:f.includes(A),onCheckedChange:()=>N(A),className:"w-5 h-5"}),i.jsx("label",{htmlFor:`edit-${A}`,className:"flex-1 font-medium text-foreground cursor-pointer text-base",children:A})]},A))}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),i.jsxs(ee,{onClick:T,disabled:f.length===0,"data-testid":"button-save-edit",children:[i.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]})}const MU=[{text:"How you do anything is how you do everything",author:"Dr.M"},{text:"The secret of success is learning how to use pain and pleasure instead of having pain and pleasure use you.",author:"Tony Robbins"},{text:"Don't let yesterday take up too much of today.",author:"Will Rogers"}];function IU(){const[,e]=Ve();return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Daily Quotes"})]})}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[MU.map((t,n)=>i.jsxs(we,{className:"p-6 bg-gradient-to-br from-indigo-400 via-purple-400 to-pink-400 border-0","data-testid":`quote-card-${n}`,children:[i.jsxs("p",{className:"text-white text-lg font-semibold mb-4 leading-relaxed",children:['"',t.text,'"']}),i.jsxs("p",{className:"text-white/80 text-sm",children:[" ",t.author]})]},n)),i.jsxs(we,{className:"p-8 text-center bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 border-0",children:[i.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"That's it for today "}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"New Quotes and Affirmations on a new day."}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"See you tomorrow!"})]})]})]})})}const pj=[{id:1,title:"Welcome to Dr.M App! ",message:"Start your wellness journey today with personalized practices.",time:"2 hours ago",read:!1},{id:2,title:"New Community Practice Session",message:"Join the 7:00 AM session tomorrow for guided meditation.",time:"5 hours ago",read:!1},{id:3,title:"Streak Achievement! ",message:"You've maintained a 7-day streak. Keep it going!",time:"1 day ago",read:!0},{id:4,title:"New Articles Available",message:"Check out the latest wellness articles in your feed.",time:"2 days ago",read:!0}];function LU(){const[,e]=Ve();return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Notifications"})]})}),i.jsx("div",{className:"px-4 py-6",children:pj.length===0?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(gh,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"No Notifications"}),i.jsx("p",{className:"text-muted-foreground",children:"You're all caught up!"})]})}):i.jsx("div",{className:"space-y-3",children:pj.map(t=>i.jsx(we,{className:`p-4 ${t.read?"":"bg-primary/5 border-primary/20"}`,"data-testid":`notification-${t.id}`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${t.read?"bg-transparent":"bg-primary"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-1",children:t.title}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.message}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t.time})]})]})},t.id))})})]})})}function om({label:e,count:t,maxCount:n,gradient:r="from-purple-300 to-purple-500"}){const s=n>0?t/n*100:0;return i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:e}),i.jsxs("span",{className:"text-sm font-semibold text-muted-foreground",children:[t,""]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-3 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-3 rounded-full transition-all duration-500 bg-gradient-to-r ${r}`,style:{width:`${s}%`}})})]})}function FU(){const e=[],t=new Date;for(let n=0;n<6;n++){const r=new Date(t.getFullYear(),t.getMonth()-n,1),s=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),o=`${s}-${a}`,l=r.toLocaleDateString("en-US",{month:"long",year:"numeric"});e.push({value:o,label:l})}return e}function $U(){const[,e]=Ve(),t=FU(),[n,r]=j.useState(0),s=t[n],a=!!localStorage.getItem("@app:user_token"),{data:o,isLoading:l,error:c}=Ue({queryKey:["/api/v1/activity/monthly-stats",s==null?void 0:s.value],queryFn:async()=>{const f=await fetch(`/api/v1/activity/monthly-stats?month=${s==null?void 0:s.value}`,{headers:{Authorization:`Bearer ${localStorage.getItem("@app:user_token")}`,"Cache-Control":"no-cache"}});if(!f.ok)throw new Error("Failed to fetch monthly stats");return f.json()},enabled:a&&!!s,staleTime:0,refetchOnWindowFocus:!0}),u=()=>{n<t.length-1&&r(n+1)},h=()=>{n>0&&r(n-1)},d=o&&(o.PROCESS.length>0||o.BREATH.length>0||o.CHECKLIST.length>0);return a?i.jsx("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-600 uppercase tracking-wider",style:{fontFamily:"Montserrat, sans-serif"},children:"AI Insights"})]})}),i.jsxs("div",{className:"px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-3 shadow-sm",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:u,disabled:n>=t.length-1,"data-testid":"button-prev-month",children:i.jsx(vh,{className:"w-5 h-5"})}),i.jsx("span",{className:"font-semibold text-foreground","data-testid":"text-selected-month",children:s==null?void 0:s.label}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:h,disabled:n<=0,"data-testid":"button-next-month",children:i.jsx(Cn,{className:"w-5 h-5"})})]}),l&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-[#703DFA]"})}),c&&i.jsx(we,{className:"p-5 shadow-sm bg-white text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed to load insights. Please try again."})}),!l&&!c&&o&&i.jsxs(we,{className:"p-5 shadow-sm bg-white","data-testid":"card-monthly-progress",children:[i.jsxs("h2",{className:"text-lg font-semibold text-foreground mb-1",children:[s==null?void 0:s.label," Progress"]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-5",children:"Your practice journey this month"}),o.PROCESS.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(qn,{className:"w-4 h-4 text-[#703DFA]"}),i.jsx("h3",{className:"text-md font-medium text-foreground",children:"Processes"})]}),o.PROCESS.map((f,v)=>i.jsx(om,{label:f.lessonName,count:f.count,maxCount:o.maxCount,gradient:"from-purple-300 to-purple-500"},f.lessonId||v))]}),o.BREATH.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(wa,{className:"w-4 h-4 text-cyan-500"}),i.jsx("h3",{className:"text-md font-medium text-foreground",children:"Spiritual Breaths"})]}),o.BREATH.map((f,v)=>i.jsx(om,{label:f.lessonName,count:f.count,maxCount:o.maxCount,gradient:"from-cyan-300 to-cyan-500"},f.lessonId||v))]}),o.CHECKLIST.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Y2,{className:"w-4 h-4 text-green-500"}),i.jsx("h3",{className:"text-md font-medium text-foreground",children:"Process Checklist"})]}),o.CHECKLIST.map((f,v)=>i.jsx(om,{label:f.lessonName,count:f.count,maxCount:o.maxCount,gradient:"from-green-300 to-green-500"},f.lessonId||v))]}),d&&i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:i.jsx("p",{className:"text-sm italic text-center text-foreground/80",children:`"You came back again and again. That's growth."`})}),!d&&i.jsx("div",{className:"text-center py-8",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No activity recorded for ",s==null?void 0:s.label,". Start your practice journey!"]})})]})]})]})}):i.jsx("div",{className:"min-h-screen pb-20",style:{backgroundColor:"#F3F3F3"},children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-600 uppercase tracking-wider",style:{fontFamily:"Montserrat, sans-serif"},children:"AI Insights"})]})}),i.jsx("div",{className:"px-4 py-12 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Please log in to view your practice insights."})})]})})}const BU={"dyd-14":{id:"dyd-14",title:"DYD 14",fullTitle:"Design Your Destiny",thumbnail:"/workshopsimg/DesignYourDestiny.png",year:"July 2025",lessons:[{id:"1",number:"01",title:"19 July  Intervention",duration:"3hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"5 Aug  Root Chakra Process",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"12 Aug  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"4",number:"04",title:"19 Aug  Sacral Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"5",number:"05",title:"21 Aug  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"6",number:"06",title:"27 Aug  Solar Plexus Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"7",number:"07",title:"2 Sept  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"8",number:"08",title:"4 Sept  Heart Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"9",number:"09",title:"9 Sept  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"10",number:"10",title:"11 Sept  Throat Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"11",number:"11",title:"18 Sept  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"12",number:"12",title:"23 Sept  Third Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"13",number:"13",title:"23 Sept  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"14",number:"14",title:"25 Sept  Crown Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"15",number:"15",title:"30 Sept  Intervention",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"16",number:"16",title:"2 Oct  Crown Chakra Process",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},"dyd-13":{id:"dyd-13",title:"DYD 13",fullTitle:"Design Your Destiny",thumbnail:"bg-gradient-to-br from-blue-500 to-indigo-500",year:"April 2025",lessons:[{id:"1",number:"01",title:"Session 1  Introduction",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Session 2  Root Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Session 3  Sacral Chakra",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"4",number:"04",title:"Session 4  Solar Plexus",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},"dyd-12":{id:"dyd-12",title:"DYD 12",fullTitle:"Design Your Destiny",thumbnail:"bg-gradient-to-br from-green-500 to-emerald-500",year:"January 2025",lessons:[{id:"1",number:"01",title:"Introduction Session",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Energy Work Foundation",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Chakra Activation",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},"usm-march":{id:"usm-march",title:"USM",fullTitle:"Ultimate Success Mastery",thumbnail:"/workshopsimg/UltimateSuccessMastery.png",year:"March 2025",lessons:[{id:"1",number:"01",title:"Vibration Mastery",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Influence Mastery",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Money Mastery",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},"usm-jan":{id:"usm-jan",title:"USM",fullTitle:"Universal Success Mastery",thumbnail:"bg-gradient-to-br from-cyan-400 to-blue-500",year:"January 2025",lessons:[{id:"1",number:"01",title:"Vibration Mastery",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Influence Mastery",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Money Mastery",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},"usc-march":{id:"usc-march",title:"USC",fullTitle:"Ultimate Success Champion",thumbnail:"/workshopsimg/UltimateSuccessChampion.png",year:"March 2025",lessons:[{id:"1",number:"01",title:"Day 1  Video",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Day 2  Video",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Day 3  Video",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},"usb-feb":{id:"usb-feb",title:"USB",fullTitle:"Ultimate Success Blueprint",thumbnail:"/workshopsimg/UltimateSuccessBuilder.png",year:"February 2025",lessons:[{id:"1",number:"01",title:"Recognise",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Release",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Rewire",duration:"2hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},sleep:{id:"sleep",title:"Sleep Subconscious",fullTitle:"Sleep Subconscious Reprogramming",thumbnail:"/workshopsimg/SSR.jpg",year:"2025",lessons:[{id:"1",number:"01",title:"Deep Sleep Techniques",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Subconscious Reprogramming",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Dream Work",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]},visions:{id:"visions",title:"Build Your Visions",fullTitle:"Build Your Visions Workshop",thumbnail:"/workshopsimg/BYV.jpg",year:"2025",lessons:[{id:"1",number:"01",title:"Vision Clarity",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"2",number:"02",title:"Action Planning",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{id:"3",number:"03",title:"Manifestation Strategies",duration:"1hr",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]}};function VU(){const[,e]=Ve(),[,t]=YR("/workshops/course/:courseId"),n=(t==null?void 0:t.courseId)||"",r=BU[n];if(!r)return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[i.jsx("p",{className:"text-center text-muted-foreground",children:"Course not found"}),i.jsx("button",{onClick:()=>e("/workshops"),className:"mt-4 text-primary","data-testid":"button-back-to-workshops",children:"Go back to Workshops"})]})});const s=a=>{const o=new URLSearchParams({videoId:`${n}-lesson-${a.id}`,title:`${r.title} - ${a.title}`,url:a.url||"",description:a.description||`${r.fullTitle} - ${a.title}`,thumbnail:""});e(`/video-player?${o.toString()}`)};return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/workshops"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Course Overview"})]})}),i.jsxs("div",{className:"px-4 py-6 space-y-6",children:[i.jsx(we,{className:"overflow-hidden border-0",children:i.jsx("div",{className:"relative h-48 flex items-end p-6 overflow-hidden",children:r.thumbnail.startsWith("bg-")?i.jsx("div",{className:`${r.thumbnail} absolute inset-0`}):i.jsx("img",{src:r.thumbnail,alt:r.title,className:"absolute inset-0 w-full h-full object-cover",onError:a=>a.currentTarget.src="/images/placeholder.jpg"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:r.fullTitle}),i.jsxs("p",{className:"text-muted-foreground",children:[r.lessons.length," lessons"]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Lessons"}),i.jsx("div",{className:"space-y-3",children:r.lessons.map(a=>i.jsx(we,{className:"p-4 cursor-pointer hover-elevate active-elevate-2",onClick:()=>s(a),"data-testid":`lesson-${a.id}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-primary font-bold",children:a.number})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h5",{className:"font-medium text-foreground truncate",children:a.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a.duration})]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Wr,{className:"w-5 h-5 text-primary",fill:"currentColor"})})]})},a.id))})]})]})]})})}function UU(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState([]),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState({limiting:"",uplifting:""});j.useEffect(()=>{const x=localStorage.getItem("@app:rewiring_beliefs");if(x)try{const m=JSON.parse(x);if(m.length>0){const y=m.map(g=>({limiting:g.limiting,uplifting:g.uplifting}));r(y)}}catch(m){console.error("Error loading beliefs:",m)}},[]);const h=()=>{l(null),u({limiting:"",uplifting:""}),a(!0)},d=x=>{l(x),u({...n[x]}),a(!0)},f=()=>{if(c.limiting.trim()===""||c.uplifting.trim()===""){t({title:"Please complete both fields",description:"Both limiting and uplifting beliefs are required.",variant:"destructive"});return}let x;if(o!==null)x=[...n],x[o]=c,r(x);else{if(n.length>=5){t({title:"Maximum beliefs reached",description:"You can have up to 5 belief pairs.",variant:"destructive"});return}x=[...n,c],r(x)}localStorage.setItem("@app:rewiring_beliefs",JSON.stringify(x)),localStorage.setItem("@app:rewiring_last_update",Date.now().toString()),a(!1),u({limiting:"",uplifting:""}),t({title:"Beautiful progress, Champion!",description:o!==null?"Your belief is updated.":"Your belief is saved.",className:"bg-[#FCE2B7] text-[#2E2C28] border-[#F4B860]"})},v=x=>{const m=n.filter((y,g)=>g!==x);r(m),localStorage.setItem("@app:rewiring_beliefs",JSON.stringify(m)),localStorage.setItem("@app:rewiring_last_update",Date.now().toString()),t({title:"Belief removed",description:"Your belief has been deleted."})};return i.jsxs("div",{className:"min-h-screen pb-24",style:{backgroundColor:"#FFFDF8"},children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"sticky top-0 z-10",style:{backgroundColor:"#FFFDF8"},children:[i.jsx("div",{className:"px-4 py-4 flex items-center gap-4 border-b",style:{borderColor:"#EDE6DA"},children:i.jsx("button",{onClick:()=>e("/money-mastery"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6",style:{color:"#2E2C28"}})})}),i.jsxs("div",{className:"px-6 py-8",style:{background:"linear-gradient(90deg, #FFF7E2, #FFEFD2)"},children:[i.jsxs("h1",{className:"text-2xl font-semibold mb-3 text-center",style:{color:"#2E2C28",fontFamily:"Poppins, sans-serif"},children:["Let's rewire that mindset,"," ",i.jsx("span",{className:"relative inline-block",children:i.jsx("span",{style:{textDecoration:"underline",textDecorationColor:"#F4B860"},children:"Champion!"})})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("p",{className:"text-base font-medium",style:{color:"#726C63",fontFamily:"Inter, sans-serif"},children:"Left tap fear, right tap faith"}),i.jsxs("div",{className:"flex items-center gap-1.5 ml-2",children:[i.jsx(Ty,{className:"w-4 h-4",style:{color:"#F4B860"}}),i.jsx(B3,{className:"w-4 h-4",style:{color:"#F4B860"}})]})]})]})]}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-sm mb-2",style:{color:"#726C63"},children:"No beliefs yet"}),i.jsx("p",{className:"text-xs",style:{color:"#9CA3AF"},children:"Tap the + button below to add your first belief pair"})]}):n.map((x,m)=>i.jsxs(we,{className:"p-5 relative",style:{backgroundColor:"#FFFFFF",borderColor:"#EDE6DA",borderRadius:"1rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},"data-testid":`belief-card-${m}`,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#EF4444"},children:"Limiting Belief"}),i.jsx("p",{className:"text-xl font-medium leading-relaxed",style:{color:"#2E2C28",lineHeight:"1.6"},"data-testid":`belief-limiting-text-${m}`,children:x.limiting})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#10B981"},children:"Rewired Belief"}),i.jsx("p",{className:"text-xl font-medium leading-relaxed",style:{color:"#2E2C28",lineHeight:"1.6"},"data-testid":`belief-uplifting-text-${m}`,children:x.uplifting})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t",style:{borderColor:"#F0F0F0"},children:[i.jsxs(ee,{onClick:()=>d(m),size:"sm",variant:"outline",className:"gap-1.5","data-testid":`button-edit-${m}`,children:[i.jsx(Ry,{className:"w-4 h-4"}),"Edit"]}),i.jsxs(ee,{onClick:()=>v(m),size:"sm",variant:"outline",className:"gap-1.5","data-testid":`button-delete-${m}`,children:[i.jsx($t,{className:"w-4 h-4"}),"Delete"]})]})]},m)),n.length<5&&i.jsx("div",{className:"flex justify-center pt-4",children:i.jsx("button",{onClick:h,className:"rounded-full p-4 hover-elevate active-elevate-2",style:{backgroundColor:"#F4B860",boxShadow:"0 4px 12px rgba(244, 184, 96, 0.3)"},"data-testid":"button-add-belief",children:i.jsx(gt,{className:"w-6 h-6",style:{color:"#2E2C28"}})})}),n.length>=5&&i.jsx("p",{className:"text-center text-sm italic pt-2",style:{color:"#726C63"},children:"Max 5 beliefs reached"})]})]}),i.jsx(ct,{open:s,onOpenChange:a,children:i.jsxs(it,{className:"max-w-md",style:{backgroundColor:"#FFFDF8",borderColor:"#EDE6DA"},children:[i.jsx(ut,{children:i.jsx(dt,{className:"text-xl font-semibold",style:{color:"#2E2C28",fontFamily:"Poppins, sans-serif"},children:o!==null?"Edit Belief Pair":"Add New Belief Pair"})}),i.jsxs("div",{className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"modal-limiting",className:"text-xs uppercase font-medium",style:{color:"#726C63"},children:"Limiting Belief"}),i.jsx(Ae,{id:"modal-limiting",value:c.limiting,onChange:x=>u({...c,limiting:x.target.value}),placeholder:"e.g., I never have enough money",className:"border",style:{borderColor:"#EDE6DA",backgroundColor:"#FFFFFF"},"data-testid":"input-modal-limiting"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"modal-uplifting",className:"text-xs uppercase font-medium",style:{color:"#726C63"},children:"Uplifting Belief"}),i.jsx(Ae,{id:"modal-uplifting",value:c.uplifting,onChange:x=>u({...c,uplifting:x.target.value}),placeholder:"e.g., Abundance flows to me effortlessly",className:"border",style:{borderColor:"#EDE6DA",backgroundColor:"#FFFFFF"},"data-testid":"input-modal-uplifting"})]}),i.jsx(ee,{onClick:f,className:"w-full font-semibold",style:{background:"linear-gradient(90deg, #FFD580, #F8A14D)",color:"#2E2C28",fontFamily:"Poppins, sans-serif"},"data-testid":"button-save-modal",children:"Save"})]})]})})]})}function qU(){const[,e]=Ve(),[t,n]=j.useState(!1),[r,s]=j.useState(1),a=j.useRef(null),o=new URLSearchParams(window.location.search),l=o.get("videoId")||"",c=o.get("title")||"Video",u=o.get("author")||"",h=o.get("description")||"",d=o.get("thumbnail")||"",f=o.get("url")||"",v=f.startsWith("http")?f:`${window.location.origin}${f}`;j.useEffect(()=>{const b=o.get("progress");b&&a.current&&(a.current.onloadedmetadata=()=>{a.current.currentTime=parseInt(b)})},[]);const x=()=>{if(!a.current)return;const b=Math.floor(a.current.currentTime);b%5===0&&localStorage.setItem("last-watched",JSON.stringify({videoId:l,title:c,thumbnail:d,author:u,url:v,progressInSeconds:b}))},m=()=>{localStorage.removeItem("last-watched")},y=()=>{a.current&&localStorage.setItem("last-watched",JSON.stringify({videoId:l,title:c,thumbnail:d,author:u,url:v,progressInSeconds:Math.floor(a.current.currentTime)})),e("/workshops")},g=b=>{s(b),a.current&&(a.current.playbackRate=b),n(!1)},p=[.5,1,1.25,1.5,2];return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[i.jsx("button",{onClick:y,className:"p-2 rounded-lg",children:i.jsx(rt,{className:"w-6 h-6"})}),i.jsx(ee,{variant:"outline",size:"icon",onClick:()=>n(!0),children:i.jsx(Rc,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg bg-black",children:i.jsx("video",{ref:a,src:v,controls:!0,playsInline:!0,style:{width:"100%",height:"100%"},onTimeUpdate:x,onEnded:m,onError:()=>console.error(" Video failed to load:",v)})}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[i.jsx("h1",{className:"text-2xl font-bold",children:c}),u&&i.jsx("p",{className:"text-sm text-muted-foreground",children:u}),h&&i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-sm font-semibold",children:"Description"}),i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:h})]})]}),i.jsx(ct,{open:t,onOpenChange:n,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:"Playback Speed"})}),i.jsx("div",{className:"space-y-2 py-4",children:p.map(b=>i.jsxs("button",{onClick:()=>g(b),className:`w-full px-4 py-3 rounded-lg text-left ${r===b?"bg-primary text-primary-foreground":"bg-muted"}`,children:[b,"x ",b===1&&"(Normal)"]},b))})]})})]})})}function zU(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,a]=j.useState(!1),[,o]=Ve(),{toast:l}=ht(),{login:c,isAuthenticated:u}=Gy();if(u)return i.jsx(va,{to:"/"});const h=async d=>{if(d.preventDefault(),!e||!n){l({title:"Fields required",description:"Please enter email and password",variant:"destructive"});return}a(!0);try{const f=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n})}),v=await f.json();f.ok&&v.token?(c(v.token,v.user),l({title:"Welcome back!",description:`Hello, ${v.user.name}!`}),o("/")):l({title:"Login failed",description:v.message||"Invalid credentials",variant:"destructive"})}catch{l({title:"Error",description:"Failed to connect to server",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsxs(we,{className:"w-full max-w-md p-8 bg-white border border-gray-200 shadow-lg",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-brand/10 rounded-full mb-4",children:i.jsx(Z2,{className:"w-8 h-8 text-brand"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),i.jsx("p",{className:"text-gray-600",children:"Sign in to continue your wellness journey"})]}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(G2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Ae,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:d=>t(d.target.value),disabled:s,className:"w-full pl-10","data-testid":"input-user-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(_g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Ae,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:d=>r(d.target.value),disabled:s,className:"w-full pl-10","data-testid":"input-user-password"})]})]}),i.jsx(ee,{type:"submit",disabled:s,className:"w-full",style:{backgroundColor:"#703DFA"},"data-testid":"button-user-login",children:s?"Signing in...":"Sign In"})]}),i.jsxs("div",{className:"mt-6 text-center space-y-2",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",i.jsx("span",{className:"text-brand font-medium",children:"Contact admin to register"})]}),i.jsx(by,{href:"/admin/login",className:"text-sm text-gray-400 hover:text-gray-600",children:"Admin? Login here"})]})]})})}function WU(){const[,e]=Ve(),[t,n]=j.useState(""),[r,s]=j.useState(""),[a,o]=j.useState([]),[l,c]=j.useState(!1),[u,h]=j.useState(!1);j.useEffect(()=>{const p=setTimeout(()=>{s(t)},300);return()=>clearTimeout(p)},[t]);const d=j.useCallback(async p=>{if(!p.trim()){o([]),h(!1);return}c(!0),h(!0);try{const b=await fetch(`/api/public/v1/search?q=${encodeURIComponent(p)}`);if(!b.ok)throw new Error("Search failed");const w=await b.json();o(w.results)}catch(b){console.error("Search error:",b),o([])}finally{c(!1)}},[]);j.useEffect(()=>{d(r)},[r,d]);const f=p=>{e(p.navigate_to)},v=a.filter(p=>p.type==="module"),x=a.filter(p=>p.type==="lesson"),m=a.filter(p=>p.type==="course"),y=p=>{switch(p){case"DYD":return"DYD Process";case"USM":return"USM Process";case"BREATH":return"Spiritual Breaths";case"ABUNDANCE":return"Daily Abundance";default:return p}},g=p=>{switch(p){case"module":return i.jsx(Sr,{className:"w-5 h-5 text-brand"});case"lesson":return i.jsx(kr,{className:"w-5 h-5 text-green-600"});case"course":return i.jsx(Oc,{className:"w-5 h-5 text-amber-600"});default:return null}};return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{type:"text",placeholder:"Search modules, lessons, courses...",value:t,onChange:p=>n(p.target.value),className:"pl-10",autoFocus:!0,"data-testid":"input-search"})]})]})}),i.jsx("div",{className:"px-4 py-6",children:l?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-brand"})}):u&&a.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-no-results",children:"No matching content found"}):a.length>0?i.jsxs("div",{className:"space-y-6",children:[v.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3","data-testid":"text-section-modules",children:["Modules (",v.length,")"]}),i.jsx("div",{className:"space-y-2",children:v.map(p=>i.jsxs("button",{onClick:()=>f(p),className:"w-full flex items-center gap-3 p-3 bg-card rounded-lg hover-elevate active-elevate-2 text-left","data-testid":`result-module-${p.id}`,children:[g(p.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-foreground font-medium truncate",children:p.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:y(p.feature)})]})]},`module-${p.id}`))})]}),x.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3","data-testid":"text-section-lessons",children:["Lessons (",x.length,")"]}),i.jsx("div",{className:"space-y-2",children:x.map(p=>i.jsxs("button",{onClick:()=>f(p),className:"w-full flex items-center gap-3 p-3 bg-card rounded-lg hover-elevate active-elevate-2 text-left","data-testid":`result-lesson-${p.id}`,children:[g(p.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-foreground font-medium truncate",children:p.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:y(p.feature)})]})]},`lesson-${p.id}`))})]}),m.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3","data-testid":"text-section-courses",children:["Courses (",m.length,")"]}),i.jsx("div",{className:"space-y-2",children:m.map(p=>i.jsxs("button",{onClick:()=>f(p),className:"w-full flex items-center gap-3 p-3 bg-card rounded-lg hover-elevate active-elevate-2 text-left","data-testid":`result-course-${p.id}`,children:[g(p.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-foreground font-medium truncate",children:p.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:y(p.feature)})]})]},`course-${p.id}`))})]})]}):u?null:i.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-search-prompt",children:"Start typing to search..."})})]})})}function HU(){const t=ns().moduleId,[,n]=Ve(),r=yy(),s=new URLSearchParams(r),a=s.get("from")==="abundance",o=s.get("courseId"),l=()=>{n(a&&o?`/abundance-mastery/course/${o}`:"/processes")},{data:c,isLoading:u,error:h}=Ue({queryKey:["/api/public/v1/modules",t],queryFn:async()=>{const v=await fetch(`/api/public/v1/modules/${t}`);if(!v.ok)throw new Error("Failed to fetch module");return v.json()},enabled:!!t});if(u)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})});if(h||!c)return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-md mx-auto p-4",children:[i.jsx("button",{onClick:()=>n("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2 mb-4","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-error",children:"Module not found"})]})});const{module:d,lessons:f}=c;return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-3",children:[i.jsx("button",{onClick:l,className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("h1",{className:"text-lg font-semibold text-foreground truncate","data-testid":"text-module-title",children:d.title})]})}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:["Lessons (",f.length,")"]})}),f.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No lessons in this module yet"}):i.jsx("div",{className:"space-y-3",children:f.map((v,x)=>i.jsx(we,{className:"p-4 hover-elevate active-elevate-2 cursor-pointer",onClick:()=>{const m=a&&o?`/processes/lesson/${v.id}?from=abundance&courseId=${o}&moduleId=${t}`:`/processes/lesson/${v.id}?moduleId=${t}`;n(m)},"data-testid":`lesson-card-${v.id}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-brand/10 flex items-center justify-center text-brand font-medium text-sm",children:x+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-foreground font-medium truncate",children:v.title}),v.description&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.description})]}),i.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"})]})},v.id))})]})]})})}function KU(){const t=ns().lessonId,[,n]=Ve(),[r,s]=j.useState(!1),a=j.useRef(null),o=j.useRef(null),l=yy(),c=new URLSearchParams(l),u=c.get("from")==="abundance",h=c.get("courseId"),d=c.get("moduleId"),f=()=>{if(d){const C=u&&h?`/processes/module/${d}?from=abundance&courseId=${h}`:`/processes/module/${d}`;n(C)}else n("/processes")},v=!!localStorage.getItem("@app:user_token"),x=Se({mutationFn:async C=>(await De("POST","/api/v1/activity/log",{lessonId:C.lessonId,lessonName:C.lessonName,featureType:"PROCESS",activityDate:new Date().toISOString().split("T")[0]})).json(),onSuccess:()=>{ve.invalidateQueries({predicate:C=>Array.isArray(C.queryKey)&&C.queryKey[0]==="/api/v1/activity/monthly-stats"})}}),m=(C,_)=>{!r&&v&&(s(!0),x.mutate({lessonId:C,lessonName:_}))},y=(C,_)=>{m(C,_)},g=(C,_,k)=>{C.duration&&C.currentTime>=C.duration*.5&&m(_,k)},{data:p,isLoading:b,error:w}=Ue({queryKey:["/api/public/v1/lessons",t],queryFn:async()=>{const C=await fetch(`/api/public/v1/lessons/${t}`);if(!C.ok)throw new Error("Failed to fetch lesson");return C.json()},enabled:!!t});if(b)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})});if(w||!p)return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-md mx-auto p-4",children:[i.jsx("button",{onClick:()=>n("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2 mb-4","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-error",children:"Lesson not found"})]})});const{lesson:N,files:T}=p,S=T.find(C=>C.fileType==="video"),E=T.find(C=>C.fileType==="audio"),A=T.find(C=>C.fileType==="script");return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-3",children:[i.jsx("button",{onClick:f,className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("h1",{className:"text-lg font-semibold text-foreground truncate","data-testid":"text-lesson-title",children:N.title})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[N.description&&i.jsx("p",{className:"text-muted-foreground","data-testid":"text-lesson-description",children:N.description}),S&&S.signedUrl&&i.jsx(we,{className:"overflow-hidden",children:i.jsx("video",{ref:a,controls:!0,className:"w-full aspect-video bg-black",src:S.signedUrl,"data-testid":"video-player",onPlay:()=>y(N.id,N.title),onTimeUpdate:C=>g(C.currentTarget,N.id,N.title),children:"Your browser does not support the video tag."})}),E&&E.signedUrl&&i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(qn,{className:"w-5 h-5 text-brand"}),i.jsx("span",{className:"font-medium text-foreground",children:"Audio"})]}),i.jsx("audio",{ref:o,controls:!0,className:"w-full",src:E.signedUrl,"data-testid":"audio-player",onPlay:()=>y(N.id,N.title),onTimeUpdate:C=>g(C.currentTarget,N.id,N.title),children:"Your browser does not support the audio tag."})]}),A&&(A.scriptHtml||A.extractedText)&&i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(kr,{className:"w-5 h-5 text-amber-600"}),i.jsx("span",{className:"font-medium text-foreground",children:"Script"})]}),A.scriptHtml?i.jsx("div",{className:"prose prose-sm max-w-none prose-headings:text-foreground prose-p:text-foreground prose-strong:text-foreground prose-li:text-foreground","data-testid":"text-script-content",dangerouslySetInnerHTML:{__html:A.scriptHtml}}):i.jsx("div",{className:"prose prose-sm max-w-none text-foreground whitespace-pre-wrap","data-testid":"text-script-content",children:A.extractedText})]}),T.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No content available for this lesson yet"})]})]})})}function QU(){const t=ns().lessonId,[,n]=Ve(),[r,s]=j.useState(!1),a=j.useRef(null),o=j.useRef(null),l=!!localStorage.getItem("@app:user_token"),c=Se({mutationFn:async w=>(await De("POST","/api/v1/activity/log",{lessonId:w.lessonId,lessonName:w.lessonName,featureType:"BREATH",activityDate:new Date().toISOString().split("T")[0]})).json(),onSuccess:()=>{ve.invalidateQueries({predicate:w=>Array.isArray(w.queryKey)&&w.queryKey[0]==="/api/v1/activity/monthly-stats"})}}),u=(w,N)=>{!r&&l&&(s(!0),c.mutate({lessonId:w,lessonName:N}))},h=(w,N)=>{u(w,N)},d=(w,N,T)=>{w.duration&&w.currentTime>=w.duration*.5&&u(N,T)},{data:f,isLoading:v,error:x}=Ue({queryKey:["/api/public/v1/lessons",t],queryFn:async()=>{const w=await fetch(`/api/public/v1/lessons/${t}`);if(!w.ok)throw new Error("Failed to fetch lesson");return w.json()},enabled:!!t});if(v)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})});if(x||!f)return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-md mx-auto p-4",children:[i.jsx("button",{onClick:()=>n("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2 mb-4","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-error",children:"Breath lesson not found"})]})});const{lesson:m,files:y}=f,g=y.find(w=>w.fileType==="video"),p=y.find(w=>w.fileType==="audio"),b=y.find(w=>w.fileType==="script");return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>n("/spiritual-breaths"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx(wa,{className:"w-5 h-5 text-cyan-500"}),i.jsx("h1",{className:"text-lg font-semibold text-foreground truncate","data-testid":"text-lesson-title",children:m.title})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[m.description&&i.jsx("p",{className:"text-muted-foreground","data-testid":"text-lesson-description",children:m.description}),g&&g.signedUrl&&i.jsx(we,{className:"overflow-hidden",children:i.jsx("video",{ref:a,controls:!0,className:"w-full aspect-video bg-black",src:g.signedUrl,"data-testid":"video-player",onPlay:()=>h(m.id,m.title),onTimeUpdate:w=>d(w.currentTarget,m.id,m.title),children:"Your browser does not support the video tag."})}),p&&p.signedUrl&&i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(qn,{className:"w-5 h-5 text-cyan-500"}),i.jsx("span",{className:"font-medium text-foreground",children:"Breath Audio"})]}),i.jsx("audio",{ref:o,controls:!0,className:"w-full",src:p.signedUrl,"data-testid":"audio-player",onPlay:()=>h(m.id,m.title),onTimeUpdate:w=>d(w.currentTarget,m.id,m.title),children:"Your browser does not support the audio tag."})]}),b&&(b.scriptHtml||b.extractedText)&&i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(kr,{className:"w-5 h-5 text-amber-600"}),i.jsx("span",{className:"font-medium text-foreground",children:"Instructions"})]}),b.scriptHtml?i.jsx("div",{className:"prose prose-sm max-w-none prose-headings:text-foreground prose-p:text-foreground prose-strong:text-foreground prose-li:text-foreground","data-testid":"text-script-content",dangerouslySetInnerHTML:{__html:b.scriptHtml}}):i.jsx("div",{className:"prose prose-sm max-w-none text-foreground whitespace-pre-wrap","data-testid":"text-script-content",children:b.extractedText})]}),y.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No content available for this breath lesson yet"})]})]})})}function GU(){const t=ns().courseId,[,n]=Ve(),{data:r,isLoading:s,error:a}=Ue({queryKey:["/api/public/v1/courses",t],queryFn:async()=>{const c=await fetch(`/api/public/v1/courses/${t}`);if(!c.ok)throw new Error("Failed to fetch course");return c.json()},enabled:!!t});if(s)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(nt,{className:"w-8 h-8 animate-spin text-brand"})});if(a||!r)return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-md mx-auto p-4",children:[i.jsx("button",{onClick:()=>n("/"),className:"hover-elevate active-elevate-2 rounded-lg p-2 mb-4","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-error",children:"Course not found"})]})});const{course:o,modules:l}=r;return i.jsx("div",{className:"min-h-screen bg-background pb-20",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:i.jsxs("div",{className:"px-4 py-4 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>n("/money-mastery"),className:"hover-elevate active-elevate-2 rounded-lg p-2","data-testid":"button-back",children:i.jsx(rt,{className:"w-6 h-6 text-foreground"})}),i.jsx(yh,{className:"w-5 h-5 text-amber-500"}),i.jsx("h1",{className:"text-lg font-semibold text-foreground truncate","data-testid":"text-course-title",children:o.title})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[o.thumbnailUrl&&i.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden",children:i.jsx("img",{src:o.thumbnailUrl,alt:o.title,className:"w-full h-full object-cover","data-testid":"img-course-thumbnail"})}),o.description&&i.jsx("p",{className:"text-muted-foreground","data-testid":"text-course-description",children:o.description}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-4 h-4"}),"Modules (",l.length,")"]}),l.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No modules in this course yet"}):i.jsx("div",{className:"space-y-3",children:l.map((c,u)=>i.jsx(we,{className:"p-4 hover-elevate active-elevate-2 cursor-pointer",onClick:()=>n(`/processes/module/${c.id}?from=abundance&courseId=${t}`),"data-testid":`module-card-${c.id}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-500/10 flex items-center justify-center text-amber-600 font-medium text-sm",children:u+1}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-foreground font-medium truncate",children:c.title})}),i.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"})]})},c.id))})]})]})]})})}function LA(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(we,{className:"w-full max-w-md mx-4",children:i.jsxs(Ks,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(U2,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function mj(){return i.jsxs(Gk,{children:[i.jsx(Fe,{path:"/",component:B8}),i.jsx(Fe,{path:"/processes",component:r9}),i.jsx(Fe,{path:"/design-practice",component:gB}),i.jsx(Fe,{path:"/community-practices",component:vB}),i.jsx(Fe,{path:"/spiritual-breaths",component:yB}),i.jsx(Fe,{path:"/workshops",component:wB}),i.jsx(Fe,{path:"/playlist",component:dV}),i.jsx(Fe,{path:"/heart",component:fV}),i.jsx(Fe,{path:"/profile",component:hV}),i.jsx(Fe,{path:"/drm",component:OU}),i.jsx(Fe,{path:"/money-mastery",component:DU}),i.jsx(Fe,{path:"/process-checklist",component:RU}),i.jsx(Fe,{path:"/more-quotes",component:IU}),i.jsx(Fe,{path:"/notifications",component:LU}),i.jsx(Fe,{path:"/ai-insights",component:$U}),i.jsx(Fe,{path:"/workshops/course/:courseId",component:VU}),i.jsx(Fe,{path:"/video-player",component:qU}),i.jsx(Fe,{path:"/rewiring-belief",component:UU}),i.jsx(Fe,{path:"/login",component:zU}),i.jsx(Fe,{path:"/search",component:WU}),i.jsx(Fe,{path:"/processes/module/:moduleId",component:HU}),i.jsx(Fe,{path:"/processes/lesson/:lessonId",component:KU}),i.jsx(Fe,{path:"/spiritual-breaths/lesson/:lessonId",component:QU}),i.jsx(Fe,{path:"/abundance-mastery/course/:courseId",component:GU}),i.jsx(Fe,{component:LA})]})}function YU(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,a]=j.useState(!1),[,o]=Ve(),{toast:l}=ht(),{login:c,isAuthenticated:u,admin:h}=Yy();if(u&&h){if(h.role==="SUPER_ADMIN")return i.jsx(va,{to:"/admin"});if(h.role==="COACH")return i.jsx(va,{to:"/admin"})}const d=async f=>{if(f.preventDefault(),!e||!n){l({title:"Fields required",description:"Please enter email and password",variant:"destructive"});return}a(!0);try{const v=await fetch("/admin/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n})}),x=await v.json();v.ok&&x.token?(c(x.token,x.user),l({title:"Login successful",description:`Welcome back, ${x.user.name}!`}),x.user.role==="SUPER_ADMIN"||x.user.role,o("/admin")):l({title:"Login failed",description:x.message||"Invalid credentials",variant:"destructive"})}catch{l({title:"Error",description:"Failed to connect to server",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen bg-page-bg flex items-center justify-center p-4",children:i.jsxs(we,{className:"w-full max-w-md p-8 bg-white border border-gray-200",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-brand/10 rounded-full mb-4",children:i.jsx(_g,{className:"w-8 h-8 text-brand"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Login"}),i.jsx("p",{className:"text-gray-600",children:"Sign in to access the admin panel"})]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(G2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Ae,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:f=>t(f.target.value),disabled:s,className:"w-full pl-10","data-testid":"input-admin-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(_g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Ae,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),disabled:s,className:"w-full pl-10","data-testid":"input-admin-password"})]})]}),i.jsx(ee,{type:"submit",disabled:s,className:"w-full",style:{backgroundColor:"#703DFA"},"data-testid":"button-admin-login",children:s?"Signing in...":"Sign In"})]}),i.jsx("p",{className:"text-sm text-gray-500 text-center mt-6",children:"Admin access only for SUPER_ADMIN and COACH roles"})]})})}function ZU(){const[,e]=Ve(),{data:t=[]}=Ue({queryKey:["/api/sessions"]}),n=t.filter(o=>o.isActive).length,r=t.length,s=t.reduce((o,l)=>o+(l.participants||0),0),a=[{title:"Add Session",description:"Create new community practice",icon:gt,action:()=>e("/admin/sessions"),color:"bg-purple-50 text-purple-600"},{title:"Manage Content",description:"Edit articles and resources",icon:kr,action:()=>e("/admin/articles"),color:"bg-blue-50 text-blue-600"},{title:"View Activity",description:"Check recent updates",icon:r1,action:()=>{},color:"bg-green-50 text-green-600"}];return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your wellness platform"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(we,{children:[i.jsxs(Td,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ad,{className:"text-sm font-medium text-gray-600",children:"Total Sessions"}),i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center",children:i.jsx(ys,{className:"w-5 h-5 text-purple-600"})})]}),i.jsxs(Ks,{children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n," active"]})]})]}),i.jsxs(we,{children:[i.jsxs(Td,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ad,{className:"text-sm font-medium text-gray-600",children:"Total Participants"}),i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center",children:i.jsx(ys,{className:"w-5 h-5 text-blue-600"})})]}),i.jsxs(Ks,{children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900",children:s}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Across all sessions"})]})]}),i.jsxs(we,{children:[i.jsxs(Td,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ad,{className:"text-sm font-medium text-gray-600",children:"Active Practices"}),i.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:i.jsx(r1,{className:"w-5 h-5 text-green-600"})})]}),i.jsxs(Ks,{children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Currently running"})]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(o=>{const l=o.icon;return i.jsx(we,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:o.action,children:i.jsx(Ks,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-lg ${o.color} flex items-center justify-center flex-shrink-0`,children:i.jsx(l,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:o.title}),i.jsx("p",{className:"text-sm text-gray-600",children:o.description})]})]})})},o.title)})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Activity"}),i.jsx(we,{children:i.jsxs(Ks,{className:"pt-6",children:[t.slice(0,5).map(o=>i.jsxs("div",{className:"flex items-start gap-4 py-4 border-b last:border-b-0 border-gray-100",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(ys,{className:"w-5 h-5 text-gray-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:o.title}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.time,"  ",o.participants," participants"]})]}),o.isActive&&i.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-50 text-green-700",children:"Active"})]},o.id)),t.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500",children:i.jsx("p",{children:"No recent activity"})})]})})]})]})}var t0="Switch",[XU,MJ]=en(t0),[JU,e7]=XU(t0),FA=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...d}=e,[f,v]=j.useState(null),x=Ge(t,b=>v(b)),m=j.useRef(!1),y=f?h||!!f.closest("form"):!0,[g=!1,p]=Nr({prop:s,defaultProp:a,onChange:u});return i.jsxs(JU,{scope:n,checked:g,disabled:l,children:[i.jsx(Pe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":VA(g),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:x,onClick:me(e.onClick,b=>{p(w=>!w),y&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),y&&i.jsx(t7,{control:f,bubbles:!m.current,name:r,value:c,checked:g,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});FA.displayName=t0;var $A="SwitchThumb",BA=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=e7($A,n);return i.jsx(Pe.span,{"data-state":VA(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});BA.displayName=$A;var t7=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=j.useRef(null),o=Rh(n),l=jh(t);return j.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(c,n),c.dispatchEvent(f)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function VA(e){return e?"checked":"unchecked"}var UA=FA,n7=BA;const _a=j.forwardRef(({className:e,...t},n)=>i.jsx(UA,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(n7,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_a.displayName=UA.displayName;function r7(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState(!1),[s,a]=j.useState(null),[o,l]=j.useState({title:"",time:"",displayTime:"",meetingLink:"",participants:0,isActive:!0});j.useEffect(()=>{localStorage.getItem("@app:admin_token")||e("/admin/login")},[e]);const c=localStorage.getItem("@app:admin_token")||"",{data:u=[],isLoading:h}=Ue({queryKey:["/api/admin/sessions"],queryFn:async()=>{const p=await fetch("/api/admin/sessions",{headers:{Authorization:`Bearer ${c}`}});if(!p.ok)throw new Error("Failed to fetch sessions");return p.json()}}),d=Se({mutationFn:async p=>{const b=await fetch("/api/admin/sessions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(p)});if(!b.ok)throw new Error("Failed to create session");return b.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Session created successfully"}),r(!1),x()},onError:()=>{t({title:"Failed to create session",variant:"destructive"})}}),f=Se({mutationFn:async({id:p,data:b})=>{const w=await fetch(`/api/admin/sessions/${p}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(b)});if(!w.ok)throw new Error("Failed to update session");return w.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Session updated successfully"}),a(null),x()},onError:()=>{t({title:"Failed to update session",variant:"destructive"})}}),v=Se({mutationFn:async p=>{const b=await fetch(`/api/admin/sessions/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}});if(!b.ok)throw new Error("Failed to delete session");return b.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Session deleted successfully"})},onError:()=>{t({title:"Failed to delete session",variant:"destructive"})}}),x=()=>{l({title:"",time:"",displayTime:"",meetingLink:"",participants:0,isActive:!0})},m=p=>{p.preventDefault(),s?f.mutate({id:s.id,data:o}):d.mutate(o)},y=p=>{a(p),l({title:p.title,time:p.time,displayTime:p.displayTime,meetingLink:p.meetingLink,participants:p.participants,isActive:p.isActive})},g=()=>{x(),r(!0)};return i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Practices"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage practice sessions and meeting links"})]}),i.jsxs(ct,{open:n,onOpenChange:r,children:[i.jsx(Xg,{asChild:!0,children:i.jsxs(ee,{onClick:g,style:{backgroundColor:"#703DFA"},"data-testid":"button-add-session",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Session"]})}),i.jsxs(it,{className:"max-w-md",children:[i.jsx(ut,{children:i.jsx(dt,{children:"Add New Session"})}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Session Title"}),i.jsx(Ae,{value:o.title,onChange:p=>l({...o,title:p.target.value}),placeholder:"e.g., Morning Meditation",required:!0,"data-testid":"input-session-title"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Time (24h)"}),i.jsx(Ae,{value:o.time,onChange:p=>l({...o,time:p.target.value}),placeholder:"07:00",required:!0,"data-testid":"input-session-time"})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Display Time"}),i.jsx(Ae,{value:o.displayTime,onChange:p=>l({...o,displayTime:p.target.value}),placeholder:"7:00 AM",required:!0,"data-testid":"input-session-display-time"})]})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Meeting Link"}),i.jsx(Ae,{value:o.meetingLink,onChange:p=>l({...o,meetingLink:p.target.value}),placeholder:"https://zoom.us/...",required:!0,"data-testid":"input-session-link"})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Participants"}),i.jsx(Ae,{type:"number",value:o.participants,onChange:p=>l({...o,participants:parseInt(p.target.value)||0}),placeholder:"0","data-testid":"input-session-participants"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{children:"Active"}),i.jsx(_a,{checked:o.isActive,onCheckedChange:p=>l({...o,isActive:p}),"data-testid":"switch-session-active"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:()=>{r(!1),x()},children:"Cancel"}),i.jsx(ee,{type:"submit",style:{backgroundColor:"#703DFA"},disabled:d.isPending,"data-testid":"button-submit-session",children:d.isPending?"Creating...":"Create Session"})]})]})]})]})]})}),i.jsx(we,{className:"bg-white border border-gray-200 p-6",children:h?i.jsx("p",{className:"text-center text-gray-500 py-8",children:"Loading sessions..."}):u.length===0?i.jsx("p",{className:"text-center text-gray-500 py-8",children:'No sessions yet. Click "Add Session" to create one.'}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Title"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Time"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Participants"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Meeting Link"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Status"}),i.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"Actions"})]})}),i.jsx("tbody",{children:u.map(p=>i.jsxs("tr",{className:"border-b border-gray-100","data-testid":`row-session-${p.id}`,children:[i.jsx("td",{className:"py-3 px-4 text-gray-900",children:p.title}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:p.displayTime}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:p.participants}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("a",{href:p.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-brand hover:underline text-sm truncate block max-w-xs",children:p.meetingLink})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${p.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:p.isActive?"Active":"Inactive"})}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsxs(ct,{open:(s==null?void 0:s.id)===p.id,onOpenChange:b=>{b||(a(null),x())},children:[i.jsx(Xg,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>y(p),"data-testid":`button-edit-${p.id}`,children:i.jsx(on,{className:"w-4 h-4"})})}),i.jsxs(it,{className:"max-w-md",children:[i.jsx(ut,{children:i.jsx(dt,{children:"Edit Session"})}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Session Title"}),i.jsx(Ae,{value:o.title,onChange:b=>l({...o,title:b.target.value}),required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Time (24h)"}),i.jsx(Ae,{value:o.time,onChange:b=>l({...o,time:b.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Display Time"}),i.jsx(Ae,{value:o.displayTime,onChange:b=>l({...o,displayTime:b.target.value}),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Meeting Link"}),i.jsx(Ae,{value:o.meetingLink,onChange:b=>l({...o,meetingLink:b.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Participants"}),i.jsx(Ae,{type:"number",value:o.participants,onChange:b=>l({...o,participants:parseInt(b.target.value)||0})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{children:"Active"}),i.jsx(_a,{checked:o.isActive,onCheckedChange:b=>l({...o,isActive:b})})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:()=>{a(null),x()},children:"Cancel"}),i.jsx(ee,{type:"submit",style:{backgroundColor:"#703DFA"},disabled:f.isPending,children:f.isPending?"Updating...":"Update Session"})]})]})]})]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this session?")&&v.mutate(p.id)},"data-testid":`button-delete-${p.id}`,children:i.jsx($t,{className:"w-4 h-4 text-red-500"})})]})})]},p.id))})]})})})]})}function s7(){return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interventions"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage intervention programs"})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"Interventions management coming soon..."})})]})}function i7(){this.__data__=[],this.size=0}var a7=i7;function o7(e,t){return e===t||e!==e&&t!==t}var qA=o7,l7=qA;function c7(e,t){for(var n=e.length;n--;)if(l7(e[n][0],t))return n;return-1}var Vh=c7,u7=Vh,d7=Array.prototype,f7=d7.splice;function h7(e){var t=this.__data__,n=u7(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():f7.call(t,n,1),--this.size,!0}var p7=h7,m7=Vh;function g7(e){var t=this.__data__,n=m7(t,e);return n<0?void 0:t[n][1]}var v7=g7,y7=Vh;function x7(e){return y7(this.__data__,e)>-1}var b7=x7,w7=Vh;function j7(e,t){var n=this.__data__,r=w7(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var N7=j7,S7=a7,k7=p7,_7=v7,C7=b7,E7=N7;function gl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gl.prototype.clear=S7;gl.prototype.delete=k7;gl.prototype.get=_7;gl.prototype.has=C7;gl.prototype.set=E7;var Uh=gl,T7=Uh;function A7(){this.__data__=new T7,this.size=0}var P7=A7;function O7(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var D7=O7;function R7(e){return this.__data__.get(e)}var M7=R7;function I7(e){return this.__data__.has(e)}var L7=I7,F7=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,zA=F7,$7=zA,B7=typeof self=="object"&&self&&self.Object===Object&&self,V7=$7||B7||Function("return this")(),Ds=V7,U7=Ds,q7=U7.Symbol,n0=q7,gj=n0,WA=Object.prototype,z7=WA.hasOwnProperty,W7=WA.toString,Rl=gj?gj.toStringTag:void 0;function H7(e){var t=z7.call(e,Rl),n=e[Rl];try{e[Rl]=void 0;var r=!0}catch{}var s=W7.call(e);return r&&(t?e[Rl]=n:delete e[Rl]),s}var K7=H7,Q7=Object.prototype,G7=Q7.toString;function Y7(e){return G7.call(e)}var Z7=Y7,vj=n0,X7=K7,J7=Z7,eq="[object Null]",tq="[object Undefined]",yj=vj?vj.toStringTag:void 0;function nq(e){return e==null?e===void 0?tq:eq:yj&&yj in Object(e)?X7(e):J7(e)}var qh=nq;function rq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var HA=rq,sq=qh,iq=HA,aq="[object AsyncFunction]",oq="[object Function]",lq="[object GeneratorFunction]",cq="[object Proxy]";function uq(e){if(!iq(e))return!1;var t=sq(e);return t==oq||t==lq||t==aq||t==cq}var KA=uq,dq=Ds,fq=dq["__core-js_shared__"],hq=fq,lm=hq,xj=function(){var e=/[^.]+$/.exec(lm&&lm.keys&&lm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pq(e){return!!xj&&xj in e}var mq=pq,gq=Function.prototype,vq=gq.toString;function yq(e){if(e!=null){try{return vq.call(e)}catch{}try{return e+""}catch{}}return""}var QA=yq,xq=KA,bq=mq,wq=HA,jq=QA,Nq=/[\\^$.*+?()[\]{}|]/g,Sq=/^\[object .+?Constructor\]$/,kq=Function.prototype,_q=Object.prototype,Cq=kq.toString,Eq=_q.hasOwnProperty,Tq=RegExp("^"+Cq.call(Eq).replace(Nq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Aq(e){if(!wq(e)||bq(e))return!1;var t=xq(e)?Tq:Sq;return t.test(jq(e))}var Pq=Aq;function Oq(e,t){return e==null?void 0:e[t]}var Dq=Oq,Rq=Pq,Mq=Dq;function Iq(e,t){var n=Mq(e,t);return Rq(n)?n:void 0}var vl=Iq,Lq=vl,Fq=Ds,$q=Lq(Fq,"Map"),r0=$q,Bq=vl,Vq=Bq(Object,"create"),zh=Vq,bj=zh;function Uq(){this.__data__=bj?bj(null):{},this.size=0}var qq=Uq;function zq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Wq=zq,Hq=zh,Kq="__lodash_hash_undefined__",Qq=Object.prototype,Gq=Qq.hasOwnProperty;function Yq(e){var t=this.__data__;if(Hq){var n=t[e];return n===Kq?void 0:n}return Gq.call(t,e)?t[e]:void 0}var Zq=Yq,Xq=zh,Jq=Object.prototype,ez=Jq.hasOwnProperty;function tz(e){var t=this.__data__;return Xq?t[e]!==void 0:ez.call(t,e)}var nz=tz,rz=zh,sz="__lodash_hash_undefined__";function iz(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rz&&t===void 0?sz:t,this}var az=iz,oz=qq,lz=Wq,cz=Zq,uz=nz,dz=az;function yl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yl.prototype.clear=oz;yl.prototype.delete=lz;yl.prototype.get=cz;yl.prototype.has=uz;yl.prototype.set=dz;var fz=yl,wj=fz,hz=Uh,pz=r0;function mz(){this.size=0,this.__data__={hash:new wj,map:new(pz||hz),string:new wj}}var gz=mz;function vz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yz=vz,xz=yz;function bz(e,t){var n=e.__data__;return xz(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Wh=bz,wz=Wh;function jz(e){var t=wz(this,e).delete(e);return this.size-=t?1:0,t}var Nz=jz,Sz=Wh;function kz(e){return Sz(this,e).get(e)}var _z=kz,Cz=Wh;function Ez(e){return Cz(this,e).has(e)}var Tz=Ez,Az=Wh;function Pz(e,t){var n=Az(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Oz=Pz,Dz=gz,Rz=Nz,Mz=_z,Iz=Tz,Lz=Oz;function xl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xl.prototype.clear=Dz;xl.prototype.delete=Rz;xl.prototype.get=Mz;xl.prototype.has=Iz;xl.prototype.set=Lz;var GA=xl,Fz=Uh,$z=r0,Bz=GA,Vz=200;function Uz(e,t){var n=this.__data__;if(n instanceof Fz){var r=n.__data__;if(!$z||r.length<Vz-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bz(r)}return n.set(e,t),this.size=n.size,this}var qz=Uz,zz=Uh,Wz=P7,Hz=D7,Kz=M7,Qz=L7,Gz=qz;function bl(e){var t=this.__data__=new zz(e);this.size=t.size}bl.prototype.clear=Wz;bl.prototype.delete=Hz;bl.prototype.get=Kz;bl.prototype.has=Qz;bl.prototype.set=Gz;var Yz=bl,Zz="__lodash_hash_undefined__";function Xz(e){return this.__data__.set(e,Zz),this}var Jz=Xz;function eW(e){return this.__data__.has(e)}var tW=eW,nW=GA,rW=Jz,sW=tW;function Cf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new nW;++t<n;)this.add(e[t])}Cf.prototype.add=Cf.prototype.push=rW;Cf.prototype.has=sW;var iW=Cf;function aW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var oW=aW;function lW(e,t){return e.has(t)}var cW=lW,uW=iW,dW=oW,fW=cW,hW=1,pW=2;function mW(e,t,n,r,s,a){var o=n&hW,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,v=n&pW?new uW:void 0;for(a.set(e,t),a.set(t,e);++d<l;){var x=e[d],m=t[d];if(r)var y=o?r(m,x,d,t,e,a):r(x,m,d,e,t,a);if(y!==void 0){if(y)continue;f=!1;break}if(v){if(!dW(t,function(g,p){if(!fW(v,p)&&(x===g||s(x,g,n,r,a)))return v.push(p)})){f=!1;break}}else if(!(x===m||s(x,m,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var YA=mW,gW=Ds,vW=gW.Uint8Array,yW=vW;function xW(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var bW=xW;function wW(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var jW=wW,jj=n0,Nj=yW,NW=qA,SW=YA,kW=bW,_W=jW,CW=1,EW=2,TW="[object Boolean]",AW="[object Date]",PW="[object Error]",OW="[object Map]",DW="[object Number]",RW="[object RegExp]",MW="[object Set]",IW="[object String]",LW="[object Symbol]",FW="[object ArrayBuffer]",$W="[object DataView]",Sj=jj?jj.prototype:void 0,cm=Sj?Sj.valueOf:void 0;function BW(e,t,n,r,s,a,o){switch(n){case $W:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case FW:return!(e.byteLength!=t.byteLength||!a(new Nj(e),new Nj(t)));case TW:case AW:case DW:return NW(+e,+t);case PW:return e.name==t.name&&e.message==t.message;case RW:case IW:return e==t+"";case OW:var l=kW;case MW:var c=r&CW;if(l||(l=_W),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=EW,o.set(e,t);var h=SW(l(e),l(t),r,s,a,o);return o.delete(e),h;case LW:if(cm)return cm.call(e)==cm.call(t)}return!1}var VW=BW;function UW(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var qW=UW,zW=Array.isArray,s0=zW,WW=qW,HW=s0;function KW(e,t,n){var r=t(e);return HW(e)?r:WW(r,n(e))}var QW=KW;function GW(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var YW=GW;function ZW(){return[]}var XW=ZW,JW=YW,eH=XW,tH=Object.prototype,nH=tH.propertyIsEnumerable,kj=Object.getOwnPropertySymbols,rH=kj?function(e){return e==null?[]:(e=Object(e),JW(kj(e),function(t){return nH.call(e,t)}))}:eH,sH=rH;function iH(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var aH=iH;function oH(e){return e!=null&&typeof e=="object"}var Hh=oH,lH=qh,cH=Hh,uH="[object Arguments]";function dH(e){return cH(e)&&lH(e)==uH}var fH=dH,_j=fH,hH=Hh,ZA=Object.prototype,pH=ZA.hasOwnProperty,mH=ZA.propertyIsEnumerable,gH=_j(function(){return arguments}())?_j:function(e){return hH(e)&&pH.call(e,"callee")&&!mH.call(e,"callee")},vH=gH,Ef={exports:{}};function yH(){return!1}var xH=yH;Ef.exports;(function(e,t){var n=Ds,r=xH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Ef,Ef.exports);var XA=Ef.exports,bH=9007199254740991,wH=/^(?:0|[1-9]\d*)$/;function jH(e,t){var n=typeof e;return t=t??bH,!!t&&(n=="number"||n!="symbol"&&wH.test(e))&&e>-1&&e%1==0&&e<t}var NH=jH,SH=9007199254740991;function kH(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=SH}var JA=kH,_H=qh,CH=JA,EH=Hh,TH="[object Arguments]",AH="[object Array]",PH="[object Boolean]",OH="[object Date]",DH="[object Error]",RH="[object Function]",MH="[object Map]",IH="[object Number]",LH="[object Object]",FH="[object RegExp]",$H="[object Set]",BH="[object String]",VH="[object WeakMap]",UH="[object ArrayBuffer]",qH="[object DataView]",zH="[object Float32Array]",WH="[object Float64Array]",HH="[object Int8Array]",KH="[object Int16Array]",QH="[object Int32Array]",GH="[object Uint8Array]",YH="[object Uint8ClampedArray]",ZH="[object Uint16Array]",XH="[object Uint32Array]",xt={};xt[zH]=xt[WH]=xt[HH]=xt[KH]=xt[QH]=xt[GH]=xt[YH]=xt[ZH]=xt[XH]=!0;xt[TH]=xt[AH]=xt[UH]=xt[PH]=xt[qH]=xt[OH]=xt[DH]=xt[RH]=xt[MH]=xt[IH]=xt[LH]=xt[FH]=xt[$H]=xt[BH]=xt[VH]=!1;function JH(e){return EH(e)&&CH(e.length)&&!!xt[_H(e)]}var eK=JH;function tK(e){return function(t){return e(t)}}var nK=tK,Tf={exports:{}};Tf.exports;(function(e,t){var n=zA,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Tf,Tf.exports);var rK=Tf.exports,sK=eK,iK=nK,Cj=rK,Ej=Cj&&Cj.isTypedArray,aK=Ej?iK(Ej):sK,eP=aK,oK=aH,lK=vH,cK=s0,uK=XA,dK=NH,fK=eP,hK=Object.prototype,pK=hK.hasOwnProperty;function mK(e,t){var n=cK(e),r=!n&&lK(e),s=!n&&!r&&uK(e),a=!n&&!r&&!s&&fK(e),o=n||r||s||a,l=o?oK(e.length,String):[],c=l.length;for(var u in e)(t||pK.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dK(u,c)))&&l.push(u);return l}var gK=mK,vK=Object.prototype;function yK(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||vK;return e===n}var xK=yK;function bK(e,t){return function(n){return e(t(n))}}var wK=bK,jK=wK,NK=jK(Object.keys,Object),SK=NK,kK=xK,_K=SK,CK=Object.prototype,EK=CK.hasOwnProperty;function TK(e){if(!kK(e))return _K(e);var t=[];for(var n in Object(e))EK.call(e,n)&&n!="constructor"&&t.push(n);return t}var AK=TK,PK=KA,OK=JA;function DK(e){return e!=null&&OK(e.length)&&!PK(e)}var RK=DK,MK=gK,IK=AK,LK=RK;function FK(e){return LK(e)?MK(e):IK(e)}var $K=FK,BK=QW,VK=sH,UK=$K;function qK(e){return BK(e,UK,VK)}var zK=qK,Tj=zK,WK=1,HK=Object.prototype,KK=HK.hasOwnProperty;function QK(e,t,n,r,s,a){var o=n&WK,l=Tj(e),c=l.length,u=Tj(t),h=u.length;if(c!=h&&!o)return!1;for(var d=c;d--;){var f=l[d];if(!(o?f in t:KK.call(t,f)))return!1}var v=a.get(e),x=a.get(t);if(v&&x)return v==t&&x==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=o;++d<c;){f=l[d];var g=e[f],p=t[f];if(r)var b=o?r(p,g,f,t,e,a):r(g,p,f,e,t,a);if(!(b===void 0?g===p||s(g,p,n,r,a):b)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(m=!1)}return a.delete(e),a.delete(t),m}var GK=QK,YK=vl,ZK=Ds,XK=YK(ZK,"DataView"),JK=XK,eQ=vl,tQ=Ds,nQ=eQ(tQ,"Promise"),rQ=nQ,sQ=vl,iQ=Ds,aQ=sQ(iQ,"Set"),oQ=aQ,lQ=vl,cQ=Ds,uQ=lQ(cQ,"WeakMap"),dQ=uQ,ov=JK,lv=r0,cv=rQ,uv=oQ,dv=dQ,tP=qh,wl=QA,Aj="[object Map]",fQ="[object Object]",Pj="[object Promise]",Oj="[object Set]",Dj="[object WeakMap]",Rj="[object DataView]",hQ=wl(ov),pQ=wl(lv),mQ=wl(cv),gQ=wl(uv),vQ=wl(dv),Ki=tP;(ov&&Ki(new ov(new ArrayBuffer(1)))!=Rj||lv&&Ki(new lv)!=Aj||cv&&Ki(cv.resolve())!=Pj||uv&&Ki(new uv)!=Oj||dv&&Ki(new dv)!=Dj)&&(Ki=function(e){var t=tP(e),n=t==fQ?e.constructor:void 0,r=n?wl(n):"";if(r)switch(r){case hQ:return Rj;case pQ:return Aj;case mQ:return Pj;case gQ:return Oj;case vQ:return Dj}return t});var yQ=Ki,um=Yz,xQ=YA,bQ=VW,wQ=GK,Mj=yQ,Ij=s0,Lj=XA,jQ=eP,NQ=1,Fj="[object Arguments]",$j="[object Array]",ad="[object Object]",SQ=Object.prototype,Bj=SQ.hasOwnProperty;function kQ(e,t,n,r,s,a){var o=Ij(e),l=Ij(t),c=o?$j:Mj(e),u=l?$j:Mj(t);c=c==Fj?ad:c,u=u==Fj?ad:u;var h=c==ad,d=u==ad,f=c==u;if(f&&Lj(e)){if(!Lj(t))return!1;o=!0,h=!1}if(f&&!h)return a||(a=new um),o||jQ(e)?xQ(e,t,n,r,s,a):bQ(e,t,c,n,r,s,a);if(!(n&NQ)){var v=h&&Bj.call(e,"__wrapped__"),x=d&&Bj.call(t,"__wrapped__");if(v||x){var m=v?e.value():e,y=x?t.value():t;return a||(a=new um),s(m,y,n,r,a)}}return f?(a||(a=new um),wQ(e,t,n,r,s,a)):!1}var _Q=kQ,CQ=_Q,Vj=Hh;function nP(e,t,n,r,s){return e===t?!0:e==null||t==null||!Vj(e)&&!Vj(t)?e!==e&&t!==t:CQ(e,t,n,r,nP,s)}var EQ=nP,TQ=EQ;function AQ(e,t){return TQ(e,t)}var PQ=AQ,rP={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,s){e.exports=s()})(typeof self<"u"?self:Ln,function(){return function(n){var r={};function s(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(a,o,l){s.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},s.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(o,"a",o),o},s.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},s.p="",s(s.s=109)}([function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(17),o=s(18),l=s(19),c=s(45),u=s(46),h=s(47),d=s(48),f=s(49),v=s(12),x=s(32),m=s(33),y=s(31),g=s(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:o.default,Leaf:l.default,Embed:d.default,Scroll:c.default,Block:h.default,Inline:u.default,Text:f.default,Attributor:{Attribute:v.default,Class:x.default,Style:m.default,Store:y.default}};r.default=p},function(n,r,s){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var b in p)p.hasOwnProperty(b)&&(g[b]=p[b])};return function(g,p){y(g,p);function b(){this.constructor=g}g.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(y){a(g,y);function g(p){var b=this;return p="[Parchment] "+p,b=y.call(this,p)||this,b.message=p,b.name=b.constructor.name,b}return g}(Error);r.ParchmentError=o;var l={},c={},u={},h={};r.DATA_KEY="__blot";var d;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(y,g){var p=x(y);if(p==null)throw new o("Unable to create "+y+" blot");var b=p,w=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:b.create(g);return new b(w,g)}r.create=f;function v(y,g){return g===void 0&&(g=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:g?v(y.parentNode,g):null}r.find=v;function x(y,g){g===void 0&&(g=d.ANY);var p;if(typeof y=="string")p=h[y]||l[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)p=h.text;else if(typeof y=="number")y&d.LEVEL&d.BLOCK?p=h.block:y&d.LEVEL&d.INLINE&&(p=h.inline);else if(y instanceof HTMLElement){var b=(y.getAttribute("class")||"").split(/\s+/);for(var w in b)if(p=c[b[w]],p)break;p=p||u[y.tagName]}return p==null?null:g&d.LEVEL&p.scope&&g&d.TYPE&p.scope?p:null}r.query=x;function m(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];if(y.length>1)return y.map(function(w){return m(w)});var p=y[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new o("Invalid definition");if(p.blotName==="abstract")throw new o("Cannot register abstract class");if(h[p.blotName||p.attrName]=p,typeof p.keyName=="string")l[p.keyName]=p;else if(p.className!=null&&(c[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(w){return w.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var b=Array.isArray(p.tagName)?p.tagName:[p.tagName];b.forEach(function(w){(u[w]==null||p.className==null)&&(u[w]=p)})}return p}r.register=m},function(n,r,s){var a=s(51),o=s(11),l=s(3),c=s(20),u="\0",h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var v={};return d.length===0?this:(v.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(v.attributes=f),this.push(v))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var v={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(v.attributes=f),this.push(v)},h.prototype.push=function(d){var f=this.ops.length,v=this.ops[f-1];if(d=l(!0,{},d),typeof v=="object"){if(typeof d.delete=="number"&&typeof v.delete=="number")return this.ops[f-1]={delete:v.delete+d.delete},this;if(typeof v.delete=="number"&&d.insert!=null&&(f-=1,v=this.ops[f-1],typeof v!="object"))return this.ops.unshift(d),this;if(o(d.attributes,v.attributes)){if(typeof d.insert=="string"&&typeof v.insert=="string")return this.ops[f-1]={insert:v.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof v.retain=="number")return this.ops[f-1]={retain:v.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],v=[];return this.forEach(function(x){var m=d(x)?f:v;m.push(x)}),[f,v]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+c.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+c.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var v=[],x=c.iterator(this.ops),m=0;m<f&&x.hasNext();){var y;m<d?y=x.next(d-m):(y=x.next(f-m),v.push(y)),m+=c.length(y)}return new h(v)},h.prototype.compose=function(d){var f=c.iterator(this.ops),v=c.iterator(d.ops),x=[],m=v.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var y=m.retain;f.peekType()==="insert"&&f.peekLength()<=y;)y-=f.peekLength(),x.push(f.next());m.retain-y>0&&v.next(m.retain-y)}for(var g=new h(x);f.hasNext()||v.hasNext();)if(v.peekType()==="insert")g.push(v.next());else if(f.peekType()==="delete")g.push(f.next());else{var p=Math.min(f.peekLength(),v.peekLength()),b=f.next(p),w=v.next(p);if(typeof w.retain=="number"){var N={};typeof b.retain=="number"?N.retain=p:N.insert=b.insert;var T=c.attributes.compose(b.attributes,w.attributes,typeof b.retain=="number");if(T&&(N.attributes=T),g.push(N),!v.hasNext()&&o(g.ops[g.ops.length-1],N)){var S=new h(f.rest());return g.concat(S).chop()}}else typeof w.delete=="number"&&typeof b.retain=="number"&&g.push(w)}return g.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var v=[this,d].map(function(p){return p.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var w=p===d?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),x=new h,m=a(v[0],v[1],f),y=c.iterator(this.ops),g=c.iterator(d.ops);return m.forEach(function(p){for(var b=p[1].length;b>0;){var w=0;switch(p[0]){case a.INSERT:w=Math.min(g.peekLength(),b),x.push(g.next(w));break;case a.DELETE:w=Math.min(b,y.peekLength()),y.next(w),x.delete(w);break;case a.EQUAL:w=Math.min(y.peekLength(),g.peekLength(),b);var N=y.next(w),T=g.next(w);o(N.insert,T.insert)?x.retain(w,c.attributes.diff(N.attributes,T.attributes)):x.push(T).delete(w);break}b-=w}}),x.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var v=c.iterator(this.ops),x=new h,m=0;v.hasNext();){if(v.peekType()!=="insert")return;var y=v.peek(),g=c.length(y)-v.peekLength(),p=typeof y.insert=="string"?y.insert.indexOf(f,g)-g:-1;if(p<0)x.push(v.next());else if(p>0)x.push(v.next(p));else{if(d(x,v.next(1).attributes||{},m)===!1)return;m+=1,x=new h}}x.length()>0&&d(x,{},m)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var v=c.iterator(this.ops),x=c.iterator(d.ops),m=new h;v.hasNext()||x.hasNext();)if(v.peekType()==="insert"&&(f||x.peekType()!=="insert"))m.retain(c.length(v.next()));else if(x.peekType()==="insert")m.push(x.next());else{var y=Math.min(v.peekLength(),x.peekLength()),g=v.next(y),p=x.next(y);if(g.delete)continue;p.delete?m.push(p):m.retain(y,c.attributes.transform(g.attributes,p.attributes,f))}return m.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var v=c.iterator(this.ops),x=0;v.hasNext()&&x<=d;){var m=v.peekLength(),y=v.peekType();if(v.next(),y==="delete"){d-=Math.min(m,d-x);continue}else y==="insert"&&(x<d||!f)&&(d+=m);x+=m}return d},n.exports=h},function(n,r){var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(v){return typeof Array.isArray=="function"?Array.isArray(v):a.call(v)==="[object Array]"},u=function(v){if(!v||a.call(v)!=="[object Object]")return!1;var x=s.call(v,"constructor"),m=v.constructor&&v.constructor.prototype&&s.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!x&&!m)return!1;var y;for(y in v);return typeof y>"u"||s.call(v,y)},h=function(v,x){o&&x.name==="__proto__"?o(v,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):v[x.name]=x.newValue},d=function(v,x){if(x==="__proto__")if(s.call(v,x)){if(l)return l(v,x).value}else return;return v[x]};n.exports=function f(){var v,x,m,y,g,p,b=arguments[0],w=1,N=arguments.length,T=!1;for(typeof b=="boolean"&&(T=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<N;++w)if(v=arguments[w],v!=null)for(x in v)m=d(b,x),y=d(v,x),b!==y&&(T&&y&&(u(y)||(g=c(y)))?(g?(g=!1,p=m&&c(m)?m:[]):p=m&&u(m)?m:{},h(b,{name:x,newValue:f(T,p,y)})):typeof y<"u"&&h(b,{name:x,newValue:y}));return b}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function _(k,P){for(var M=0;M<P.length;M++){var B=P[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,P,M){return P&&_(k.prototype,P),M&&_(k,M),k}}(),o=function _(k,P,M){k===null&&(k=Function.prototype);var B=Object.getOwnPropertyDescriptor(k,P);if(B===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:_(U,P,M)}else{if("value"in B)return B.value;var L=B.get;return L===void 0?void 0:L.call(M)}},l=s(3),c=b(l),u=s(2),h=b(u),d=s(0),f=b(d),v=s(16),x=b(v),m=s(6),y=b(m),g=s(7),p=b(g);function b(_){return _&&_.__esModule?_:{default:_}}function w(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function N(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:_}function T(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(_,k):_.__proto__=k)}var S=1,E=function(_){T(k,_);function k(){return w(this,k),N(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"attach",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,B){var U=f.default.query(M,f.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,B)}},{key:"formatAt",value:function(M,B,U,L){this.format(U,L)}},{key:"insertAt",value:function(M,B,U){if(typeof B=="string"&&B.endsWith(`
`)){var L=f.default.create(A.blotName);this.parent.insertBefore(L,M===0?this:this.next),L.insertAt(0,B.slice(0,-1))}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,M,B,U)}}]),k}(f.default.Embed);E.scope=f.default.Scope.BLOCK_BLOT;var A=function(_){T(k,_);function k(P){w(this,k);var M=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P));return M.cache={},M}return a(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(M,B){return B.length()===0?M:M.insert(B.value(),C(B))},new h.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(M,B){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,M,B),this.cache={}}},{key:"formatAt",value:function(M,B,U,L){B<=0||(f.default.query(U,f.default.Scope.BLOCK)?M+B===this.length()&&this.format(U,L):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,M,Math.min(B,this.length()-M-1),U,L),this.cache={})}},{key:"insertAt",value:function(M,B,U){if(U!=null)return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,M,B,U);if(B.length!==0){var L=B.split(`
`),F=L.shift();F.length>0&&(M<this.length()-1||this.children.tail==null?o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),F):this.children.tail.insertAt(this.children.tail.length(),F),this.cache={});var R=this;L.reduce(function(O,D){return R=R.split(O,!0),R.insertAt(0,D),D.length},M+F.length)}}},{key:"insertBefore",value:function(M,B){var U=this.children.head;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,M,B),U instanceof x.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(M,B){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,M,B),this.cache={}}},{key:"optimize",value:function(M){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(B&&(M===0||M>=this.length()-S)){var U=this.clone();return M===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var L=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,M,B);return this.cache={},L}}}]),k}(f.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[y.default,f.default.Embed,p.default];function C(_){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(k=(0,c.default)(k,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?k:C(_.parent,k)}r.bubbleFormats=C,r.BlockEmbed=E,r.default=A},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(O,D){var $=[],q=!0,K=!1,W=void 0;try{for(var V=O[Symbol.iterator](),z;!(q=(z=V.next()).done)&&($.push(z.value),!(D&&$.length===D));q=!0);}catch(Z){K=!0,W=Z}finally{try{!q&&V.return&&V.return()}finally{if(K)throw W}}return $}return function(O,D){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return R(O,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function R(O,D){for(var $=0;$<D.length;$++){var q=D[$];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(O,q.key,q)}}return function(O,D,$){return D&&R(O.prototype,D),$&&R(O,$),O}}();s(50);var c=s(2),u=C(c),h=s(14),d=C(h),f=s(8),v=C(f),x=s(9),m=C(x),y=s(0),g=C(y),p=s(15),b=C(p),w=s(3),N=C(w),T=s(10),S=C(T),E=s(34),A=C(E);function C(R){return R&&R.__esModule?R:{default:R}}function _(R,O,D){return O in R?Object.defineProperty(R,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[O]=D,R}function k(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}var P=(0,S.default)("quill"),M=function(){l(R,null,[{key:"debug",value:function(D){D===!0&&(D="log"),S.default.level(D)}},{key:"find",value:function(D){return D.__quill||g.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&P.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,$){var q=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var W=D.attrName||D.blotName;typeof W=="string"?this.register("formats/"+W,D,$):Object.keys(D).forEach(function(V){q.register(V,D[V],$)})}else this.imports[D]!=null&&!K&&P.warn("Overwriting "+D+" with",$),this.imports[D]=$,(D.startsWith("blots/")||D.startsWith("formats/"))&&$.blotName!=="abstract"?g.default.register($):D.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function R(O){var D=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,R),this.options=B(O,$),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",O);this.options.debug&&R.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.default.events.EDITOR_CHANGE,function(W){W===v.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(v.default.events.SCROLL_UPDATE,function(W,V){var z=D.selection.lastRange,Z=z&&z.length===0?z.index:void 0;U.call(D,function(){return D.editor.update(null,V,Z)},W)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(R,[{key:"addContainer",value:function(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var q=D;D=document.createElement("div"),D.classList.add(q)}return this.container.insertBefore(D,$),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,$,q){var K=this,W=L(D,$,q),V=o(W,4);return D=V[0],$=V[1],q=V[3],U.call(this,function(){return K.editor.deleteText(D,$)},q,D,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,$){var q=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;return U.call(this,function(){var W=q.getSelection(!0),V=new u.default;if(W==null)return V;if(g.default.query(D,g.default.Scope.BLOCK))V=q.editor.formatLine(W.index,W.length,_({},D,$));else{if(W.length===0)return q.selection.format(D,$),V;V=q.editor.formatText(W.index,W.length,_({},D,$))}return q.setSelection(W,v.default.sources.SILENT),V},K)}},{key:"formatLine",value:function(D,$,q,K,W){var V=this,z=void 0,Z=L(D,$,q,K,W),X=o(Z,4);return D=X[0],$=X[1],z=X[2],W=X[3],U.call(this,function(){return V.editor.formatLine(D,$,z)},W,D,0)}},{key:"formatText",value:function(D,$,q,K,W){var V=this,z=void 0,Z=L(D,$,q,K,W),X=o(Z,4);return D=X[0],$=X[1],z=X[2],W=X[3],U.call(this,function(){return V.editor.formatText(D,$,z)},W,D,0)}},{key:"getBounds",value:function(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof D=="number"?q=this.selection.getBounds(D,$):q=this.selection.getBounds(D.index,D.length);var K=this.container.getBoundingClientRect();return{bottom:q.bottom-K.top,height:q.height,left:q.left-K.left,right:q.right-K.left,top:q.top-K.top,width:q.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,q=L(D,$),K=o(q,2);return D=K[0],$=K[1],this.editor.getContents(D,$)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,$):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,$)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,q=L(D,$),K=o(q,2);return D=K[0],$=K[1],this.editor.getText(D,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,$,q){var K=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R.sources.API;return U.call(this,function(){return K.editor.insertEmbed(D,$,q)},W,D)}},{key:"insertText",value:function(D,$,q,K,W){var V=this,z=void 0,Z=L(D,0,q,K,W),X=o(Z,4);return D=X[0],z=X[2],W=X[3],U.call(this,function(){return V.editor.insertText(D,$,z)},W,D,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,$,q){this.clipboard.dangerouslyPasteHTML(D,$,q)}},{key:"removeFormat",value:function(D,$,q){var K=this,W=L(D,$,q),V=o(W,4);return D=V[0],$=V[1],q=V[3],U.call(this,function(){return K.editor.removeFormat(D,$)},q,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var $=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return U.call(this,function(){D=new u.default(D);var K=$.getLength(),W=$.editor.deleteText(0,K),V=$.editor.applyDelta(D),z=V.ops[V.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),V.delete(1));var Z=W.compose(V);return Z},q)}},{key:"setSelection",value:function(D,$,q){if(D==null)this.selection.setRange(null,$||R.sources.API);else{var K=L(D,$,q),W=o(K,4);D=W[0],$=W[1],q=W[3],this.selection.setRange(new p.Range(D,$),q),q!==v.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API,q=new u.default().insert(D);return this.setContents(q,$)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,$=this.scroll.update(D);return this.selection.update(D),$}},{key:"updateContents",value:function(D){var $=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return U.call(this,function(){return D=new u.default(D),$.editor.applyDelta(D,q)},q,!0)}}]),R}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=v.default.events,M.sources=v.default.sources,M.version="1.3.7",M.imports={delta:u.default,parchment:g.default,"core/module":m.default,"core/theme":A.default};function B(R,O){if(O=(0,N.default)(!0,{container:R,modules:{clipboard:!0,keyboard:!0,history:!0}},O),!O.theme||O.theme===M.DEFAULTS.theme)O.theme=A.default;else if(O.theme=M.import("themes/"+O.theme),O.theme==null)throw new Error("Invalid theme "+O.theme+". Did you register it?");var D=(0,N.default)(!0,{},O.theme.DEFAULTS);[D,O].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(W){K.modules[W]===!0&&(K.modules[W]={})})});var $=Object.keys(D.modules).concat(Object.keys(O.modules)),q=$.reduce(function(K,W){var V=M.import("modules/"+W);return V==null?P.error("Cannot load "+W+" module. Are you sure you registered it?"):K[W]=V.DEFAULTS||{},K},{});return O.modules!=null&&O.modules.toolbar&&O.modules.toolbar.constructor!==Object&&(O.modules.toolbar={container:O.modules.toolbar}),O=(0,N.default)(!0,{},M.DEFAULTS,{modules:q},D,O),["bounds","container","scrollingContainer"].forEach(function(K){typeof O[K]=="string"&&(O[K]=document.querySelector(O[K]))}),O.modules=Object.keys(O.modules).reduce(function(K,W){return O.modules[W]&&(K[W]=O.modules[W]),K},{}),O}function U(R,O,D,$){if(this.options.strict&&!this.isEnabled()&&O===v.default.sources.USER)return new u.default;var q=D==null?null:this.getSelection(),K=this.editor.delta,W=R();if(q!=null&&(D===!0&&(D=q.index),$==null?q=F(q,W,O):$!==0&&(q=F(q,D,$,O)),this.setSelection(q,v.default.sources.SILENT)),W.length()>0){var V,z=[v.default.events.TEXT_CHANGE,W,K,O];if((V=this.emitter).emit.apply(V,[v.default.events.EDITOR_CHANGE].concat(z)),O!==v.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,z)}}return W}function L(R,O,D,$,q){var K={};return typeof R.index=="number"&&typeof R.length=="number"?typeof O!="number"?(q=$,$=D,D=O,O=R.length,R=R.index):(O=R.length,R=R.index):typeof O!="number"&&(q=$,$=D,D=O,O=0),(typeof D>"u"?"undefined":a(D))==="object"?(K=D,q=$):typeof D=="string"&&($!=null?K[D]=$:q=D),q=q||v.default.sources.API,[R,O,K,q]}function F(R,O,D,$){if(R==null)return null;var q=void 0,K=void 0;if(O instanceof u.default){var W=[R.index,R.index+R.length].map(function(X){return O.transformPosition(X,$!==v.default.sources.USER)}),V=o(W,2);q=V[0],K=V[1]}else{var z=[R.index,R.index+R.length].map(function(X){return X<O||X===O&&$===v.default.sources.USER?X:D>=0?X+D:Math.max(O,X+D)}),Z=o(z,2);q=Z[0],K=Z[1]}return new p.Range(q,K-q)}r.expandConfig=B,r.overload=L,r.default=M},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(g,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,p,b){return p&&y(g.prototype,p),b&&y(g,b),g}}(),o=function y(g,p,b){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,p);if(w===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,p,b)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(b)}},l=s(7),c=d(l),u=s(0),h=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function v(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function x(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var m=function(y){x(g,y);function g(){return f(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"formatAt",value:function(b,w,N,T){if(g.compare(this.statics.blotName,N)<0&&h.default.query(N,h.default.Scope.BLOT)){var S=this.isolate(b,w);T&&S.wrap(N,T)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,b,w,N,T)}},{key:"optimize",value:function(b){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(b,w){var N=g.order.indexOf(b),T=g.order.indexOf(w);return N>=0||T>=0?N-T:b===w?0:b<w?-1:1}}]),g}(h.default.Inline);m.allowedChildren=[m,h.default.Embed,c.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(0),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function h(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var d=function(f){h(v,f);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Text);r.default=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(b,w){for(var N=0;N<w.length;N++){var T=w[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,w,N){return w&&p(b.prototype,w),N&&p(b,N),b}}(),o=function p(b,w,N){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,w);if(T===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,w,N)}else{if("value"in T)return T.value;var E=T.get;return E===void 0?void 0:E.call(N)}},l=s(54),c=d(l),u=s(10),h=d(u);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function v(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function x(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var m=(0,h.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(p){document.addEventListener(p,function(){for(var b=arguments.length,w=Array(b),N=0;N<b;N++)w[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var S;(S=T.__quill.emitter).handleDOM.apply(S,w)}})})});var g=function(p){x(b,p);function b(){f(this,b);var w=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return w.listeners={},w.on("error",m.error),w}return a(b,[{key:"emit",value:function(){m.log.apply(m,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var T=arguments.length,S=Array(T>1?T-1:0),E=1;E<T;E++)S[E-1]=arguments[E];(this.listeners[N.type]||[]).forEach(function(A){var C=A.node,_=A.handler;(N.target===C||C.contains(N.target))&&_.apply(void 0,[N].concat(S))})}},{key:"listenDOM",value:function(N,T,S){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:T,handler:S})}}]),b}(c.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,l),this.quill=c,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function l(u){if(a.indexOf(u)<=a.indexOf(o)){for(var h,d=arguments.length,f=Array(d>1?d-1:0),v=1;v<d;v++)f[v-1]=arguments[v];(h=console)[u].apply(h,f)}}function c(u){return a.reduce(function(h,d){return h[d]=l.bind(console,d,u),h},{})}l.level=c.level=function(u){o=u},r.default=c},function(n,r,s){var a=Array.prototype.slice,o=s(52),l=s(53),c=n.exports=function(f,v,x){return x||(x={}),f===v?!0:f instanceof Date&&v instanceof Date?f.getTime()===v.getTime():!f||!v||typeof f!="object"&&typeof v!="object"?x.strict?f===v:f==v:d(f,v,x)};function u(f){return f==null}function h(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,v,x){var m,y;if(u(f)||u(v)||f.prototype!==v.prototype)return!1;if(l(f))return l(v)?(f=a.call(f),v=a.call(v),c(f,v,x)):!1;if(h(f)){if(!h(v)||f.length!==v.length)return!1;for(m=0;m<f.length;m++)if(f[m]!==v[m])return!1;return!0}try{var g=o(f),p=o(v)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),m=g.length-1;m>=0;m--)if(g[m]!=p[m])return!1;for(m=g.length-1;m>=0;m--)if(y=g[m],!c(f[y],v[y],x))return!1;return typeof f==typeof v}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(1),o=function(){function l(c,u,h){h===void 0&&(h={}),this.attrName=c,this.keyName=u;var d=a.Scope.TYPE&a.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&a.Scope.LEVEL|d:this.scope=a.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var h=a.query(c,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();r.default=o},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function E(A,C){var _=[],k=!0,P=!1,M=void 0;try{for(var B=A[Symbol.iterator](),U;!(k=(U=B.next()).done)&&(_.push(U.value),!(C&&_.length===C));k=!0);}catch(L){P=!0,M=L}finally{try{!k&&B.return&&B.return()}finally{if(P)throw M}}return _}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return E(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(A,C){for(var _=0;_<C.length;_++){var k=C[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,C,_){return C&&E(A.prototype,C),_&&E(A,_),A}}(),l=function E(A,C,_){A===null&&(A=Function.prototype);var k=Object.getOwnPropertyDescriptor(A,C);if(k===void 0){var P=Object.getPrototypeOf(A);return P===null?void 0:E(P,C,_)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(_)}},c=s(2),u=p(c),h=s(0),d=p(h),f=s(4),v=p(f),x=s(6),m=p(x),y=s(7),g=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function b(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function w(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function N(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var T=function(E){N(A,E);function A(){return b(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(m.default);T.blotName="code",T.tagName="CODE";var S=function(E){N(A,E);function A(){return b(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"delta",value:function(){var _=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(P,M){return P.insert(M).insert(`
`,_.formats())},new u.default)}},{key:"format",value:function(_,k){if(!(_===this.statics.blotName&&k)){var P=this.descendant(g.default,this.length()-1),M=a(P,1),B=M[0];B!=null&&B.deleteAt(B.length()-1,1),l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,_,k)}}},{key:"formatAt",value:function(_,k,P,M){if(k!==0&&!(d.default.query(P,d.default.Scope.BLOCK)==null||P===this.statics.blotName&&M===this.statics.formats(this.domNode))){var B=this.newlineIndex(_);if(!(B<0||B>=_+k)){var U=this.newlineIndex(_,!0)+1,L=B-U+1,F=this.isolate(U,L),R=F.next;F.format(P,M),R instanceof A&&R.formatAt(0,_-U+k-L,P,M)}}}},{key:"insertAt",value:function(_,k,P){if(P==null){var M=this.descendant(g.default,_),B=a(M,2),U=B[0],L=B[1];U.insertAt(L,k)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var P=this.domNode.textContent.slice(_).indexOf(`
`);return P>-1?_+P:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,_);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(_),k.moveChildren(this),k.remove())}},{key:"replace",value:function(_){l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var P=d.default.find(k);P==null?k.parentNode.removeChild(k):P instanceof d.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(_){var k=l(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,_);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),A}(v.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=T,r.default=S},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(O,D){var $=[],q=!0,K=!1,W=void 0;try{for(var V=O[Symbol.iterator](),z;!(q=(z=V.next()).done)&&($.push(z.value),!(D&&$.length===D));q=!0);}catch(Z){K=!0,W=Z}finally{try{!q&&V.return&&V.return()}finally{if(K)throw W}}return $}return function(O,D){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return R(O,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function R(O,D){for(var $=0;$<D.length;$++){var q=D[$];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(O,q.key,q)}}return function(O,D,$){return D&&R(O.prototype,D),$&&R(O,$),O}}(),c=s(2),u=k(c),h=s(20),d=k(h),f=s(0),v=k(f),x=s(13),m=k(x),y=s(24),g=k(y),p=s(4),b=k(p),w=s(16),N=k(w),T=s(21),S=k(T),E=s(11),A=k(E),C=s(3),_=k(C);function k(R){return R&&R.__esModule?R:{default:R}}function P(R,O,D){return O in R?Object.defineProperty(R,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[O]=D,R}function M(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}var B=/^[ -~]*$/,U=function(){function R(O){M(this,R),this.scroll=O,this.delta=this.getDelta()}return l(R,[{key:"applyDelta",value:function(D){var $=this,q=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),D=F(D),D.reduce(function(W,V){var z=V.retain||V.delete||V.insert.length||1,Z=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var X=V.insert;X.endsWith(`
`)&&q&&(q=!1,X=X.slice(0,-1)),W>=K&&!X.endsWith(`
`)&&(q=!0),$.scroll.insertAt(W,X);var te=$.scroll.line(W),oe=o(te,2),Y=oe[0],de=oe[1],le=(0,_.default)({},(0,p.bubbleFormats)(Y));if(Y instanceof b.default){var Ce=Y.descendant(v.default.Leaf,de),Xe=o(Ce,1),Oe=Xe[0];le=(0,_.default)(le,(0,p.bubbleFormats)(Oe))}Z=d.default.attributes.diff(le,Z)||{}}else if(a(V.insert)==="object"){var ne=Object.keys(V.insert)[0];if(ne==null)return W;$.scroll.insertAt(W,ne,V.insert[ne])}K+=z}return Object.keys(Z).forEach(function(re){$.scroll.formatAt(W,z,re,Z[re])}),W+z},0),D.reduce(function(W,V){return typeof V.delete=="number"?($.scroll.deleteAt(W,V.delete),W):W+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,$){return this.scroll.deleteAt(D,$),this.update(new u.default().retain(D).delete($))}},{key:"formatLine",value:function(D,$){var q=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(W){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[W])){var V=q.scroll.lines(D,Math.max($,1)),z=$;V.forEach(function(Z){var X=Z.length();if(!(Z instanceof m.default))Z.format(W,K[W]);else{var te=D-Z.offset(q.scroll),oe=Z.newlineIndex(te+z)-te+1;Z.formatAt(te,oe,W,K[W])}z-=X})}}),this.scroll.optimize(),this.update(new u.default().retain(D).retain($,(0,S.default)(K)))}},{key:"formatText",value:function(D,$){var q=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(W){q.scroll.formatAt(D,$,W,K[W])}),this.update(new u.default().retain(D).retain($,(0,S.default)(K)))}},{key:"getContents",value:function(D,$){return this.delta.slice(D,D+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,$){return D.concat($.delta())},new u.default)}},{key:"getFormat",value:function(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],K=[];$===0?this.scroll.path(D).forEach(function(V){var z=o(V,1),Z=z[0];Z instanceof b.default?q.push(Z):Z instanceof v.default.Leaf&&K.push(Z)}):(q=this.scroll.lines(D,$),K=this.scroll.descendants(v.default.Leaf,D,$));var W=[q,K].map(function(V){if(V.length===0)return{};for(var z=(0,p.bubbleFormats)(V.shift());Object.keys(z).length>0;){var Z=V.shift();if(Z==null)return z;z=L((0,p.bubbleFormats)(Z),z)}return z});return _.default.apply(_.default,W)}},{key:"getText",value:function(D,$){return this.getContents(D,$).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(D,$,q){return this.scroll.insertAt(D,$,q),this.update(new u.default().retain(D).insert(P({},$,q)))}},{key:"insertText",value:function(D,$){var q=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,$),Object.keys(K).forEach(function(W){q.scroll.formatAt(D,$.length,W,K[W])}),this.update(new u.default().retain(D).insert($,(0,S.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==b.default.blotName||D.children.length>1?!1:D.children.head instanceof N.default}},{key:"removeFormat",value:function(D,$){var q=this.getText(D,$),K=this.scroll.line(D+$),W=o(K,2),V=W[0],z=W[1],Z=0,X=new u.default;V!=null&&(V instanceof m.default?Z=V.newlineIndex(z)-z+1:Z=V.length()-z,X=V.delta().slice(z,z+Z-1).insert(`
`));var te=this.getContents(D,$+Z),oe=te.diff(new u.default().insert(q).concat(X)),Y=new u.default().retain(D).concat(oe);return this.applyDelta(Y)}},{key:"update",value:function(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(B)&&v.default.find($[0].target)){var W=v.default.find($[0].target),V=(0,p.bubbleFormats)(W),z=W.offset(this.scroll),Z=$[0].oldValue.replace(g.default.CONTENTS,""),X=new u.default().insert(Z),te=new u.default().insert(W.value()),oe=new u.default().retain(z).concat(X.diff(te,q));D=oe.reduce(function(Y,de){return de.insert?Y.insert(de.insert,V):Y.push(de)},new u.default),this.delta=K.compose(D)}else this.delta=this.getDelta(),(!D||!(0,A.default)(K.compose(D),this.delta))&&(D=K.diff(this.delta,q));return D}}]),R}();function L(R,O){return Object.keys(O).reduce(function(D,$){return R[$]==null||(O[$]===R[$]?D[$]=O[$]:Array.isArray(O[$])?O[$].indexOf(R[$])<0&&(D[$]=O[$].concat([R[$]])):D[$]=[O[$],R[$]]),D},{})}function F(R){return R.reduce(function(O,D){if(D.insert===1){var $=(0,S.default)(D.attributes);return delete $.image,O.insert({image:D.attributes.image},$)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,S.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var q=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return O.insert(q,D.attributes)}return O.push(D)},new u.default)}r.default=U},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function E(A,C){var _=[],k=!0,P=!1,M=void 0;try{for(var B=A[Symbol.iterator](),U;!(k=(U=B.next()).done)&&(_.push(U.value),!(C&&_.length===C));k=!0);}catch(L){P=!0,M=L}finally{try{!k&&B.return&&B.return()}finally{if(P)throw M}}return _}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return E(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(A,C){for(var _=0;_<C.length;_++){var k=C[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,C,_){return C&&E(A.prototype,C),_&&E(A,_),A}}(),l=s(0),c=g(l),u=s(21),h=g(u),d=s(11),f=g(d),v=s(8),x=g(v),m=s(10),y=g(m);function g(E){return E&&E.__esModule?E:{default:E}}function p(E){if(Array.isArray(E)){for(var A=0,C=Array(E.length);A<E.length;A++)C[A]=E[A];return C}else return Array.from(E)}function b(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}var w=(0,y.default)("quill:selection"),N=function E(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,E),this.index=A,this.length=C},T=function(){function E(A,C){var _=this;b(this,E),this.emitter=C,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(k,P){k===x.default.events.TEXT_CHANGE&&P.length()>0&&_.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var k=_.getNativeRange();k!=null&&k.start.node!==_.cursor.textNode&&_.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(k,P){if(P.range){var M=P.range,B=M.startNode,U=M.startOffset,L=M.endNode,F=M.endOffset;_.setNativeRange(B,U,L,F)}}),this.update(x.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var _=C.cursor.restore();if(!_)return;setTimeout(function(){C.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||c.default.query(C,c.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var P=c.default.find(k.start.node,!1);if(P==null)return;if(P instanceof c.default.Leaf){var M=P.split(k.start.offset);P.parent.insertBefore(this.cursor,M)}else P.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(C,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();C=Math.min(C,k-1),_=Math.min(C+_,k-1)-C;var P=void 0,M=this.scroll.leaf(C),B=a(M,2),U=B[0],L=B[1];if(U==null)return null;var F=U.position(L,!0),R=a(F,2);P=R[0],L=R[1];var O=document.createRange();if(_>0){O.setStart(P,L);var D=this.scroll.leaf(C+_),$=a(D,2);if(U=$[0],L=$[1],U==null)return null;var q=U.position(L,!0),K=a(q,2);return P=K[0],L=K[1],O.setEnd(P,L),O.getBoundingClientRect()}else{var W="left",V=void 0;return P instanceof Text?(L<P.data.length?(O.setStart(P,L),O.setEnd(P,L+1)):(O.setStart(P,L-1),O.setEnd(P,L),W="right"),V=O.getBoundingClientRect()):(V=U.domNode.getBoundingClientRect(),L>0&&(W="right")),{bottom:V.top+V.height,height:V.height,left:V[W],right:V[W],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var _=C.getRangeAt(0);if(_==null)return null;var k=this.normalizeNative(_);return w.info("getNativeRange",k),k}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var _=this.normalizedToRange(C);return[_,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var _=this,k=[[C.start.node,C.start.offset]];C.native.collapsed||k.push([C.end.node,C.end.offset]);var P=k.map(function(U){var L=a(U,2),F=L[0],R=L[1],O=c.default.find(F,!0),D=O.offset(_.scroll);return R===0?D:O instanceof c.default.Container?D+O.length():D+O.index(F,R)}),M=Math.min(Math.max.apply(Math,p(P)),this.scroll.length()-1),B=Math.min.apply(Math,[M].concat(p(P)));return new N(B,M-B)}},{key:"normalizeNative",value:function(C){if(!S(this.root,C.startContainer)||!C.collapsed&&!S(this.root,C.endContainer))return null;var _={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[_.start,_.end].forEach(function(k){for(var P=k.node,M=k.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>M)P=P.childNodes[M],M=0;else if(P.childNodes.length===M)P=P.lastChild,M=P instanceof Text?P.data.length:P.childNodes.length+1;else break;k.node=P,k.offset=M}),_}},{key:"rangeToNative",value:function(C){var _=this,k=C.collapsed?[C.index]:[C.index,C.index+C.length],P=[],M=this.scroll.length();return k.forEach(function(B,U){B=Math.min(M-1,B);var L=void 0,F=_.scroll.leaf(B),R=a(F,2),O=R[0],D=R[1],$=O.position(D,U!==0),q=a($,2);L=q[0],D=q[1],P.push(L,D)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(C){var _=this.lastRange;if(_!=null){var k=this.getBounds(_.index,_.length);if(k!=null){var P=this.scroll.length()-1,M=this.scroll.line(Math.min(_.index,P)),B=a(M,1),U=B[0],L=U;if(_.length>0){var F=this.scroll.line(Math.min(_.index+_.length,P)),R=a(F,1);L=R[0]}if(!(U==null||L==null)){var O=C.getBoundingClientRect();k.top<O.top?C.scrollTop-=O.top-k.top:k.bottom>O.bottom&&(C.scrollTop+=k.bottom-O.bottom)}}}}},{key:"setNativeRange",value:function(C,_){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",C,_,k,P),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||k.parentNode==null))){var B=document.getSelection();if(B!=null)if(C!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||M||C!==U.startContainer||_!==U.startOffset||k!==U.endContainer||P!==U.endOffset){C.tagName=="BR"&&(_=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),k.tagName=="BR"&&(P=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var L=document.createRange();L.setStart(C,_),L.setEnd(k,P),B.removeAllRanges(),B.addRange(L)}}else B.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof _=="string"&&(k=_,_=!1),w.info("setRange",C),C!=null){var P=this.rangeToNative(C);this.setNativeRange.apply(this,p(P).concat([_]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,_=this.lastRange,k=this.getRange(),P=a(k,2),M=P[0],B=P[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(_,this.lastRange)){var U;!this.composing&&B!=null&&B.native.collapsed&&B.start.node!==this.cursor.textNode&&this.cursor.restore();var L=[x.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(_),C];if((U=this.emitter).emit.apply(U,[x.default.events.EDITOR_CHANGE].concat(L)),C!==x.default.sources.SILENT){var F;(F=this.emitter).emit.apply(F,L)}}}}]),E}();function S(E,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),E.contains(A)}r.Range=N,r.default=T},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(m,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,g){return y&&x(m.prototype,y),g&&x(m,g),m}}(),o=function x(m,y,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,y);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:x(b,y,g)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(g)}},l=s(0),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function d(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function f(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var v=function(x){f(m,x);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"insertInto",value:function(g,p){g.children.length===0?o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(c.default.Embed);v.blotName="break",v.tagName="BR",r.default=v},function(n,r,s){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var x in v)v.hasOwnProperty(x)&&(f[x]=v[x])};return function(f,v){d(f,v);function x(){this.constructor=f}f.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(44),l=s(30),c=s(1),u=function(d){a(f,d);function f(v){var x=d.call(this,v)||this;return x.build(),x}return f.prototype.appendChild=function(v){this.insertBefore(v)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(v){v.attach()})},f.prototype.build=function(){var v=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var m=h(x);v.insertBefore(m,v.children.head||void 0)}catch(y){if(y instanceof c.ParchmentError)return;throw y}})},f.prototype.deleteAt=function(v,x){if(v===0&&x===this.length())return this.remove();this.children.forEachAt(v,x,function(m,y,g){m.deleteAt(y,g)})},f.prototype.descendant=function(v,x){var m=this.children.find(x),y=m[0],g=m[1];return v.blotName==null&&v(y)||v.blotName!=null&&y instanceof v?[y,g]:y instanceof f?y.descendant(v,g):[null,-1]},f.prototype.descendants=function(v,x,m){x===void 0&&(x=0),m===void 0&&(m=Number.MAX_VALUE);var y=[],g=m;return this.children.forEachAt(x,m,function(p,b,w){(v.blotName==null&&v(p)||v.blotName!=null&&p instanceof v)&&y.push(p),p instanceof f&&(y=y.concat(p.descendants(v,b,g))),g-=w}),y},f.prototype.detach=function(){this.children.forEach(function(v){v.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(v,x,m,y){this.children.forEachAt(v,x,function(g,p,b){g.formatAt(p,b,m,y)})},f.prototype.insertAt=function(v,x,m){var y=this.children.find(v),g=y[0],p=y[1];if(g)g.insertAt(p,x,m);else{var b=m==null?c.create("text",x):c.create(x,m);this.appendChild(b)}},f.prototype.insertBefore=function(v,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return v instanceof m}))throw new c.ParchmentError("Cannot insert "+v.statics.blotName+" into "+this.statics.blotName);v.insertInto(this,x)},f.prototype.length=function(){return this.children.reduce(function(v,x){return v+x.length()},0)},f.prototype.moveChildren=function(v,x){this.children.forEach(function(m){v.insertBefore(m,x)})},f.prototype.optimize=function(v){if(d.prototype.optimize.call(this,v),this.children.length===0)if(this.statics.defaultChild!=null){var x=c.create(this.statics.defaultChild);this.appendChild(x),x.optimize(v)}else this.remove()},f.prototype.path=function(v,x){x===void 0&&(x=!1);var m=this.children.find(v,x),y=m[0],g=m[1],p=[[this,v]];return y instanceof f?p.concat(y.path(g,x)):(y!=null&&p.push([y,g]),p)},f.prototype.removeChild=function(v){this.children.remove(v)},f.prototype.replace=function(v){v instanceof f&&v.moveChildren(this),d.prototype.replace.call(this,v)},f.prototype.split=function(v,x){if(x===void 0&&(x=!1),!x){if(v===0)return this;if(v===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(v,this.length(),function(y,g,p){y=y.split(g,x),m.appendChild(y)}),m},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(v,x){var m=this,y=[],g=[];v.forEach(function(p){p.target===m.domNode&&p.type==="childList"&&(y.push.apply(y,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=c.find(p);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),y.filter(function(p){return p.parentNode==m.domNode}).sort(function(p,b){return p===b?0:p.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var b=null;p.nextSibling!=null&&(b=c.find(p.nextSibling));var w=h(p);(w.next!=b||w.next==null)&&(w.parent!=null&&w.parent.removeChild(m),m.insertBefore(w,b||void 0))})},f}(l.default);function h(d){var f=c.find(d);if(f==null)try{f=c.create(d)}catch{f=c.create(c.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(x){f.domNode.appendChild(x)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(n,r,s){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var x in v)v.hasOwnProperty(x)&&(f[x]=v[x])};return function(f,v){d(f,v);function x(){this.constructor=f}f.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(12),l=s(31),c=s(17),u=s(1),h=function(d){a(f,d);function f(v){var x=d.call(this,v)||this;return x.attributes=new l.default(x.domNode),x}return f.formats=function(v){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return v.tagName.toLowerCase()},f.prototype.format=function(v,x){var m=u.query(v);m instanceof o.default?this.attributes.attribute(m,x):x&&m!=null&&(v!==this.statics.blotName||this.formats()[v]!==x)&&this.replaceWith(v,x)},f.prototype.formats=function(){var v=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(v[this.statics.blotName]=x),v},f.prototype.replaceWith=function(v,x){var m=d.prototype.replaceWith.call(this,v,x);return this.attributes.copy(m),m},f.prototype.update=function(v,x){var m=this;d.prototype.update.call(this,v,x),v.some(function(y){return y.target===m.domNode&&y.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(v,x){var m=d.prototype.wrap.call(this,v,x);return m instanceof f&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},f}(c.default);r.default=h},function(n,r,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(30),l=s(1),c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(d){return!0},h.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},h.prototype.position=function(d,f){var v=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(v+=1),[this.parent.domNode,v]},h.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},h.scope=l.Scope.INLINE_BLOT,h}(o.default);r.default=c},function(n,r,s){var a=s(11),o=s(3),l={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=o(!0,{},h);d||(f=Object.keys(f).reduce(function(x,m){return f[m]!=null&&(x[m]=f[m]),x},{}));for(var v in u)u[v]!==void 0&&h[v]===void 0&&(f[v]=u[v]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,v){return a(u[v],h[v])||(f[v]=h[v]===void 0?null:h[v]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(v,x){return u[x]===void 0&&(v[x]=h[x]),v},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=l.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var v={};return h.attributes&&(v.attributes=h.attributes),typeof h.retain=="number"?v.retain=u:typeof h.insert=="string"?v.insert=h.insert.substr(d,u):v.insert=h.insert,v}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}else return[]},n.exports=l},function(n,r){var s=function(){function a(m,y){return y!=null&&m instanceof y}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(m,y,g,p,b){typeof y=="object"&&(g=y.depth,p=y.prototype,b=y.includeNonEnumerable,y=y.circular);var w=[],N=[],T=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof g>"u"&&(g=1/0);function S(E,A){if(E===null)return null;if(A===0)return E;var C,_;if(typeof E!="object")return E;if(a(E,o))C=new o;else if(a(E,l))C=new l;else if(a(E,c))C=new c(function(O,D){E.then(function($){O(S($,A-1))},function($){D(S($,A-1))})});else if(u.__isArray(E))C=[];else if(u.__isRegExp(E))C=new RegExp(E.source,x(E)),E.lastIndex&&(C.lastIndex=E.lastIndex);else if(u.__isDate(E))C=new Date(E.getTime());else{if(T&&Buffer.isBuffer(E))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(E.length):C=new Buffer(E.length),E.copy(C),C;a(E,Error)?C=Object.create(E):typeof p>"u"?(_=Object.getPrototypeOf(E),C=Object.create(_)):(C=Object.create(p),_=p)}if(y){var k=w.indexOf(E);if(k!=-1)return N[k];w.push(E),N.push(C)}a(E,o)&&E.forEach(function(O,D){var $=S(D,A-1),q=S(O,A-1);C.set($,q)}),a(E,l)&&E.forEach(function(O){var D=S(O,A-1);C.add(D)});for(var P in E){var M;_&&(M=Object.getOwnPropertyDescriptor(_,P)),!(M&&M.set==null)&&(C[P]=S(E[P],A-1))}if(Object.getOwnPropertySymbols)for(var B=Object.getOwnPropertySymbols(E),P=0;P<B.length;P++){var U=B[P],L=Object.getOwnPropertyDescriptor(E,U);L&&!L.enumerable&&!b||(C[U]=S(E[U],A-1),L.enumerable||Object.defineProperty(C,U,{enumerable:!1}))}if(b)for(var F=Object.getOwnPropertyNames(E),P=0;P<F.length;P++){var R=F[P],L=Object.getOwnPropertyDescriptor(E,R);L&&L.enumerable||(C[R]=S(E[R],A-1),Object.defineProperty(C,R,{enumerable:!1}))}return C}return S(m,g)}u.clonePrototype=function(y){if(y===null)return null;var g=function(){};return g.prototype=y,new g};function h(m){return Object.prototype.toString.call(m)}u.__objToStr=h;function d(m){return typeof m=="object"&&h(m)==="[object Date]"}u.__isDate=d;function f(m){return typeof m=="object"&&h(m)==="[object Array]"}u.__isArray=f;function v(m){return typeof m=="object"&&h(m)==="[object RegExp]"}u.__isRegExp=v;function x(m){var y="";return m.global&&(y+="g"),m.ignoreCase&&(y+="i"),m.multiline&&(y+="m"),y}return u.__getRegExpFlags=x,u}();typeof n=="object"&&n.exports&&(n.exports=s)},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function C(_,k){var P=[],M=!0,B=!1,U=void 0;try{for(var L=_[Symbol.iterator](),F;!(M=(F=L.next()).done)&&(P.push(F.value),!(k&&P.length===k));M=!0);}catch(R){B=!0,U=R}finally{try{!M&&L.return&&L.return()}finally{if(B)throw U}}return P}return function(_,k){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return C(_,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(_,k){for(var P=0;P<k.length;P++){var M=k[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,k,P){return k&&C(_.prototype,k),P&&C(_,P),_}}(),l=function C(_,k,P){_===null&&(_=Function.prototype);var M=Object.getOwnPropertyDescriptor(_,k);if(M===void 0){var B=Object.getPrototypeOf(_);return B===null?void 0:C(B,k,P)}else{if("value"in M)return M.value;var U=M.get;return U===void 0?void 0:U.call(P)}},c=s(0),u=w(c),h=s(8),d=w(h),f=s(4),v=w(f),x=s(16),m=w(x),y=s(13),g=w(y),p=s(25),b=w(p);function w(C){return C&&C.__esModule?C:{default:C}}function N(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function T(C,_){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:C}function S(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(C,_):C.__proto__=_)}function E(C){return C instanceof v.default||C instanceof f.BlockEmbed}var A=function(C){S(_,C);function _(k,P){N(this,_);var M=T(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,k));return M.emitter=P.emitter,Array.isArray(P.whitelist)&&(M.whitelist=P.whitelist.reduce(function(B,U){return B[U]=!0,B},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return o(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,M){var B=this.line(P),U=a(B,2),L=U[0],F=U[1],R=this.line(P+M),O=a(R,1),D=O[0];if(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,P,M),D!=null&&L!==D&&F>0){if(L instanceof f.BlockEmbed||D instanceof f.BlockEmbed){this.optimize();return}if(L instanceof g.default){var $=L.newlineIndex(L.length(),!0);if($>-1&&(L=L.split($+1),L===D)){this.optimize();return}}else if(D instanceof g.default){var q=D.newlineIndex(0);q>-1&&D.split(q+1)}var K=D.children.head instanceof m.default?null:D.children.head;L.moveChildren(D,K),L.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,M,B,U){this.whitelist!=null&&!this.whitelist[B]||(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,P,M,B,U),this.optimize())}},{key:"insertAt",value:function(P,M,B){if(!(B!=null&&this.whitelist!=null&&!this.whitelist[M])){if(P>=this.length())if(B==null||u.default.query(M,u.default.Scope.BLOCK)==null){var U=u.default.create(this.statics.defaultChild);this.appendChild(U),B==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),U.insertAt(0,M,B)}else{var L=u.default.create(M,B);this.appendChild(L)}else l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,P,M,B);this.optimize()}}},{key:"insertBefore",value:function(P,M){if(P.statics.scope===u.default.Scope.INLINE_BLOT){var B=u.default.create(this.statics.defaultChild);B.appendChild(P),P=B}l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,P,M)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(E,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,B=function U(L,F,R){var O=[],D=R;return L.children.forEachAt(F,R,function($,q,K){E($)?O.push($):$ instanceof u.default.Container&&(O=O.concat(U($,q,D))),D-=K}),O};return B(this,P,M)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,P,M),P.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,P,M))}},{key:"path",value:function(P){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var M=d.default.sources.USER;typeof P=="string"&&(M=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,M,P),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,M,P)}}}]),_}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[v.default,f.BlockEmbed,b.default],r.default=A},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(z,Z){var X=[],te=!0,oe=!1,Y=void 0;try{for(var de=z[Symbol.iterator](),le;!(te=(le=de.next()).done)&&(X.push(le.value),!(Z&&X.length===Z));te=!0);}catch(Ce){oe=!0,Y=Ce}finally{try{!te&&de.return&&de.return()}finally{if(oe)throw Y}}return X}return function(z,Z){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return V(z,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function V(z,Z){for(var X=0;X<Z.length;X++){var te=Z[X];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(z,te.key,te)}}return function(z,Z,X){return Z&&V(z.prototype,Z),X&&V(z,X),z}}(),c=s(21),u=C(c),h=s(11),d=C(h),f=s(3),v=C(f),x=s(2),m=C(x),y=s(20),g=C(y),p=s(0),b=C(p),w=s(5),N=C(w),T=s(10),S=C(T),E=s(9),A=C(E);function C(V){return V&&V.__esModule?V:{default:V}}function _(V,z,Z){return z in V?Object.defineProperty(V,z,{value:Z,enumerable:!0,configurable:!0,writable:!0}):V[z]=Z,V}function k(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function P(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function M(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var B=(0,S.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",L=function(V){M(z,V),l(z,null,[{key:"match",value:function(X,te){return te=W(te),["altKey","ctrlKey","metaKey","shiftKey"].some(function(oe){return!!te[oe]!==X[oe]&&te[oe]!==null})?!1:te.key===(X.which||X.keyCode)}}]);function z(Z,X){k(this,z);var te=P(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Z,X));return te.bindings={},Object.keys(te.options.bindings).forEach(function(oe){oe==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||te.options.bindings[oe]&&te.addBinding(te.options.bindings[oe])}),te.addBinding({key:z.keys.ENTER,shiftKey:null},$),te.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},R),te.addBinding({key:z.keys.DELETE},{collapsed:!0},O)):(te.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},R),te.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},O)),te.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},D),te.addBinding({key:z.keys.DELETE},{collapsed:!1},D),te.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},R),te.listen(),te}return l(z,[{key:"addBinding",value:function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=W(X);if(Y==null||Y.key==null)return B.warn("Attempted to add invalid keyboard binding",Y);typeof te=="function"&&(te={handler:te}),typeof oe=="function"&&(oe={handler:oe}),Y=(0,v.default)(Y,te,oe),this.bindings[Y.key]=this.bindings[Y.key]||[],this.bindings[Y.key].push(Y)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(te){if(!te.defaultPrevented){var oe=te.which||te.keyCode,Y=(X.bindings[oe]||[]).filter(function(Me){return z.match(te,Me)});if(Y.length!==0){var de=X.quill.getSelection();if(!(de==null||!X.quill.hasFocus())){var le=X.quill.getLine(de.index),Ce=o(le,2),Xe=Ce[0],Oe=Ce[1],ne=X.quill.getLeaf(de.index),re=o(ne,2),he=re[0],pe=re[1],I=de.length===0?[he,pe]:X.quill.getLeaf(de.index+de.length),H=o(I,2),G=H[0],se=H[1],ce=he instanceof b.default.Text?he.value().slice(0,pe):"",J=G instanceof b.default.Text?G.value().slice(se):"",ie={collapsed:de.length===0,empty:de.length===0&&Xe.length()<=1,format:X.quill.getFormat(de),offset:Oe,prefix:ce,suffix:J},_e=Y.some(function(Me){if(Me.collapsed!=null&&Me.collapsed!==ie.collapsed||Me.empty!=null&&Me.empty!==ie.empty||Me.offset!=null&&Me.offset!==ie.offset)return!1;if(Array.isArray(Me.format)){if(Me.format.every(function(ae){return ie.format[ae]==null}))return!1}else if(a(Me.format)==="object"&&!Object.keys(Me.format).every(function(ae){return Me.format[ae]===!0?ie.format[ae]!=null:Me.format[ae]===!1?ie.format[ae]==null:(0,d.default)(Me.format[ae],ie.format[ae])}))return!1;return Me.prefix!=null&&!Me.prefix.test(ie.prefix)||Me.suffix!=null&&!Me.suffix.test(ie.suffix)?!1:Me.handler.call(X,de,ie)!==!0});_e&&te.preventDefault()}}}})}}]),z}(A.default);L.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},L.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:L.keys.TAB,format:["blockquote","indent","list"],handler:function(z,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:L.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:L.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,Z){Z.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:L.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,N.default.sources.USER)}},tab:{key:L.keys.TAB,handler:function(z){this.quill.history.cutoff();var Z=new m.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(Z,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,N.default.sources.SILENT)}},"list empty enter":{key:L.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,Z){this.quill.format("list",!1,N.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:L.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var Z=this.quill.getLine(z.index),X=o(Z,2),te=X[0],oe=X[1],Y=(0,v.default)({},te.formats(),{list:"checked"}),de=new m.default().retain(z.index).insert(`
`,Y).retain(te.length()-oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(de,N.default.sources.USER),this.quill.setSelection(z.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:L.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,Z){var X=this.quill.getLine(z.index),te=o(X,2),oe=te[0],Y=te[1],de=new m.default().retain(z.index).insert(`
`,Z.format).retain(oe.length()-Y-1).retain(1,{header:null});this.quill.updateContents(de,N.default.sources.USER),this.quill.setSelection(z.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,Z){var X=Z.prefix.length,te=this.quill.getLine(z.index),oe=o(te,2),Y=oe[0],de=oe[1];if(de>X)return!0;var le=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(z.index," ",N.default.sources.USER),this.quill.history.cutoff();var Ce=new m.default().retain(z.index-de).delete(X+1).retain(Y.length()-2-de).retain(1,{list:le});this.quill.updateContents(Ce,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-X,N.default.sources.SILENT)}},"code exit":{key:L.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var Z=this.quill.getLine(z.index),X=o(Z,2),te=X[0],oe=X[1],Y=new m.default().retain(z.index+te.length()-oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Y,N.default.sources.USER)}},"embed left":F(L.keys.LEFT,!1),"embed left shift":F(L.keys.LEFT,!0),"embed right":F(L.keys.RIGHT,!1),"embed right shift":F(L.keys.RIGHT,!0)}};function F(V,z){var Z,X=V===L.keys.LEFT?"prefix":"suffix";return Z={key:V,shiftKey:z,altKey:null},_(Z,X,/^$/),_(Z,"handler",function(oe){var Y=oe.index;V===L.keys.RIGHT&&(Y+=oe.length+1);var de=this.quill.getLeaf(Y),le=o(de,1),Ce=le[0];return Ce instanceof b.default.Embed?(V===L.keys.LEFT?z?this.quill.setSelection(oe.index-1,oe.length+1,N.default.sources.USER):this.quill.setSelection(oe.index-1,N.default.sources.USER):z?this.quill.setSelection(oe.index,oe.length+1,N.default.sources.USER):this.quill.setSelection(oe.index+oe.length+1,N.default.sources.USER),!1):!0}),Z}function R(V,z){if(!(V.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(V.index),X=o(Z,1),te=X[0],oe={};if(z.offset===0){var Y=this.quill.getLine(V.index-1),de=o(Y,1),le=de[0];if(le!=null&&le.length()>1){var Ce=te.formats(),Xe=this.quill.getFormat(V.index-1,1);oe=g.default.attributes.diff(Ce,Xe)||{}}}var Oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(V.index-Oe,Oe,N.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(V.index-Oe,Oe,oe,N.default.sources.USER),this.quill.focus()}}function O(V,z){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(V.index>=this.quill.getLength()-Z)){var X={},te=0,oe=this.quill.getLine(V.index),Y=o(oe,1),de=Y[0];if(z.offset>=de.length()-1){var le=this.quill.getLine(V.index+1),Ce=o(le,1),Xe=Ce[0];if(Xe){var Oe=de.formats(),ne=this.quill.getFormat(V.index,1);X=g.default.attributes.diff(Oe,ne)||{},te=Xe.length()}}this.quill.deleteText(V.index,Z,N.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index+te-1,Z,X,N.default.sources.USER)}}function D(V){var z=this.quill.getLines(V),Z={};if(z.length>1){var X=z[0].formats(),te=z[z.length-1].formats();Z=g.default.attributes.diff(te,X)||{}}this.quill.deleteText(V,N.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(V.index,1,Z,N.default.sources.USER),this.quill.setSelection(V.index,N.default.sources.SILENT),this.quill.focus()}function $(V,z){var Z=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var X=Object.keys(z.format).reduce(function(te,oe){return b.default.query(oe,b.default.Scope.BLOCK)&&!Array.isArray(z.format[oe])&&(te[oe]=z.format[oe]),te},{});this.quill.insertText(V.index,`
`,X,N.default.sources.USER),this.quill.setSelection(V.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(te){X[te]==null&&(Array.isArray(z.format[te])||te!=="link"&&Z.quill.format(te,z.format[te],N.default.sources.USER))})}function q(V){return{key:L.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(Z){var X=b.default.query("code-block"),te=Z.index,oe=Z.length,Y=this.quill.scroll.descendant(X,te),de=o(Y,2),le=de[0],Ce=de[1];if(le!=null){var Xe=this.quill.getIndex(le),Oe=le.newlineIndex(Ce,!0)+1,ne=le.newlineIndex(Xe+Ce+oe),re=le.domNode.textContent.slice(Oe,ne).split(`
`);Ce=0,re.forEach(function(he,pe){V?(le.insertAt(Oe+Ce,X.TAB),Ce+=X.TAB.length,pe===0?te+=X.TAB.length:oe+=X.TAB.length):he.startsWith(X.TAB)&&(le.deleteAt(Oe+Ce,X.TAB.length),Ce-=X.TAB.length,pe===0?te-=X.TAB.length:oe-=X.TAB.length),Ce+=he.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(te,oe,N.default.sources.SILENT)}}}}function K(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(Z,X){this.quill.format(V,!X.format[V],N.default.sources.USER)}}}function W(V){if(typeof V=="string"||typeof V=="number")return W({key:V});if((typeof V>"u"?"undefined":a(V))==="object"&&(V=(0,u.default)(V,!1)),typeof V.key=="string")if(L.keys[V.key.toUpperCase()]!=null)V.key=L.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[U]=V.shortKey,delete V.shortKey),V}r.default=L,r.SHORTKEY=U},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(p,b){var w=[],N=!0,T=!1,S=void 0;try{for(var E=p[Symbol.iterator](),A;!(N=(A=E.next()).done)&&(w.push(A.value),!(b&&w.length===b));N=!0);}catch(C){T=!0,S=C}finally{try{!N&&E.return&&E.return()}finally{if(T)throw S}}return w}return function(p,b){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(p,b,w){p===null&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,b);if(N===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:g(T,b,w)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(w)}},l=function(){function g(p,b){for(var w=0;w<b.length;w++){var N=b[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,b,w){return b&&g(p.prototype,b),w&&g(p,w),p}}(),c=s(0),u=f(c),h=s(7),d=f(h);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function x(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var y=function(g){m(p,g),l(p,null,[{key:"value",value:function(){}}]);function p(b,w){v(this,p);var N=x(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b));return N.selection=w,N.textNode=document.createTextNode(p.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return l(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,N){if(this._length!==0)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,N);for(var T=this,S=0;T!=null&&T.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=p.CONTENTS.length,T.optimize(),T.formatAt(S,p.CONTENTS.length,w,N),this._length=0)}},{key:"index",value:function(w,N){return w===this.textNode?0:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,w,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,N=this.selection.getNativeRange(),T=void 0,S=void 0,E=void 0;if(N!=null&&N.start.node===w&&N.end.node===w){var A=[w,N.start.offset,N.end.offset];T=A[0],S=A[1],E=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var C=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof d.default?(T=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=p.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var _=[S,E].map(function(P){return Math.max(0,Math.min(T.data.length,P-1))}),k=a(_,2);return S=k[0],E=k[1],{startNode:T,startOffset:S,endNode:T,endOffset:E}}}}},{key:"update",value:function(w,N){var T=this;if(w.some(function(E){return E.type==="characterData"&&E.target===T.textNode})){var S=this.restore();S&&(N.range=S)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(0),o=u(a),l=s(4),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function d(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function f(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var v=function(x){f(m,x);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Container);v.allowedChildren=[c.default,l.BlockEmbed,v],r.default=v},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function y(g,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,p,b){return p&&y(g.prototype,p),b&&y(g,b),g}}(),o=function y(g,p,b){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,p);if(w===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,p,b)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(b)}},l=s(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function d(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function f(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var v=function(y){f(g,y);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(b){var w=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,b);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):w}}]),g}(c.default.Attributor.Style),x=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),m=new v("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=v,r.ColorClass=x,r.ColorStyle=m},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function m(y,g){for(var p=0;p<g.length;p++){var b=g[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,p){return g&&m(y.prototype,g),p&&m(y,p),y}}(),o=function m(y,g,p){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:m(w,g,p)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(p)}},l=s(6),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){f(y,m);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(p,b){if(p!==this.statics.blotName||!b)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,p,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(p){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p);return p=this.sanitize(p),b.setAttribute("href",p),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return x(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),y}(c.default);v.blotName="link",v.tagName="A",v.SANITIZED_URL="about:blank",v.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(m,y){var g=document.createElement("a");g.href=m;var p=g.href.slice(0,g.href.indexOf(":"));return y.indexOf(p)>-1}r.default=v,r.sanitize=x},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o=function(){function y(g,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,p,b){return p&&y(g.prototype,p),b&&y(g,b),g}}(),l=s(23),c=d(l),u=s(107),h=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}var v=0;function x(y,g){y.setAttribute(g,y.getAttribute(g)!=="true")}var m=function(){function y(g){var p=this;f(this,y),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case c.default.keys.ENTER:p.togglePicker();break;case c.default.keys.ESCAPE:p.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var b=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),p.hasAttribute("value")&&w.setAttribute("data-value",p.getAttribute("value")),p.textContent&&w.setAttribute("data-label",p.textContent),w.addEventListener("click",function(){b.selectItem(w,!0)}),w.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:b.selectItem(w,!0),N.preventDefault();break;case c.default.keys.ESCAPE:b.escape(),N.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=h.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+v,v+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(w){var N=p.buildItem(w);b.appendChild(N),w.selected===!0&&p.selectItem(N)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(b){p.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(p!==w&&(w!=null&&w.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var w=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),y}();r.default=m},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(0),o=B(a),l=s(5),c=B(l),u=s(4),h=B(u),d=s(16),f=B(d),v=s(25),x=B(v),m=s(24),y=B(m),g=s(35),p=B(g),b=s(6),w=B(b),N=s(22),T=B(N),S=s(7),E=B(S),A=s(55),C=B(A),_=s(42),k=B(_),P=s(23),M=B(P);function B(U){return U&&U.__esModule?U:{default:U}}c.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":x.default,"blots/cursor":y.default,"blots/embed":p.default,"blots/inline":w.default,"blots/scroll":T.default,"blots/text":E.default,"modules/clipboard":C.default,"modules/history":k.default,"modules/keyboard":M.default}),o.default.register(h.default,f.default,y.default,w.default,T.default,E.default),r.default=c.default},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(1),o=function(){function l(c){this.domNode=c,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return a.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},l.prototype.deleteAt=function(c,u){var h=this.isolate(c,u);h.remove()},l.prototype.formatAt=function(c,u,h,d){var f=this.isolate(c,u);if(a.query(h,a.Scope.BLOT)!=null&&d)f.wrap(h,d);else if(a.query(h,a.Scope.ATTRIBUTE)!=null){var v=a.create(this.statics.scope);f.wrap(v),v.format(h,d)}},l.prototype.insertAt=function(c,u,h){var d=h==null?a.create("text",u):a.create(u,h),f=this.split(c);this.parent.insertBefore(d,f)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;c.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=h)&&c.domNode.insertBefore(this.domNode,h),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var h=this.split(c);return h.split(u),h},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var h=typeof c=="string"?a.create(c,u):c;return h.replace(this),h},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var h=typeof c=="string"?a.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},l.blotName="abstract",l}();r.default=o},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(12),o=s(32),l=s(33),c=s(1),u=function(){function h(d){this.attributes={},this.domNode=d,this.build()}return h.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},h.prototype.build=function(){var d=this;this.attributes={};var f=a.default.keys(this.domNode),v=o.default.keys(this.domNode),x=l.default.keys(this.domNode);f.concat(v).concat(x).forEach(function(m){var y=c.query(m,c.Scope.ATTRIBUTE);y instanceof a.default&&(d.attributes[y.attrName]=y)})},h.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(v){var x=f.attributes[v].value(f.domNode);d.format(v,x)})},h.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(v){f.attributes[v].remove(f.domNode)}),this.attributes={}},h.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,v){return f[v]=d.attributes[v].value(d.domNode),f},{})},h}();r.default=u},function(n,r,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(12);function l(u,h){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(h+"-")===0})}var c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},h.prototype.remove=function(d){var f=l(d,this.keyName);f.forEach(function(v){d.classList.remove(v)}),d.classList.length===0&&d.removeAttribute("class")},h.prototype.value=function(d){var f=l(d,this.keyName)[0]||"",v=f.slice(this.keyName.length+1);return this.canAdd(d,v)?v:""},h}(o.default);r.default=c},function(n,r,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(12);function l(u){var h=u.split("-"),d=h.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return h[0]+d}var c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var v=f.split(":");return v[0].trim()})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[l(this.keyName)]=f,!0):!1},h.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},h.prototype.value=function(d){var f=d.style[l(this.keyName)];return this.canAdd(d,f)?f:""},h}(o.default);r.default=c},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,h){o(this,c),this.quill=u,this.options=h,this.modules={}}return a(c,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(d){h.modules[d]==null&&h.addModule(d)})}},{key:"addModule",value:function(h){var d=this.quill.constructor.import("modules/"+h);return this.modules[h]=new d(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(p,b){for(var w=0;w<b.length;w++){var N=b[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,b,w){return b&&g(p.prototype,b),w&&g(p,w),p}}(),o=function g(p,b,w){p===null&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,b);if(N===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:g(T,b,w)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(w)}},l=s(0),c=d(l),u=s(7),h=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function v(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function x(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m="\uFEFF",y=function(g){x(p,g);function p(b){f(this,p);var w=v(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(N){w.contentNode.appendChild(N)}),w.leftGuard=document.createTextNode(m),w.rightGuard=document.createTextNode(m),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return a(p,[{key:"index",value:function(w,N){return w===this.leftGuard?0:w===this.rightGuard?1:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,w,N)}},{key:"restore",value:function(w){var N=void 0,T=void 0,S=w.data.split(m).join("");if(w===this.leftGuard)if(this.prev instanceof h.default){var E=this.prev.length();this.prev.insertAt(E,S),N={startNode:this.prev.domNode,startOffset:E+S.length}}else T=document.createTextNode(S),this.parent.insertBefore(c.default.create(T),this),N={startNode:T,startOffset:S.length};else w===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,S),N={startNode:this.next.domNode,startOffset:S.length}):(T=document.createTextNode(S),this.parent.insertBefore(c.default.create(T),this.next),N={startNode:T,startOffset:S.length}));return w.data=m,N}},{key:"update",value:function(w,N){var T=this;w.forEach(function(S){if(S.type==="characterData"&&(S.target===T.leftGuard||S.target===T.rightGuard)){var E=T.restore(S.target);E&&(N.range=E)}})}}]),p}(c.default.Embed);r.default=y},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=s(0),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),h=new o.default.Attributor.Class("align","ql-align",c),d=new o.default.Attributor.Style("align","text-align",c);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=s(0),o=c(a),l=s(26);function c(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=s(0),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),h=new o.default.Attributor.Class("direction","ql-direction",c),d=new o.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function g(p,b){for(var w=0;w<b.length;w++){var N=b[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,b,w){return b&&g(p.prototype,b),w&&g(p,w),p}}(),o=function g(p,b,w){p===null&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,b);if(N===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:g(T,b,w)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(w)}},l=s(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function d(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function f(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var v={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new c.default.Attributor.Class("font","ql-font",v),m=function(g){f(p,g);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"value",value:function(w){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),p}(c.default.Attributor.Style),y=new m("font","font-family",v);r.FontStyle=y,r.FontClass=x},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=s(0),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=u},function(n,r,s){n.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function b(w,N){for(var T=0;T<N.length;T++){var S=N[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,N,T){return N&&b(w.prototype,N),T&&b(w,T),w}}(),o=s(0),l=f(o),c=s(5),u=f(c),h=s(9),d=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function x(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){m(w,b);function w(N,T){v(this,w);var S=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N,T));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(E,A,C,_){E!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||_===u.default.sources.USER?S.record(A,C):S.transform(A))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return a(w,[{key:"change",value:function(T,S){if(this.stack[T].length!==0){var E=this.stack[T].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[T],u.default.sources.USER),this.ignoreChange=!1;var A=p(E[T]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,S){if(T.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var C=this.stack.undo.pop();E=E.compose(C.undo),T=C.redo.compose(T)}else this.lastRecorded=A;this.stack.undo.push({redo:T,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(S){S.undo=T.transform(S.undo,!0),S.redo=T.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=T.transform(S.undo,!0),S.redo=T.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(d.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(b){var w=b.ops[b.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(N){return l.default.query(N,l.default.Scope.BLOCK)!=null}):!1}function p(b){var w=b.reduce(function(T,S){return T+=S.delete||0,T},0),N=b.length()-w;return g(b)&&(N-=1),N}r.default=y,r.getLastChangeIndex=p},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function $(q,K){for(var W=0;W<K.length;W++){var V=K[W];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(q,V.key,V)}}return function(q,K,W){return K&&$(q.prototype,K),W&&$(q,W),q}}(),o=function $(q,K,W){q===null&&(q=Function.prototype);var V=Object.getOwnPropertyDescriptor(q,K);if(V===void 0){var z=Object.getPrototypeOf(q);return z===null?void 0:$(z,K,W)}else{if("value"in V)return V.value;var Z=V.get;return Z===void 0?void 0:Z.call(W)}},l=s(3),c=A(l),u=s(2),h=A(u),d=s(8),f=A(d),v=s(23),x=A(v),m=s(34),y=A(m),g=s(59),p=A(g),b=s(60),w=A(b),N=s(28),T=A(N),S=s(61),E=A(S);function A($){return $&&$.__esModule?$:{default:$}}function C($,q){if(!($ instanceof q))throw new TypeError("Cannot call a class as a function")}function _($,q){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:$}function k($,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);$.prototype=Object.create(q&&q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf($,q):$.__proto__=q)}var P=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],B=[!1,"serif","monospace"],U=["1","2","3",!1],L=["small",!1,"large","huge"],F=function($){k(q,$);function q(K,W){C(this,q);var V=_(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K,W)),z=function Z(X){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Z);V.tooltip!=null&&!V.tooltip.root.contains(X.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(te){te.container.contains(X.target)||te.close()})};return K.emitter.listenDOM("click",document.body,z),V}return a(q,[{key:"addModule",value:function(W){var V=o(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(W,V){W.forEach(function(z){var Z=z.getAttribute("class")||"";Z.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),V[X]!=null))if(X==="direction")z.innerHTML=V[X][""]+V[X].rtl;else if(typeof V[X]=="string")z.innerHTML=V[X];else{var te=z.value||"";te!=null&&V[X][te]&&(z.innerHTML=V[X][te])}})})}},{key:"buildPickers",value:function(W,V){var z=this;this.pickers=W.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&D(X,P),new w.default(X,V.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var te=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&D(X,M,te==="background"?"#ffffff":"#000000"),new p.default(X,V[te])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?D(X,B):X.classList.contains("ql-header")?D(X,U):X.classList.contains("ql-size")&&D(X,L)),new T.default(X)});var Z=function(){z.pickers.forEach(function(te){te.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Z)}}]),q}(y.default);F.DEFAULTS=(0,c.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var W=new FileReader;W.onload=function(V){var z=q.quill.getSelection(!0);q.quill.updateContents(new h.default().retain(z.index).delete(z.length).insert({image:V.target.result}),f.default.sources.USER),q.quill.setSelection(z.index+1,f.default.sources.SILENT),K.value=""},W.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var R=function($){k(q,$);function q(K,W){C(this,q);var V=_(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K,W));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return a(q,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(V){x.default.match(V,"enter")?(W.save(),V.preventDefault()):x.default.match(V,"escape")&&(W.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":W=O(W);case"formula":{if(!W)break;var z=this.quill.getSelection(!0);if(z!=null){var Z=z.index+z.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),W,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",f.default.sources.USER),this.quill.setSelection(Z+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q}(E.default);function O($){var q=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":$}function D($,q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(W){var V=document.createElement("option");W===K?V.setAttribute("selected","selected"):V.setAttribute("value",W),$.appendChild(V)})}r.BaseTooltip=R,r.default=F},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,h=this.iterator();u=h();){var d=u.length();if(l<d||c&&l===d&&(u.next==null||u.next.length()!==0))return[u,l];l-=d}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var h=this.find(l),d=h[0],f=h[1],v,x=l-f,m=this.iterator(d);(v=m())&&x<l+c;){var y=v.length();l>x?u(v,l-x,Math.min(c,x+y-l)):u(v,0,Math.min(y,l+c-x)),x+=y}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,h=this.iterator();u=h();)c=l(c,u);return c},o}();r.default=a},function(n,r,s){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var x in v)v.hasOwnProperty(x)&&(f[x]=v[x])};return function(f,v){d(f,v);function x(){this.constructor=f}f.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(17),l=s(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(d){a(f,d);function f(v){var x=d.call(this,v)||this;return x.scroll=x,x.observer=new MutationObserver(function(m){x.update(m)}),x.observer.observe(x.domNode,c),x.attach(),x}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(v,x){this.update(),v===0&&x===this.length()?this.children.forEach(function(m){m.remove()}):d.prototype.deleteAt.call(this,v,x)},f.prototype.formatAt=function(v,x,m,y){this.update(),d.prototype.formatAt.call(this,v,x,m,y)},f.prototype.insertAt=function(v,x,m){this.update(),d.prototype.insertAt.call(this,v,x,m)},f.prototype.optimize=function(v,x){var m=this;v===void 0&&(v=[]),x===void 0&&(x={}),d.prototype.optimize.call(this,x);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)v.push(y.pop());for(var g=function(N,T){T===void 0&&(T=!0),!(N==null||N===m)&&N.domNode.parentNode!=null&&(N.domNode[l.DATA_KEY].mutations==null&&(N.domNode[l.DATA_KEY].mutations=[]),T&&g(N.parent))},p=function(N){N.domNode[l.DATA_KEY]==null||N.domNode[l.DATA_KEY].mutations==null||(N instanceof o.default&&N.children.forEach(p),N.optimize(x))},b=v,w=0;b.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(N){var T=l.find(N.target,!0);T!=null&&(T.domNode===N.target&&(N.type==="childList"?(g(l.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(S){var E=l.find(S,!1);g(E,!1),E instanceof o.default&&E.children.forEach(function(A){g(A,!1)})})):N.type==="attributes"&&g(T.prev)),g(T))}),this.children.forEach(p),b=[].slice.call(this.observer.takeRecords()),y=b.slice();y.length>0;)v.push(y.pop())}},f.prototype.update=function(v,x){var m=this;x===void 0&&(x={}),v=v||this.observer.takeRecords(),v.map(function(y){var g=l.find(y.target,!0);return g==null?null:g.domNode[l.DATA_KEY].mutations==null?(g.domNode[l.DATA_KEY].mutations=[y],g):(g.domNode[l.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===m||y.domNode[l.DATA_KEY]==null||y.update(y.domNode[l.DATA_KEY].mutations||[],x)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,x),this.optimize(v,x)},f.blotName="scroll",f.defaultChild="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="DIV",f}(o.default);r.default=h},function(n,r,s){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var v in f)f.hasOwnProperty(v)&&(d[v]=f[v])};return function(d,f){h(d,f);function v(){this.constructor=d}d.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(18),l=s(1);function c(h,d){if(Object.keys(h).length!==Object.keys(d).length)return!1;for(var f in h)if(h[f]!==d[f])return!1;return!0}var u=function(h){a(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return h.formats.call(this,f)},d.prototype.format=function(f,v){var x=this;f===this.statics.blotName&&!v?(this.children.forEach(function(m){m instanceof o.default||(m=m.wrap(d.blotName,!0)),x.attributes.copy(m)}),this.unwrap()):h.prototype.format.call(this,f,v)},d.prototype.formatAt=function(f,v,x,m){if(this.formats()[x]!=null||l.query(x,l.Scope.ATTRIBUTE)){var y=this.isolate(f,v);y.format(x,m)}else h.prototype.formatAt.call(this,f,v,x,m)},d.prototype.optimize=function(f){h.prototype.optimize.call(this,f);var v=this.formats();if(Object.keys(v).length===0)return this.unwrap();var x=this.next;x instanceof d&&x.prev===this&&c(v,x.formats())&&(x.moveChildren(this),x.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);r.default=u},function(n,r,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(18),l=s(1),c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(d){var f=l.query(h.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},h.prototype.format=function(d,f){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(h.blotName):u.prototype.format.call(this,d,f))},h.prototype.formatAt=function(d,f,v,x){l.query(v,l.Scope.BLOCK)!=null?this.format(v,x):u.prototype.formatAt.call(this,d,f,v,x)},h.prototype.insertAt=function(d,f,v){if(v==null||l.query(f,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,v);else{var x=this.split(d),m=l.create(f,v);x.parent.insertBefore(m,x)}},h.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},h.blotName="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);r.default=c},function(n,r,s){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)h.hasOwnProperty(d)&&(u[d]=h[d])};return function(u,h){c(u,h);function d(){this.constructor=u}u.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(19),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,d){c.prototype.formatAt.call(this,0,this.length(),h,d)},u.prototype.formatAt=function(h,d,f,v){h===0&&d===this.length()?this.format(f,v):c.prototype.formatAt.call(this,h,d,f,v)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=l},function(n,r,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=s(19),l=s(1),c=function(u){a(h,u);function h(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return h.create=function(d){return document.createTextNode(d)},h.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},h.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},h.prototype.index=function(d,f){return this.domNode===d?f:-1},h.prototype.insertAt=function(d,f,v){v==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,v)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(d,f){return[this.domNode,d]},h.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var v=l.create(this.domNode.splitText(d));return this.parent.insertBefore(v,this.next),this.text=this.statics.value(this.domNode),v},h.prototype.update=function(d,f){var v=this;d.some(function(x){return x.type==="characterData"&&x.target===v.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=l.Scope.INLINE_BLOT,h}(o.default);r.default=c},function(n,r,s){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var h=u.indexOf(l,c);return h!==-1&&h===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,d=arguments[1],f,v=0;v<h;v++)if(f=u[v],c.call(d,f,v,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var s=-1,a=1,o=0;function l(w,N,T){if(w==N)return w?[[o,w]]:[];(T<0||w.length<T)&&(T=null);var S=d(w,N),E=w.substring(0,S);w=w.substring(S),N=N.substring(S),S=f(w,N);var A=w.substring(w.length-S);w=w.substring(0,w.length-S),N=N.substring(0,N.length-S);var C=c(w,N);return E&&C.unshift([o,E]),A&&C.push([o,A]),x(C),T!=null&&(C=g(C,T)),C=p(C),C}function c(w,N){var T;if(!w)return[[a,N]];if(!N)return[[s,w]];var S=w.length>N.length?w:N,E=w.length>N.length?N:w,A=S.indexOf(E);if(A!=-1)return T=[[a,S.substring(0,A)],[o,E],[a,S.substring(A+E.length)]],w.length>N.length&&(T[0][0]=T[2][0]=s),T;if(E.length==1)return[[s,w],[a,N]];var C=v(w,N);if(C){var _=C[0],k=C[1],P=C[2],M=C[3],B=C[4],U=l(_,P),L=l(k,M);return U.concat([[o,B]],L)}return u(w,N)}function u(w,N){for(var T=w.length,S=N.length,E=Math.ceil((T+S)/2),A=E,C=2*E,_=new Array(C),k=new Array(C),P=0;P<C;P++)_[P]=-1,k[P]=-1;_[A+1]=0,k[A+1]=0;for(var M=T-S,B=M%2!=0,U=0,L=0,F=0,R=0,O=0;O<E;O++){for(var D=-O+U;D<=O-L;D+=2){var $=A+D,q;D==-O||D!=O&&_[$-1]<_[$+1]?q=_[$+1]:q=_[$-1]+1;for(var K=q-D;q<T&&K<S&&w.charAt(q)==N.charAt(K);)q++,K++;if(_[$]=q,q>T)L+=2;else if(K>S)U+=2;else if(B){var W=A+M-D;if(W>=0&&W<C&&k[W]!=-1){var V=T-k[W];if(q>=V)return h(w,N,q,K)}}}for(var z=-O+F;z<=O-R;z+=2){var W=A+z,V;z==-O||z!=O&&k[W-1]<k[W+1]?V=k[W+1]:V=k[W-1]+1;for(var Z=V-z;V<T&&Z<S&&w.charAt(T-V-1)==N.charAt(S-Z-1);)V++,Z++;if(k[W]=V,V>T)R+=2;else if(Z>S)F+=2;else if(!B){var $=A+M-z;if($>=0&&$<C&&_[$]!=-1){var q=_[$],K=A+q-$;if(V=T-V,q>=V)return h(w,N,q,K)}}}}return[[s,w],[a,N]]}function h(w,N,T,S){var E=w.substring(0,T),A=N.substring(0,S),C=w.substring(T),_=N.substring(S),k=l(E,A),P=l(C,_);return k.concat(P)}function d(w,N){if(!w||!N||w.charAt(0)!=N.charAt(0))return 0;for(var T=0,S=Math.min(w.length,N.length),E=S,A=0;T<E;)w.substring(A,E)==N.substring(A,E)?(T=E,A=T):S=E,E=Math.floor((S-T)/2+T);return E}function f(w,N){if(!w||!N||w.charAt(w.length-1)!=N.charAt(N.length-1))return 0;for(var T=0,S=Math.min(w.length,N.length),E=S,A=0;T<E;)w.substring(w.length-E,w.length-A)==N.substring(N.length-E,N.length-A)?(T=E,A=T):S=E,E=Math.floor((S-T)/2+T);return E}function v(w,N){var T=w.length>N.length?w:N,S=w.length>N.length?N:w;if(T.length<4||S.length*2<T.length)return null;function E(L,F,R){for(var O=L.substring(R,R+Math.floor(L.length/4)),D=-1,$="",q,K,W,V;(D=F.indexOf(O,D+1))!=-1;){var z=d(L.substring(R),F.substring(D)),Z=f(L.substring(0,R),F.substring(0,D));$.length<Z+z&&($=F.substring(D-Z,D)+F.substring(D,D+z),q=L.substring(0,R-Z),K=L.substring(R+z),W=F.substring(0,D-Z),V=F.substring(D+z))}return $.length*2>=L.length?[q,K,W,V,$]:null}var A=E(T,S,Math.ceil(T.length/4)),C=E(T,S,Math.ceil(T.length/2)),_;if(!A&&!C)return null;C?A?_=A[4].length>C[4].length?A:C:_=C:_=A;var k,P,M,B;w.length>N.length?(k=_[0],P=_[1],M=_[2],B=_[3]):(M=_[0],B=_[1],k=_[2],P=_[3]);var U=_[4];return[k,P,M,B,U]}function x(w){w.push([o,""]);for(var N=0,T=0,S=0,E="",A="",C;N<w.length;)switch(w[N][0]){case a:S++,A+=w[N][1],N++;break;case s:T++,E+=w[N][1],N++;break;case o:T+S>1?(T!==0&&S!==0&&(C=d(A,E),C!==0&&(N-T-S>0&&w[N-T-S-1][0]==o?w[N-T-S-1][1]+=A.substring(0,C):(w.splice(0,0,[o,A.substring(0,C)]),N++),A=A.substring(C),E=E.substring(C)),C=f(A,E),C!==0&&(w[N][1]=A.substring(A.length-C)+w[N][1],A=A.substring(0,A.length-C),E=E.substring(0,E.length-C))),T===0?w.splice(N-S,T+S,[a,A]):S===0?w.splice(N-T,T+S,[s,E]):w.splice(N-T-S,T+S,[s,E],[a,A]),N=N-T-S+(T?1:0)+(S?1:0)+1):N!==0&&w[N-1][0]==o?(w[N-1][1]+=w[N][1],w.splice(N,1)):N++,S=0,T=0,E="",A="";break}w[w.length-1][1]===""&&w.pop();var _=!1;for(N=1;N<w.length-1;)w[N-1][0]==o&&w[N+1][0]==o&&(w[N][1].substring(w[N][1].length-w[N-1][1].length)==w[N-1][1]?(w[N][1]=w[N-1][1]+w[N][1].substring(0,w[N][1].length-w[N-1][1].length),w[N+1][1]=w[N-1][1]+w[N+1][1],w.splice(N-1,1),_=!0):w[N][1].substring(0,w[N+1][1].length)==w[N+1][1]&&(w[N-1][1]+=w[N+1][1],w[N][1]=w[N][1].substring(w[N+1][1].length)+w[N+1][1],w.splice(N+1,1),_=!0)),N++;_&&x(w)}var m=l;m.INSERT=a,m.DELETE=s,m.EQUAL=o,n.exports=m;function y(w,N){if(N===0)return[o,w];for(var T=0,S=0;S<w.length;S++){var E=w[S];if(E[0]===s||E[0]===o){var A=T+E[1].length;if(N===A)return[S+1,w];if(N<A){w=w.slice();var C=N-T,_=[E[0],E[1].slice(0,C)],k=[E[0],E[1].slice(C)];return w.splice(S,1,_,k),[S+1,w]}else T=A}}throw new Error("cursor_pos is out of bounds!")}function g(w,N){var T=y(w,N),S=T[1],E=T[0],A=S[E],C=S[E+1];if(A==null)return w;if(A[0]!==o)return w;if(C!=null&&A[1]+C[1]===C[1]+A[1])return S.splice(E,2,C,A),b(S,E,2);if(C!=null&&C[1].indexOf(A[1])===0){S.splice(E,2,[C[0],A[1]],[0,A[1]]);var _=C[1].slice(A[1].length);return _.length>0&&S.splice(E+2,0,[C[0],_]),b(S,E,3)}else return w}function p(w){for(var N=!1,T=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},S=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},E=2;E<w.length;E+=1)w[E-2][0]===o&&S(w[E-2][1])&&w[E-1][0]===s&&T(w[E-1][1])&&w[E][0]===a&&T(w[E][1])&&(N=!0,w[E-1][1]=w[E-2][1].slice(-1)+w[E-1][1],w[E][1]=w[E-2][1].slice(-1)+w[E][1],w[E-2][1]=w[E-2][1].slice(0,-1));if(!N)return w;for(var A=[],E=0;E<w.length;E+=1)w[E][1].length>0&&A.push(w[E]);return A}function b(w,N,T){for(var S=N+T-1;S>=0&&S>=N-1;S--)if(S+1<w.length){var E=w[S],A=w[S+1];E[0]===A[1]&&w.splice(S,2,[E[0],E[1]+A[1]])}return w}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:s,r.shim=s;function s(a){var o=[];for(var l in a)o.push(l);return o}},function(n,r){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=s?a:o,r.supported=a;function a(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,r){var s=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function l(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],d,f;if(this._eventsCount===0)return h;for(f in d=this._events)s.call(d,f)&&h.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},c.prototype.listeners=function(h,d){var f=a?a+h:h,v=this._events[f];if(d)return!!v;if(!v)return[];if(v.fn)return[v.fn];for(var x=0,m=v.length,y=new Array(m);x<m;x++)y[x]=v[x].fn;return y},c.prototype.emit=function(h,d,f,v,x,m){var y=a?a+h:h;if(!this._events[y])return!1;var g=this._events[y],p=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,v),!0;case 5:return g.fn.call(g.context,d,f,v,x),!0;case 6:return g.fn.call(g.context,d,f,v,x,m),!0}for(w=1,b=new Array(p-1);w<p;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var N=g.length,T;for(w=0;w<N;w++)switch(g[w].once&&this.removeListener(h,g[w].fn,void 0,!0),p){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,v);break;default:if(!b)for(T=1,b=new Array(p-1);T<p;T++)b[T-1]=arguments[T];g[w].fn.apply(g[w].context,b)}}return!0},c.prototype.on=function(h,d,f){var v=new l(d,f||this),x=a?a+h:h;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],v]:this._events[x].push(v):(this._events[x]=v,this._eventsCount++),this},c.prototype.once=function(h,d,f){var v=new l(d,f||this,!0),x=a?a+h:h;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],v]:this._events[x].push(v):(this._events[x]=v,this._eventsCount++),this},c.prototype.removeListener=function(h,d,f,v){var x=a?a+h:h;if(!this._events[x])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[x],this;var m=this._events[x];if(m.fn)m.fn===d&&(!v||m.once)&&(!f||m.context===f)&&(--this._eventsCount===0?this._events=new o:delete this._events[x]);else{for(var y=0,g=[],p=m.length;y<p;y++)(m[y].fn!==d||v&&!m[y].once||f&&m[y].context!==f)&&g.push(m[y]);g.length?this._events[x]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[x]}return this},c.prototype.removeAllListeners=function(h){var d;return h?(d=a?a+h:h,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=a,c.EventEmitter=c,typeof n<"u"&&(n.exports=c)},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},o=function(){function ne(re,he){var pe=[],I=!0,H=!1,G=void 0;try{for(var se=re[Symbol.iterator](),ce;!(I=(ce=se.next()).done)&&(pe.push(ce.value),!(he&&pe.length===he));I=!0);}catch(J){H=!0,G=J}finally{try{!I&&se.return&&se.return()}finally{if(H)throw G}}return pe}return function(re,he){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return ne(re,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function ne(re,he){for(var pe=0;pe<he.length;pe++){var I=he[pe];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(re,I.key,I)}}return function(re,he,pe){return he&&ne(re.prototype,he),pe&&ne(re,pe),re}}(),c=s(3),u=k(c),h=s(2),d=k(h),f=s(0),v=k(f),x=s(5),m=k(x),y=s(10),g=k(y),p=s(9),b=k(p),w=s(36),N=s(37),T=s(13),S=k(T),E=s(26),A=s(38),C=s(39),_=s(40);function k(ne){return ne&&ne.__esModule?ne:{default:ne}}function P(ne,re,he){return re in ne?Object.defineProperty(ne,re,{value:he,enumerable:!0,configurable:!0,writable:!0}):ne[re]=he,ne}function M(ne,re){if(!(ne instanceof re))throw new TypeError("Cannot call a class as a function")}function B(ne,re){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:ne}function U(ne,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);ne.prototype=Object.create(re&&re.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,re):ne.__proto__=re)}var L=(0,g.default)("quill:clipboard"),F="__ql-matcher",R=[[Node.TEXT_NODE,Oe],[Node.TEXT_NODE,le],["br",oe],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,Xe],["li",de],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",Y]],O=[w.AlignAttribute,A.DirectionAttribute].reduce(function(ne,re){return ne[re.keyName]=re,ne},{}),D=[w.AlignStyle,N.BackgroundStyle,E.ColorStyle,A.DirectionStyle,C.FontStyle,_.SizeStyle].reduce(function(ne,re){return ne[re.keyName]=re,ne},{}),$=function(ne){U(re,ne);function re(he,pe){M(this,re);var I=B(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,he,pe));return I.quill.root.addEventListener("paste",I.onPaste.bind(I)),I.container=I.quill.addContainer("ql-clipboard"),I.container.setAttribute("contenteditable",!0),I.container.setAttribute("tabindex",-1),I.matchers=[],R.concat(I.options.matchers).forEach(function(H){var G=o(H,2),se=G[0],ce=G[1];!pe.matchVisual&&ce===Ce||I.addMatcher(se,ce)}),I}return l(re,[{key:"addMatcher",value:function(pe,I){this.matchers.push([pe,I])}},{key:"convert",value:function(pe){if(typeof pe=="string")return this.container.innerHTML=pe.replace(/\>\r?\n +\</g,"><"),this.convert();var I=this.quill.getFormat(this.quill.selection.savedRange.index);if(I[S.default.blotName]){var H=this.container.innerText;return this.container.innerHTML="",new d.default().insert(H,P({},S.default.blotName,I[S.default.blotName]))}var G=this.prepareMatching(),se=o(G,2),ce=se[0],J=se[1],ie=z(this.container,ce,J);return W(ie,`
`)&&ie.ops[ie.ops.length-1].attributes==null&&(ie=ie.compose(new d.default().retain(ie.length()-1).delete(1))),L.log("convert",this.container.innerHTML,ie),this.container.innerHTML="",ie}},{key:"dangerouslyPasteHTML",value:function(pe,I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof pe=="string")this.quill.setContents(this.convert(pe),I),this.quill.setSelection(0,m.default.sources.SILENT);else{var G=this.convert(I);this.quill.updateContents(new d.default().retain(pe).concat(G),H),this.quill.setSelection(pe+G.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(pe){var I=this;if(!(pe.defaultPrevented||!this.quill.isEnabled())){var H=this.quill.getSelection(),G=new d.default().retain(H.index),se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){G=G.concat(I.convert()).delete(H.length),I.quill.updateContents(G,m.default.sources.USER),I.quill.setSelection(G.length()-H.length,m.default.sources.SILENT),I.quill.scrollingContainer.scrollTop=se,I.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var pe=this,I=[],H=[];return this.matchers.forEach(function(G){var se=o(G,2),ce=se[0],J=se[1];switch(ce){case Node.TEXT_NODE:H.push(J);break;case Node.ELEMENT_NODE:I.push(J);break;default:[].forEach.call(pe.container.querySelectorAll(ce),function(ie){ie[F]=ie[F]||[],ie[F].push(J)});break}}),[I,H]}}]),re}(b.default);$.DEFAULTS={matchers:[],matchVisual:!0};function q(ne,re,he){return(typeof re>"u"?"undefined":a(re))==="object"?Object.keys(re).reduce(function(pe,I){return q(pe,I,re[I])},ne):ne.reduce(function(pe,I){return I.attributes&&I.attributes[re]?pe.push(I):pe.insert(I.insert,(0,u.default)({},P({},re,he),I.attributes))},new d.default)}function K(ne){if(ne.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return ne[re]||(ne[re]=window.getComputedStyle(ne))}function W(ne,re){for(var he="",pe=ne.ops.length-1;pe>=0&&he.length<re.length;--pe){var I=ne.ops[pe];if(typeof I.insert!="string")break;he=I.insert+he}return he.slice(-1*re.length)===re}function V(ne){if(ne.childNodes.length===0)return!1;var re=K(ne);return["block","list-item"].indexOf(re.display)>-1}function z(ne,re,he){return ne.nodeType===ne.TEXT_NODE?he.reduce(function(pe,I){return I(ne,pe)},new d.default):ne.nodeType===ne.ELEMENT_NODE?[].reduce.call(ne.childNodes||[],function(pe,I){var H=z(I,re,he);return I.nodeType===ne.ELEMENT_NODE&&(H=re.reduce(function(G,se){return se(I,G)},H),H=(I[F]||[]).reduce(function(G,se){return se(I,G)},H)),pe.concat(H)},new d.default):new d.default}function Z(ne,re,he){return q(he,ne,!0)}function X(ne,re){var he=v.default.Attributor.Attribute.keys(ne),pe=v.default.Attributor.Class.keys(ne),I=v.default.Attributor.Style.keys(ne),H={};return he.concat(pe).concat(I).forEach(function(G){var se=v.default.query(G,v.default.Scope.ATTRIBUTE);se!=null&&(H[se.attrName]=se.value(ne),H[se.attrName])||(se=O[G],se!=null&&(se.attrName===G||se.keyName===G)&&(H[se.attrName]=se.value(ne)||void 0),se=D[G],se!=null&&(se.attrName===G||se.keyName===G)&&(se=D[G],H[se.attrName]=se.value(ne)||void 0))}),Object.keys(H).length>0&&(re=q(re,H)),re}function te(ne,re){var he=v.default.query(ne);if(he==null)return re;if(he.prototype instanceof v.default.Embed){var pe={},I=he.value(ne);I!=null&&(pe[he.blotName]=I,re=new d.default().insert(pe,he.formats(ne)))}else typeof he.formats=="function"&&(re=q(re,he.blotName,he.formats(ne)));return re}function oe(ne,re){return W(re,`
`)||re.insert(`
`),re}function Y(){return new d.default}function de(ne,re){var he=v.default.query(ne);if(he==null||he.blotName!=="list-item"||!W(re,`
`))return re;for(var pe=-1,I=ne.parentNode;!I.classList.contains("ql-clipboard");)(v.default.query(I)||{}).blotName==="list"&&(pe+=1),I=I.parentNode;return pe<=0?re:re.compose(new d.default().retain(re.length()-1).retain(1,{indent:pe}))}function le(ne,re){return W(re,`
`)||(V(ne)||re.length()>0&&ne.nextSibling&&V(ne.nextSibling))&&re.insert(`
`),re}function Ce(ne,re){if(V(ne)&&ne.nextElementSibling!=null&&!W(re,`

`)){var he=ne.offsetHeight+parseFloat(K(ne).marginTop)+parseFloat(K(ne).marginBottom);ne.nextElementSibling.offsetTop>ne.offsetTop+he*1.5&&re.insert(`
`)}return re}function Xe(ne,re){var he={},pe=ne.style||{};return pe.fontStyle&&K(ne).fontStyle==="italic"&&(he.italic=!0),pe.fontWeight&&(K(ne).fontWeight.startsWith("bold")||parseInt(K(ne).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(re=q(re,he)),parseFloat(pe.textIndent||0)>0&&(re=new d.default().insert("	").concat(re)),re}function Oe(ne,re){var he=ne.data;if(ne.parentNode.tagName==="O:P")return re.insert(he.trim());if(he.trim().length===0&&ne.parentNode.classList.contains("ql-clipboard"))return re;if(!K(ne.parentNode).whiteSpace.startsWith("pre")){var pe=function(H,G){return G=G.replace(/[^\u00a0]/g,""),G.length<1&&H?" ":G};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,pe.bind(pe,!0)),(ne.previousSibling==null&&V(ne.parentNode)||ne.previousSibling!=null&&V(ne.previousSibling))&&(he=he.replace(/^\s+/,pe.bind(pe,!1))),(ne.nextSibling==null&&V(ne.parentNode)||ne.nextSibling!=null&&V(ne.nextSibling))&&(he=he.replace(/\s+$/,pe.bind(pe,!1)))}return re.insert(he)}r.default=$,r.matchAttributor=X,r.matchBlot=te,r.matchNewline=le,r.matchSpacing=Ce,r.matchText=Oe},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(m,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,g){return y&&x(m.prototype,y),g&&x(m,g),m}}(),o=function x(m,y,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,y);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:x(b,y,g)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(g)}},l=s(6),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function d(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function f(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var v=function(x){f(m,x);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"optimize",value:function(g){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(c.default);v.blotName="bold",v.tagName=["STRONG","B"],r.default=v},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function _(k,P){var M=[],B=!0,U=!1,L=void 0;try{for(var F=k[Symbol.iterator](),R;!(B=(R=F.next()).done)&&(M.push(R.value),!(P&&M.length===P));B=!0);}catch(O){U=!0,L=O}finally{try{!B&&F.return&&F.return()}finally{if(U)throw L}}return M}return function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return _(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(k,P){for(var M=0;M<P.length;M++){var B=P[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,P,M){return P&&_(k.prototype,P),M&&_(k,M),k}}(),l=s(2),c=g(l),u=s(0),h=g(u),d=s(5),f=g(d),v=s(10),x=g(v),m=s(9),y=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function p(_,k,P){return k in _?Object.defineProperty(_,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):_[k]=P,_}function b(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function w(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:_}function N(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(_,k):_.__proto__=k)}var T=(0,x.default)("quill:toolbar"),S=function(_){N(k,_);function k(P,M){b(this,k);var B=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,M));if(Array.isArray(B.options.container)){var U=document.createElement("div");A(U,B.options.container),P.container.parentNode.insertBefore(U,P.container),B.container=U}else typeof B.options.container=="string"?B.container=document.querySelector(B.options.container):B.container=B.options.container;if(!(B.container instanceof HTMLElement)){var L;return L=T.error("Container required for toolbar",B.options),w(B,L)}return B.container.classList.add("ql-toolbar"),B.controls=[],B.handlers={},Object.keys(B.options.handlers).forEach(function(F){B.addHandler(F,B.options.handlers[F])}),[].forEach.call(B.container.querySelectorAll("button, select"),function(F){B.attach(F)}),B.quill.on(f.default.events.EDITOR_CHANGE,function(F,R){F===f.default.events.SELECTION_CHANGE&&B.update(R)}),B.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var F=B.quill.selection.getRange(),R=a(F,1),O=R[0];B.update(O)}),B}return o(k,[{key:"addHandler",value:function(M,B){this.handlers[M]=B}},{key:"attach",value:function(M){var B=this,U=[].find.call(M.classList,function(F){return F.indexOf("ql-")===0});if(U){if(U=U.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){T.warn("ignoring attaching to disabled format",U,M);return}if(h.default.query(U)==null){T.warn("ignoring attaching to nonexistent format",U,M);return}}var L=M.tagName==="SELECT"?"change":"click";M.addEventListener(L,function(F){var R=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var O=M.options[M.selectedIndex];O.hasAttribute("selected")?R=!1:R=O.value||!1}else M.classList.contains("ql-active")?R=!1:R=M.value||!M.hasAttribute("value"),F.preventDefault();B.quill.focus();var D=B.quill.selection.getRange(),$=a(D,1),q=$[0];if(B.handlers[U]!=null)B.handlers[U].call(B,R);else if(h.default.query(U).prototype instanceof h.default.Embed){if(R=prompt("Enter "+U),!R)return;B.quill.updateContents(new c.default().retain(q.index).delete(q.length).insert(p({},U,R)),f.default.sources.USER)}else B.quill.format(U,R,f.default.sources.USER);B.update(q)}),this.controls.push([U,M])}}},{key:"update",value:function(M){var B=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(U){var L=a(U,2),F=L[0],R=L[1];if(R.tagName==="SELECT"){var O=void 0;if(M==null)O=null;else if(B[F]==null)O=R.querySelector("option[selected]");else if(!Array.isArray(B[F])){var D=B[F];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),O=R.querySelector('option[value="'+D+'"]')}O==null?(R.value="",R.selectedIndex=-1):O.selected=!0}else if(M==null)R.classList.remove("ql-active");else if(R.hasAttribute("value")){var $=B[F]===R.getAttribute("value")||B[F]!=null&&B[F].toString()===R.getAttribute("value")||B[F]==null&&!R.getAttribute("value");R.classList.toggle("ql-active",$)}else R.classList.toggle("ql-active",B[F]!=null)})}}]),k}(y.default);S.DEFAULTS={};function E(_,k,P){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+k),P!=null&&(M.value=P),_.appendChild(M)}function A(_,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(P){var M=document.createElement("span");M.classList.add("ql-formats"),P.forEach(function(B){if(typeof B=="string")E(M,B);else{var U=Object.keys(B)[0],L=B[U];Array.isArray(L)?C(M,U,L):E(M,U,L)}}),_.appendChild(M)})}function C(_,k,P){var M=document.createElement("select");M.classList.add("ql-"+k),P.forEach(function(B){var U=document.createElement("option");B!==!1?U.setAttribute("value",B):U.setAttribute("selected","selected"),M.appendChild(U)}),_.appendChild(M)}S.DEFAULTS={container:null,handlers:{clean:function(){var k=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(B){h.default.query(B,h.default.Scope.INLINE)!=null&&k.quill.format(B,!1)})}else this.quill.removeFormat(P,f.default.sources.USER)},direction:function(k){var P=this.quill.getFormat().align;k==="rtl"&&P==null?this.quill.format("align","right",f.default.sources.USER):!k&&P==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",k,f.default.sources.USER)},indent:function(k){var P=this.quill.getSelection(),M=this.quill.getFormat(P),B=parseInt(M.indent||0);if(k==="+1"||k==="-1"){var U=k==="+1"?1:-1;M.direction==="rtl"&&(U*=-1),this.quill.format("indent",B+U,f.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,f.default.sources.USER)},list:function(k){var P=this.quill.getSelection(),M=this.quill.getFormat(P);k==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",k,f.default.sources.USER)}}},r.default=S,r.addControls=A},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(m,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,g){return y&&x(m.prototype,y),g&&x(m,g),m}}(),o=function x(m,y,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,y);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:x(b,y,g)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(g)}},l=s(28),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function d(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function f(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var v=function(x){f(m,x);function m(y,g){h(this,m);var p=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),p}return a(m,[{key:"buildItem",value:function(g){var p=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,p);var b=this.label.querySelector(".ql-color-label"),w=g&&g.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=w:b.style.fill=w)}}]),m}(c.default);r.default=v},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(m,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,g){return y&&x(m.prototype,y),g&&x(m,g),m}}(),o=function x(m,y,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,y);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:x(b,y,g)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(g)}},l=s(28),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function d(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function f(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var v=function(x){f(m,x);function m(y,g){h(this,m);var p=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=g[b.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return a(m,[{key:"selectItem",value:function(g,p){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),m}(c.default);r.default=v},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,h){var d=this;o(this,c),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return a(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var d=h.left+h.width/2-this.root.offsetWidth/2,f=h.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var v=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),m=0;if(x.right>v.right&&(m=v.right-x.right,this.root.style.left=d+m+"px"),x.left<v.left&&(m=v.left-x.left,this.root.style.left=d+m+"px"),x.bottom>v.bottom){var y=x.bottom-x.top,g=h.bottom-h.top+y;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();r.default=l},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function C(_,k){var P=[],M=!0,B=!1,U=void 0;try{for(var L=_[Symbol.iterator](),F;!(M=(F=L.next()).done)&&(P.push(F.value),!(k&&P.length===k));M=!0);}catch(R){B=!0,U=R}finally{try{!M&&L.return&&L.return()}finally{if(B)throw U}}return P}return function(_,k){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return C(_,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function C(_,k,P){_===null&&(_=Function.prototype);var M=Object.getOwnPropertyDescriptor(_,k);if(M===void 0){var B=Object.getPrototypeOf(_);return B===null?void 0:C(B,k,P)}else{if("value"in M)return M.value;var U=M.get;return U===void 0?void 0:U.call(P)}},l=function(){function C(_,k){for(var P=0;P<k.length;P++){var M=k[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,k,P){return k&&C(_.prototype,k),P&&C(_,P),_}}(),c=s(3),u=b(c),h=s(8),d=b(h),f=s(43),v=b(f),x=s(27),m=b(x),y=s(15),g=s(41),p=b(g);function b(C){return C&&C.__esModule?C:{default:C}}function w(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function N(C,_){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:C}function T(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(C,_):C.__proto__=_)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(C){T(_,C);function _(k,P){w(this,_),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=S);var M=N(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,k,P));return M.quill.container.classList.add("ql-snow"),M}return l(_,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),p.default),this.tooltip=new A(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,B){P.handlers.link.call(P,!B.format.link)})}}]),_}(v.default);E.DEFAULTS=(0,u.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var k=this.quill.getSelection();if(k==null||k.length==0)return;var P=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var M=this.quill.theme.tooltip;M.edit("link",P)}else this.quill.format("link",!1)}}}}});var A=function(C){T(_,C);function _(k,P){w(this,_);var M=N(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,k,P));return M.preview=M.root.querySelector("a.ql-preview"),M}return l(_,[{key:"listen",value:function(){var P=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(P.linkRange!=null){var B=P.linkRange;P.restoreFocus(),P.quill.formatText(B,"link",!1,d.default.sources.USER),delete P.linkRange}M.preventDefault(),P.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(M,B,U){if(M!=null){if(M.length===0&&U===d.default.sources.USER){var L=P.quill.scroll.descendant(m.default,M.index),F=a(L,2),R=F[0],O=F[1];if(R!=null){P.linkRange=new y.Range(M.index-O,R.length());var D=m.default.formats(R.domNode);P.preview.textContent=D,P.preview.setAttribute("href",D),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(f.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(29),o=I(a),l=s(36),c=s(38),u=s(64),h=s(65),d=I(h),f=s(66),v=I(f),x=s(67),m=I(x),y=s(37),g=s(26),p=s(39),b=s(40),w=s(56),N=I(w),T=s(68),S=I(T),E=s(27),A=I(E),C=s(69),_=I(C),k=s(70),P=I(k),M=s(71),B=I(M),U=s(72),L=I(U),F=s(73),R=I(F),O=s(13),D=I(O),$=s(74),q=I($),K=s(75),W=I(K),V=s(57),z=I(V),Z=s(41),X=I(Z),te=s(28),oe=I(te),Y=s(59),de=I(Y),le=s(60),Ce=I(le),Xe=s(61),Oe=I(Xe),ne=s(108),re=I(ne),he=s(62),pe=I(he);function I(H){return H&&H.__esModule?H:{default:H}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":b.SizeClass,"formats/blockquote":d.default,"formats/code-block":D.default,"formats/header":v.default,"formats/list":m.default,"formats/bold":N.default,"formats/code":O.Code,"formats/italic":S.default,"formats/link":A.default,"formats/script":_.default,"formats/strike":P.default,"formats/underline":B.default,"formats/image":L.default,"formats/video":R.default,"formats/list/item":x.ListItem,"modules/formula":q.default,"modules/syntax":W.default,"modules/toolbar":z.default,"themes/bubble":re.default,"themes/snow":pe.default,"ui/icons":X.default,"ui/picker":oe.default,"ui/icon-picker":Ce.default,"ui/color-picker":de.default,"ui/tooltip":Oe.default},!0),r.default=o.default},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function m(y,g){for(var p=0;p<g.length;p++){var b=g[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,p){return g&&m(y.prototype,g),p&&m(y,p),y}}(),o=function m(y,g,p){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:m(w,g,p)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(p)}},l=s(0),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){f(y,m);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"add",value:function(p,b){if(b==="+1"||b==="-1"){var w=this.value(p)||0;b=b==="+1"?w+1:w-1}return b===0?(this.remove(p),!0):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,p,b)}},{key:"canAdd",value:function(p,b){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,p,b)||o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,p,parseInt(b))}},{key:"value",value:function(p){return parseInt(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,p))||void 0}}]),y}(c.default.Attributor.Class),x=new v("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=x},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(4),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function h(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var d=function(f){h(v,f);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(x,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,m,y){return m&&v(x.prototype,m),y&&v(x,y),x}}(),o=s(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function h(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function d(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var f=function(v){d(x,v);function x(){return u(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),x}(l.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function w(N,T){for(var S=0;S<T.length;S++){var E=T[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,T,S){return T&&w(N.prototype,T),S&&w(N,S),N}}(),o=function w(N,T,S){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,T);if(E===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:w(A,T,S)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(S)}},l=s(0),c=v(l),u=s(4),h=v(u),d=s(25),f=v(d);function v(w){return w&&w.__esModule?w:{default:w}}function x(w,N,T){return N in w?Object.defineProperty(w,N,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[N]=T,w}function m(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function y(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function g(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var p=function(w){g(N,w);function N(){return m(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"format",value:function(S,E){S===b.blotName&&!E?this.replaceWith(c.default.create(this.statics.scope)):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,S)}}]),N}(h.default);p.blotName="list-item",p.tagName="LI";var b=function(w){g(N,w),a(N,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",A=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&A.setAttribute("data-checked",S==="checked"),A}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(T){m(this,N);var S=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T)),E=function(C){if(C.target.parentNode===T){var _=S.statics.formats(T),k=c.default.find(C.target);_==="checked"?k.format("list","unchecked"):_==="unchecked"&&k.format("list","checked")}};return T.addEventListener("touchstart",E),T.addEventListener("mousedown",E),S}return a(N,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof p)o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,S,E);else{var A=E==null?this.length():E.offset(this),C=this.split(A);C.parent.insertBefore(S,C)}}},{key:"optimize",value:function(S){o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=c.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,S)}}]),N}(f.default);b.blotName="list",b.scope=c.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[p],r.ListItem=p,r.default=b},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(56),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function h(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var d=function(f){h(v,f);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(m,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,g){return y&&x(m.prototype,y),g&&x(m,g),m}}(),o=function x(m,y,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,y);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:x(b,y,g)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(g)}},l=s(6),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function d(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function f(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var v=function(x){f(m,x);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),m}(c.default);v.blotName="script",v.tagName=["SUB","SUP"],r.default=v},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(6),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function h(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var d=function(f){h(v,f);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(6),o=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function h(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var d=function(f){h(v,f);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(g,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,p,b){return p&&y(g.prototype,p),b&&y(g,b),g}}(),o=function y(g,p,b){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,p);if(w===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,p,b)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(b)}},l=s(0),c=h(l),u=s(27);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function f(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function v(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var x=["alt","height","width"],m=function(y){v(g,y);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(b,w){x.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b);return typeof b=="string"&&w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return x.reduce(function(w,N){return b.hasAttribute(N)&&(w[N]=b.getAttribute(N)),w},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),g}(c.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(g,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,p,b){return p&&y(g.prototype,p),b&&y(g,b),g}}(),o=function y(g,p,b){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,p);if(w===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,p,b)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(b)}},l=s(4),c=s(27),u=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function f(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function v(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var x=["height","width"],m=function(y){v(g,y);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(b,w){x.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return x.reduce(function(w,N){return b.hasAttribute(N)&&(w[N]=b.getAttribute(N)),w},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),g}(l.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function b(w,N){for(var T=0;T<N.length;T++){var S=N[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,N,T){return N&&b(w.prototype,N),T&&b(w,T),w}}(),o=function b(w,N,T){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,N);if(S===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:b(E,N,T)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(T)}},l=s(35),c=v(l),u=s(5),h=v(u),d=s(9),f=v(d);function v(b){return b&&b.__esModule?b:{default:b}}function x(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function m(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function y(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){y(w,b);function w(){return x(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(T){var S=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",T)),S}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),w}(c.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(b){y(w,b),a(w,null,[{key:"register",value:function(){h.default.register(g,!0)}}]);function w(){x(this,w);var N=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return w}(f.default);r.FormulaBlot=g,r.default=p},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function T(S,E){for(var A=0;A<E.length;A++){var C=E[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,E,A){return E&&T(S.prototype,E),A&&T(S,A),S}}(),o=function T(S,E,A){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,E);if(C===void 0){var _=Object.getPrototypeOf(S);return _===null?void 0:T(_,E,A)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(A)}},l=s(0),c=m(l),u=s(5),h=m(u),d=s(9),f=m(d),v=s(13),x=m(v);function m(T){return T&&T.__esModule?T:{default:T}}function y(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function g(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function p(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var b=function(T){p(S,T);function S(){return y(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),S}(x.default);b.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(T){p(S,T),a(S,null,[{key:"register",value:function(){h.default.register(w,!0),h.default.register(b,!0)}}]);function S(E,A){y(this,S);var C=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,A));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return C.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){C.highlight(),_=null},C.options.interval)}),C.highlight(),C}return a(S,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(_){_.highlight(A.options.highlight)}),this.quill.update(h.default.sources.SILENT),C!=null&&this.quill.setSelection(C,h.default.sources.SILENT)}}}]),S}(f.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var S=window.hljs.highlightAuto(T);return S.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=w,r.default=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function S(E,A,C){E===null&&(E=Function.prototype);var _=Object.getOwnPropertyDescriptor(E,A);if(_===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,A,C)}else{if("value"in _)return _.value;var P=_.get;return P===void 0?void 0:P.call(C)}},o=function(){function S(E,A){for(var C=0;C<A.length;C++){var _=A[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,A,C){return A&&S(E.prototype,A),C&&S(E,C),E}}(),l=s(3),c=y(l),u=s(8),h=y(u),d=s(43),f=y(d),v=s(15),x=s(41),m=y(x);function y(S){return S&&S.__esModule?S:{default:S}}function g(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function p(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function b(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(S){b(E,S);function E(A,C){g(this,E),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=w);var _=p(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,C));return _.quill.container.classList.add("ql-bubble"),_}return o(E,[{key:"extendToolbar",value:function(C){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),m.default)}}]),E}(f.default);N.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(S){b(E,S);function E(A,C){g(this,E);var _=p(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,C));return _.quill.on(h.default.events.EDITOR_CHANGE,function(k,P,M,B){if(k===h.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&B===h.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var U=_.quill.getLines(P.index,P.length);if(U.length===1)_.position(_.quill.getBounds(P));else{var L=U[U.length-1],F=_.quill.getIndex(L),R=Math.min(L.length()-1,P.index+P.length-F),O=_.quill.getBounds(new v.Range(F,R));_.position(O)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return o(E,[{key:"listen",value:function(){var C=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var _=C.quill.getSelection();_!=null&&C.position(C.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var _=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,C),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",_===0)return _;k.style.marginLeft=-1*_-k.offsetWidth/2+"px"}}]),E}(d.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=T,r.default=N},function(n,r,s){n.exports=s(63)}]).default})})(rP);var OQ=rP.exports,DQ=Ln&&Ln.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)s.hasOwnProperty(a)&&(r[a]=s[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Af=Ln&&Ln.__assign||function(){return Af=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Af.apply(this,arguments)},RQ=Ln&&Ln.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,s++)r[s]=a[o];return r},Kh=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Or=Kh(j),MQ=Kh(Fi),Ml=Kh(PQ),Uj=Kh(OQ),IQ=function(e){DQ(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(a,o,l,c){var u,h,d,f;a==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,o,c,r.unprivilegedEditor):a==="selection-change"&&((f=(d=r).onEditorChangeSelection)===null||f===void 0||f.call(d,o,c,r.unprivilegedEditor))};var s=r.isControlled()?n.value:n.defaultValue;return r.value=s??"",r}return t.prototype.validateProps=function(n){var r;if(Or.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Or.default.Children.count(n.children)){var s=Or.default.Children.only(n.children);if(((r=s)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var s=this,a;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),l=(a=n.value,a??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),RQ(this.cleanProps,this.dirtyProps).some(function(c){return!Ml.default(n[c],s.props[c])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(s){return!Ml.default(n[s],r.props[s])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var s=this;if(this.editor&&this.shouldComponentRegenerate(n)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var l=this.regenerationSnapshot,a=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),qj(function(){return s.setEditorSelection(u,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var s=new Uj.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(s,r.tabIndex),this.hookEditor(s),s},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Ml.default(n.ops,r.ops):Ml.default(n,r)},t.prototype.setEditorContents=function(n,r){var s=this;this.value=r;var a=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),qj(function(){return s.setEditorSelection(n,a)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var s=n.getLength();r.index=Math.max(0,Math.min(r.index,s-1)),r.length=Math.max(0,Math.min(r.length,s-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var s,a;!((a=(s=n)===null||s===void 0?void 0:s.scroll)===null||a===void 0)&&a.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=MQ.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,s=r.children,a=r.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){n.editingArea=c}};return Or.default.Children.count(s)?Or.default.cloneElement(Or.default.Children.only(s),l):a?Or.default.createElement("pre",Af({},l)):Or.default.createElement("div",Af({},l))},t.prototype.render=function(){var n;return Or.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,s,a){var o,l;if(this.editor){var c=this.isDelta(this.value)?a.getContents():a.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,n,r,s,a))}},t.prototype.onEditorChangeSelection=function(n,r,s){var a,o,l,c,u,h;if(this.editor){var d=this.getEditorSelection(),f=!d&&n,v=d&&!n;Ml.default(n,d)||(this.selection=n,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,n,r,s),f?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,n,r,s):v&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,d,r,s)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Uj.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Or.default.Component);function qj(e){Promise.resolve().then(e)}var LQ=IQ;const FQ=bv(LQ);function $Q(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState(!1),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(""),[h,d]=j.useState(null),[f,v]=j.useState(""),x=j.useRef(null),[m,y]=j.useState({title:"",categoryId:0,imageUrl:"",content:"",isPublished:!1});j.useEffect(()=>{localStorage.getItem("@app:admin_token")||e("/admin/login")},[e]);const g=localStorage.getItem("@app:admin_token")||"",{data:p=[]}=Ue({queryKey:["/api/categories"]}),{data:b=[],isLoading:w}=Ue({queryKey:["/api/admin/articles"],queryFn:async()=>{const L=await fetch("/api/admin/articles",{headers:{Authorization:`Bearer ${g}`}});if(!L.ok)throw new Error("Failed to fetch articles");return L.json()}}),N=Se({mutationFn:async L=>{let F=L.imageUrl;if(h){const O=new FormData;O.append("image",h);const D=await fetch("/api/admin/upload/article-image",{method:"POST",headers:{Authorization:`Bearer ${g}`},body:O});if(!D.ok)throw new Error("Image upload failed");F=(await D.json()).imageUrl}const R=await fetch("/api/admin/articles",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({...L,imageUrl:F})});if(!R.ok)throw new Error("Failed to create article");return R.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/articles"]}),ve.invalidateQueries({queryKey:["/api/articles"]}),t({title:"Article created successfully"}),r(!1),A()},onError:()=>{t({title:"Failed to create article",variant:"destructive"})}}),T=Se({mutationFn:async({id:L,data:F})=>{let R=F.imageUrl;if(h){const D=new FormData;D.append("image",h);const $=await fetch("/api/admin/upload/article-image",{method:"POST",headers:{Authorization:`Bearer ${g}`},body:D});if(!$.ok)throw new Error("Image upload failed");R=(await $.json()).imageUrl}const O=await fetch(`/api/admin/articles/${L}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({...F,imageUrl:R})});if(!O.ok)throw new Error("Failed to update article");return O.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/articles"]}),ve.invalidateQueries({queryKey:["/api/articles"]}),t({title:"Article updated successfully"}),r(!1),A()},onError:()=>{t({title:"Failed to update article",variant:"destructive"})}}),S=Se({mutationFn:async L=>{const F=await fetch(`/api/admin/articles/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`}});if(!F.ok)throw new Error("Failed to delete article");return F.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/articles"]}),ve.invalidateQueries({queryKey:["/api/articles"]}),t({title:"Article deleted successfully"})},onError:()=>{t({title:"Failed to delete article",variant:"destructive"})}}),E=Se({mutationFn:async L=>{const F=await fetch("/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({name:L})});if(!F.ok)throw new Error("Failed to create category");return F.json()},onSuccess:L=>{ve.invalidateQueries({queryKey:["/api/categories"]}),t({title:"Category created successfully"}),y({...m,categoryId:L.id}),a(!1),u("")},onError:()=>{t({title:"Failed to create category",variant:"destructive"})}}),A=()=>{l(null),y({title:"",categoryId:0,imageUrl:"",content:"",isPublished:!1}),d(null),v(""),x.current&&(x.current.value="")},C=L=>{var R;const F=(R=L.target.files)==null?void 0:R[0];if(F){d(F);const O=new FileReader;O.onloadend=()=>{v(O.result)},O.readAsDataURL(F)}},_=L=>{if(L.preventDefault(),!m.categoryId){t({title:"Please select a category",variant:"destructive"});return}o?T.mutate({id:o.id,data:m}):N.mutate(m)},k=L=>{l(L),y({title:L.title,categoryId:L.categoryId,imageUrl:L.imageUrl,content:L.content,isPublished:L.isPublished}),v(L.imageUrl),r(!0)},P=()=>{A(),r(!0)},M=L=>{confirm("Are you sure you want to delete this article?")&&S.mutate(L)},B=()=>{c.trim()&&E.mutate(c.trim())},U=b.map(L=>{var F;return{...L,categoryName:((F=p.find(R=>R.id===L.categoryId))==null?void 0:F.name)||"Unknown"}});return i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Articles"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage article content and publications"})]}),i.jsxs(ct,{open:n,onOpenChange:r,children:[i.jsx(Xg,{asChild:!0,children:i.jsxs(ee,{onClick:P,style:{backgroundColor:"#703DFA"},"data-testid":"button-add-article",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Article"]})}),i.jsxs(it,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(ut,{children:i.jsx(dt,{children:o?"Edit Article":"Add New Article"})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Title"}),i.jsx(Ae,{value:m.title,onChange:L=>y({...m,title:L.target.value}),placeholder:"Article title",required:!0,"data-testid":"input-article-title"})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Category"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Gt,{value:m.categoryId.toString(),onValueChange:L=>y({...m,categoryId:parseInt(L)}),children:[i.jsx(Ut,{className:"flex-1","data-testid":"select-category",children:i.jsx(Yt,{placeholder:"Select category"})}),i.jsx(qt,{children:p.map(L=>i.jsx(et,{value:L.id.toString(),children:L.name},L.id))})]}),i.jsxs(ee,{type:"button",variant:"outline",onClick:()=>a(!0),"data-testid":"button-add-category",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Category"]})]})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Image"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ae,{type:"file",accept:"image/*",onChange:C,ref:x,"data-testid":"input-article-image"}),f&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:f,alt:"Preview",className:"w-full h-48 object-cover rounded-md"})})]})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Content"}),i.jsx("div",{className:"border rounded-md",children:i.jsx(FQ,{theme:"snow",value:m.content,onChange:L=>y({...m,content:L}),modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["link"],["clean"]]},style:{minHeight:"200px"}})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{children:"Published"}),i.jsx(_a,{checked:m.isPublished,onCheckedChange:L=>y({...m,isPublished:L}),"data-testid":"switch-article-published"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:()=>{r(!1),A()},children:"Cancel"}),i.jsx(ee,{type:"submit",style:{backgroundColor:"#703DFA"},disabled:N.isPending||T.isPending,"data-testid":"button-submit-article",children:N.isPending||T.isPending?"Saving...":o?"Update Article":"Create Article"})]})]})]})]})]})}),i.jsx(ct,{open:s,onOpenChange:a,children:i.jsxs(it,{className:"max-w-md",children:[i.jsx(ut,{children:i.jsx(dt,{children:"Create New Category"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Category Name"}),i.jsx(Ae,{value:c,onChange:L=>u(L.target.value),placeholder:"e.g., Nutrition","data-testid":"input-category-name"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:()=>{a(!1),u("")},children:"Cancel"}),i.jsx(ee,{onClick:B,style:{backgroundColor:"#703DFA"},disabled:E.isPending||!c.trim(),"data-testid":"button-submit-category",children:E.isPending?"Creating...":"Create Category"})]})]})]})}),i.jsx(we,{className:"bg-white border border-gray-200 p-6",children:w?i.jsx("p",{className:"text-center text-gray-500 py-8",children:"Loading articles..."}):b.length===0?i.jsx("p",{className:"text-center text-gray-500 py-8",children:'No articles yet. Click "Add Article" to create one.'}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Title"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Category"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Created"}),i.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"Actions"})]})}),i.jsx("tbody",{children:U.map(L=>i.jsxs("tr",{className:"border-b border-gray-100","data-testid":`row-article-${L.id}`,children:[i.jsx("td",{className:"py-3 px-4 text-gray-900",children:L.title}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:L.categoryName}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.isPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.isPublished?"Published":"Draft"})}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(L.createdAt).toLocaleDateString()}),i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>k(L),"data-testid":`button-edit-article-${L.id}`,children:i.jsx(on,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>M(L.id),"data-testid":`button-delete-article-${L.id}`,children:i.jsx($t,{className:"w-4 h-4 text-red-600"})})]})})]},L.id))})]})})})]})}function BQ(){return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Music Journaling"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage music and journaling content"})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"Music journaling management coming soon..."})})]})}function VQ(){return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project of Heart"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage Project of Heart content"})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"Project of Heart management coming soon..."})})]})}var fv=["Enter"," "],UQ=["ArrowDown","PageUp","Home"],sP=["ArrowUp","PageDown","End"],qQ=[...UQ,...sP],zQ={ltr:[...fv,"ArrowRight"],rtl:[...fv,"ArrowLeft"]},WQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nu="Menu",[Bc,HQ,KQ]=fh(Nu),[La,iP]=en(Nu,[KQ,fl,pl]),Qh=fl(),aP=pl(),[QQ,Fa]=La(Nu),[GQ,Su]=La(Nu),oP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=Qh(t),[c,u]=j.useState(null),h=j.useRef(!1),d=un(a),f=xu(s);return j.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx(T_,{...l,children:i.jsx(QQ,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:i.jsx(GQ,{scope:t,onClose:j.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};oP.displayName=Nu;var YQ="MenuAnchor",i0=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Qh(n);return i.jsx(Wy,{...s,...r,ref:t})});i0.displayName=YQ;var a0="MenuPortal",[ZQ,lP]=La(a0,{forceMount:void 0}),cP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Fa(a0,t);return i.jsx(ZQ,{scope:t,forceMount:n,children:i.jsx(On,{present:n||a.open,children:i.jsx(du,{asChild:!0,container:s,children:r})})})};cP.displayName=a0;var rr="MenuContent",[XQ,o0]=La(rr),uP=j.forwardRef((e,t)=>{const n=lP(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Fa(rr,e.__scopeMenu),o=Su(rr,e.__scopeMenu);return i.jsx(Bc.Provider,{scope:e.__scopeMenu,children:i.jsx(On,{present:r||a.open,children:i.jsx(Bc.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(JQ,{...s,ref:t}):i.jsx(eG,{...s,ref:t})})})})}),JQ=j.forwardRef((e,t)=>{const n=Fa(rr,e.__scopeMenu),r=j.useRef(null),s=Ge(t,r);return j.useEffect(()=>{const a=r.current;if(a)return Ix(a)},[]),i.jsx(l0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),eG=j.forwardRef((e,t)=>{const n=Fa(rr,e.__scopeMenu);return i.jsx(l0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),tG=ba("MenuContent.ScrollLock"),l0=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:f,onDismiss:v,disableOutsideScroll:x,...m}=e,y=Fa(rr,n),g=Su(rr,n),p=Qh(n),b=aP(n),w=HQ(n),[N,T]=j.useState(null),S=j.useRef(null),E=Ge(t,S,y.onContentChange),A=j.useRef(0),C=j.useRef(""),_=j.useRef(0),k=j.useRef(null),P=j.useRef("right"),M=j.useRef(0),B=x?Lh:j.Fragment,U=x?{as:tG,allowPinchZoom:!0}:void 0,L=R=>{var z,Z;const O=C.current+R,D=w().filter(X=>!X.disabled),$=document.activeElement,q=(z=D.find(X=>X.ref.current===$))==null?void 0:z.textValue,K=D.map(X=>X.textValue),W=hG(K,O,q),V=(Z=D.find(X=>X.textValue===W))==null?void 0:Z.ref.current;(function X(te){C.current=te,window.clearTimeout(A.current),te!==""&&(A.current=window.setTimeout(()=>X(""),1e3))})(O),V&&setTimeout(()=>V.focus())};j.useEffect(()=>()=>window.clearTimeout(A.current),[]),Mx();const F=j.useCallback(R=>{var D,$;return P.current===((D=k.current)==null?void 0:D.side)&&mG(R,($=k.current)==null?void 0:$.area)},[]);return i.jsx(XQ,{scope:n,searchRef:C,onItemEnter:j.useCallback(R=>{F(R)&&R.preventDefault()},[F]),onItemLeave:j.useCallback(R=>{var O;F(R)||((O=S.current)==null||O.focus(),T(null))},[F]),onTriggerLeave:j.useCallback(R=>{F(R)&&R.preventDefault()},[F]),pointerGraceTimerRef:_,onPointerGraceIntentChange:j.useCallback(R=>{k.current=R},[]),children:i.jsx(B,{...U,children:i.jsx(Mh,{asChild:!0,trapped:s,onMountAutoFocus:me(a,R=>{var O;R.preventDefault(),(O=S.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(ol,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:f,onDismiss:v,children:i.jsx(Tx,{asChild:!0,...b,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:T,onEntryFocus:me(c,R=>{g.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Hy,{role:"menu","aria-orientation":"vertical","data-state":_P(y.open),"data-radix-menu-content":"",dir:g.dir,...p,...m,ref:E,style:{outline:"none",...m.style},onKeyDown:me(m.onKeyDown,R=>{const D=R.target.closest("[data-radix-menu-content]")===R.currentTarget,$=R.ctrlKey||R.altKey||R.metaKey,q=R.key.length===1;D&&(R.key==="Tab"&&R.preventDefault(),!$&&q&&L(R.key));const K=S.current;if(R.target!==K||!qQ.includes(R.key))return;R.preventDefault();const V=w().filter(z=>!z.disabled).map(z=>z.ref.current);sP.includes(R.key)&&V.reverse(),dG(V)}),onBlur:me(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(A.current),C.current="")}),onPointerMove:me(e.onPointerMove,Vc(R=>{const O=R.target,D=M.current!==R.clientX;if(R.currentTarget.contains(O)&&D){const $=R.clientX>M.current?"right":"left";P.current=$,M.current=R.clientX}}))})})})})})})});uP.displayName=rr;var nG="MenuGroup",c0=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Pe.div,{role:"group",...r,ref:t})});c0.displayName=nG;var rG="MenuLabel",dP=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Pe.div,{...r,ref:t})});dP.displayName=rG;var Pf="MenuItem",zj="menu.itemSelect",Gh=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=j.useRef(null),o=Su(Pf,e.__scopeMenu),l=o0(Pf,e.__scopeMenu),c=Ge(t,a),u=j.useRef(!1),h=()=>{const d=a.current;if(!n&&d){const f=new CustomEvent(zj,{bubbles:!0,cancelable:!0});d.addEventListener(zj,v=>r==null?void 0:r(v),{once:!0}),ky(d,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(fP,{...s,ref:c,disabled:n,onClick:me(e.onClick,h),onPointerDown:d=>{var f;(f=e.onPointerDown)==null||f.call(e,d),u.current=!0},onPointerUp:me(e.onPointerUp,d=>{var f;u.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:me(e.onKeyDown,d=>{const f=l.searchRef.current!=="";n||f&&d.key===" "||fv.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Gh.displayName=Pf;var fP=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=o0(Pf,n),l=aP(n),c=j.useRef(null),u=Ge(t,c),[h,d]=j.useState(!1),[f,v]=j.useState("");return j.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[a.children]),i.jsx(Bc.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:i.jsx(Ax,{asChild:!0,...l,focusable:!r,children:i.jsx(Pe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:me(e.onPointerMove,Vc(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Vc(x=>o.onItemLeave(x))),onFocus:me(e.onFocus,()=>d(!0)),onBlur:me(e.onBlur,()=>d(!1))})})})}),sG="MenuCheckboxItem",hP=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(yP,{scope:e.__scopeMenu,checked:n,children:i.jsx(Gh,{role:"menuitemcheckbox","aria-checked":Of(n)?"mixed":n,...s,ref:t,"data-state":d0(n),onSelect:me(s.onSelect,()=>r==null?void 0:r(Of(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hP.displayName=sG;var pP="MenuRadioGroup",[iG,aG]=La(pP,{value:void 0,onValueChange:()=>{}}),mP=j.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=un(r);return i.jsx(iG,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(c0,{...s,ref:t})})});mP.displayName=pP;var gP="MenuRadioItem",vP=j.forwardRef((e,t)=>{const{value:n,...r}=e,s=aG(gP,e.__scopeMenu),a=n===s.value;return i.jsx(yP,{scope:e.__scopeMenu,checked:a,children:i.jsx(Gh,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":d0(a),onSelect:me(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});vP.displayName=gP;var u0="MenuItemIndicator",[yP,oG]=La(u0,{checked:!1}),xP=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=oG(u0,n);return i.jsx(On,{present:r||Of(a.checked)||a.checked===!0,children:i.jsx(Pe.span,{...s,ref:t,"data-state":d0(a.checked)})})});xP.displayName=u0;var lG="MenuSeparator",bP=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});bP.displayName=lG;var cG="MenuArrow",wP=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Qh(n);return i.jsx(Ky,{...s,...r,ref:t})});wP.displayName=cG;var uG="MenuSub",[IJ,jP]=La(uG),Ql="MenuSubTrigger",NP=j.forwardRef((e,t)=>{const n=Fa(Ql,e.__scopeMenu),r=Su(Ql,e.__scopeMenu),s=jP(Ql,e.__scopeMenu),a=o0(Ql,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},h=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>h,[h]),j.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),i.jsx(i0,{asChild:!0,...u,children:i.jsx(fP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_P(n.open),...e,ref:dh(t,s.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Vc(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:me(e.onPointerLeave,Vc(d=>{var v,x;h();const f=(v=n.content)==null?void 0:v.getBoundingClientRect();if(f){const m=(x=n.content)==null?void 0:x.dataset.side,y=m==="right",g=y?-5:5,p=f[y?"left":"right"],b=f[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:p,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:p,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,d=>{var v;const f=a.searchRef.current!=="";e.disabled||f&&d.key===" "||zQ[r.dir].includes(d.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),d.preventDefault())})})})});NP.displayName=Ql;var SP="MenuSubContent",kP=j.forwardRef((e,t)=>{const n=lP(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Fa(rr,e.__scopeMenu),o=Su(rr,e.__scopeMenu),l=jP(SP,e.__scopeMenu),c=j.useRef(null),u=Ge(t,c);return i.jsx(Bc.Provider,{scope:e.__scopeMenu,children:i.jsx(On,{present:r||a.open,children:i.jsx(Bc.Slot,{scope:e.__scopeMenu,children:i.jsx(l0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:me(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:me(e.onKeyDown,h=>{var v;const d=h.currentTarget.contains(h.target),f=WQ[o.dir].includes(h.key);d&&f&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});kP.displayName=SP;function _P(e){return e?"open":"closed"}function Of(e){return e==="indeterminate"}function d0(e){return Of(e)?"indeterminate":e?"checked":"unchecked"}function dG(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function fG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function hG(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=fG(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function pG(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,h=t[o].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function mG(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return pG(n,t)}function Vc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var gG=oP,vG=i0,yG=cP,xG=uP,bG=c0,wG=dP,jG=Gh,NG=hP,SG=mP,kG=vP,_G=xP,CG=bP,EG=wP,TG=NP,AG=kP,f0="DropdownMenu",[PG,LJ]=en(f0,[iP]),wn=iP(),[OG,CP]=PG(f0),EP=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=wn(t),u=j.useRef(null),[h=!1,d]=Nr({prop:s,defaultProp:a,onChange:o});return i.jsx(OG,{scope:t,triggerId:br(),triggerRef:u,contentId:br(),open:h,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:l,children:i.jsx(gG,{...c,open:h,onOpenChange:d,dir:r,modal:l,children:n})})};EP.displayName=f0;var TP="DropdownMenuTrigger",AP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=CP(TP,n),o=wn(n);return i.jsx(vG,{asChild:!0,...o,children:i.jsx(Pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:dh(t,a.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});AP.displayName=TP;var DG="DropdownMenuPortal",PP=e=>{const{__scopeDropdownMenu:t,...n}=e,r=wn(t);return i.jsx(yG,{...r,...n})};PP.displayName=DG;var OP="DropdownMenuContent",DP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=CP(OP,n),a=wn(n),o=j.useRef(!1);return i.jsx(xG,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DP.displayName=OP;var RG="DropdownMenuGroup",MG=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(bG,{...s,...r,ref:t})});MG.displayName=RG;var IG="DropdownMenuLabel",RP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(wG,{...s,...r,ref:t})});RP.displayName=IG;var LG="DropdownMenuItem",MP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(jG,{...s,...r,ref:t})});MP.displayName=LG;var FG="DropdownMenuCheckboxItem",IP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(NG,{...s,...r,ref:t})});IP.displayName=FG;var $G="DropdownMenuRadioGroup",BG=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(SG,{...s,...r,ref:t})});BG.displayName=$G;var VG="DropdownMenuRadioItem",LP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(kG,{...s,...r,ref:t})});LP.displayName=VG;var UG="DropdownMenuItemIndicator",FP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(_G,{...s,...r,ref:t})});FP.displayName=UG;var qG="DropdownMenuSeparator",$P=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(CG,{...s,...r,ref:t})});$P.displayName=qG;var zG="DropdownMenuArrow",WG=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(EG,{...s,...r,ref:t})});WG.displayName=zG;var HG="DropdownMenuSubTrigger",BP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(TG,{...s,...r,ref:t})});BP.displayName=HG;var KG="DropdownMenuSubContent",VP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wn(n);return i.jsx(AG,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VP.displayName=KG;var QG=EP,GG=AP,YG=PP,UP=DP,qP=RP,zP=MP,WP=IP,HP=LP,KP=FP,QP=$P,GP=BP,YP=VP;const ZP=QG,XP=GG,ZG=j.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(GP,{ref:s,className:Ee("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,i.jsx(Cn,{className:"ml-auto"})]}));ZG.displayName=GP.displayName;const XG=j.forwardRef(({className:e,...t},n)=>i.jsx(YP,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));XG.displayName=YP.displayName;const h0=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(YG,{children:i.jsx(UP,{ref:r,sideOffset:t,className:Ee("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));h0.displayName=UP.displayName;const ms=j.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(zP,{ref:r,className:Ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ms.displayName=zP.displayName;const JG=j.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(WP,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(KP,{children:i.jsx(Jn,{className:"h-4 w-4"})})}),t]}));JG.displayName=WP.displayName;const eY=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(HP,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(KP,{children:i.jsx(z2,{className:"h-2 w-2 fill-current"})})}),t]}));eY.displayName=HP.displayName;const tY=j.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(qP,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));tY.displayName=qP.displayName;const nY=j.forwardRef(({className:e,...t},n)=>i.jsx(QP,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));nY.displayName=QP.displayName;const rY=mh("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function tr({className:e,variant:t,...n}){return i.jsx("div",{className:Ee(rY({variant:t}),e),...n})}function sY(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState(""),[s,a]=j.useState("ALL"),[o,l]=j.useState(1),[c]=j.useState(20),[u,h]=j.useState(!1),[d,f]=j.useState(null),[v,x]=j.useState(null),[m,y]=j.useState(null),[g,p]=j.useState(!1),[b,w]=j.useState(null),[N,T]=j.useState(""),[S,E]=j.useState(null),[A,C]=j.useState(!1),[_,k]=j.useState({name:"",email:"",phone:"",password:"",programCode:"",status:"active"});j.useEffect(()=>{localStorage.getItem("@app:admin_token")||e("/admin/login")},[e]);const P=localStorage.getItem("@app:admin_token")||"",{data:M=[]}=Ue({queryKey:["/admin/v1/programs"],queryFn:async()=>{const Y=await fetch("/admin/v1/programs",{headers:{Authorization:`Bearer ${P}`}});if(!Y.ok)throw new Error("Failed to fetch programs");return Y.json()}}),{data:B,isLoading:U}=Ue({queryKey:["/admin/v1/students",n,s,o,c],queryFn:async()=>{const Y=new URLSearchParams({page:o.toString(),limit:c.toString()});n&&Y.set("search",n),s&&s!=="ALL"&&Y.set("program",s);const de=await fetch(`/admin/v1/students?${Y}`,{headers:{Authorization:`Bearer ${P}`}});if(!de.ok)throw new Error("Failed to fetch students");return de.json()}}),L=Se({mutationFn:async Y=>{const de=await fetch("/admin/v1/students",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(Y)});if(!de.ok){const le=await de.json();throw new Error(le.error||"Failed to create student")}return de.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/students"]}),t({title:"Student added successfully"}),h(!1),D()},onError:Y=>{t({title:"Error",description:Y.message,variant:"destructive"})}}),F=Se({mutationFn:async({id:Y,data:de})=>{const le=await fetch(`/admin/v1/students/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(de)});if(!le.ok)throw new Error("Failed to update student");return le.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/students"]}),t({title:"Student updated successfully"}),f(null),D()},onError:()=>{t({title:"Error",description:"Failed to update student",variant:"destructive"})}}),R=Se({mutationFn:async({id:Y,status:de})=>{const le=await fetch(`/admin/v1/students/${Y}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({status:de})});if(!le.ok)throw new Error("Failed to update status");return le.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/students"]}),t({title:"Status updated successfully"}),y(null)},onError:()=>{t({title:"Error",description:"Failed to update status",variant:"destructive"})}}),O=Se({mutationFn:async Y=>{const de=await fetch(`/admin/v1/students/${Y}`,{method:"DELETE",headers:{Authorization:`Bearer ${P}`}});if(!de.ok)throw new Error("Failed to delete student");return de.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/students"]}),t({title:"Student deleted successfully"}),x(null)},onError:()=>{t({title:"Error",description:"Failed to delete student",variant:"destructive"})}}),D=()=>{k({name:"",email:"",phone:"",password:"",programCode:"",status:"active"})},$=Y=>{f(Y),k({name:Y.name,email:Y.email,phone:Y.phone||"",password:"",programCode:Y.programs[0]||"",status:Y.status})},q=()=>{d?F.mutate({id:d.id,data:{name:_.name,email:_.email,phone:_.phone,status:_.status,programCode:_.programCode}}):L.mutate(_)},K=Y=>Y?new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",W=(B==null?void 0:B.data)||[],V=(B==null?void 0:B.pagination)||{total:0,page:1,pages:1},z=(V.page-1)*c+1,Z=Math.min(V.page*c,V.total),X=()=>{p(!1),w(null),T(""),E(null)},te=async()=>{try{const Y=await fetch("/api/admin/students/sample-csv",{headers:{Authorization:`Bearer ${P}`}});if(!Y.ok)throw new Error("Failed to download sample");const de=await Y.blob(),le=window.URL.createObjectURL(de),Ce=document.createElement("a");Ce.href=le,Ce.download="student_upload_sample.csv",document.body.appendChild(Ce),Ce.click(),window.URL.revokeObjectURL(le),document.body.removeChild(Ce)}catch{t({title:"Download Failed",description:"Could not download sample CSV",variant:"destructive"})}},oe=async()=>{if(!(!b||!N)){C(!0),E(null);try{const Y=new FormData;Y.append("file",b),Y.append("programId",N);const de=await fetch("/api/admin/students/bulk-upload",{method:"POST",headers:{Authorization:`Bearer ${P}`},body:Y}),le=await de.json();if(!de.ok)throw new Error(le.error||"Upload failed");E(le),ve.invalidateQueries({queryKey:["/admin/v1/students"]}),le.created>0&&t({title:"Upload Complete",description:`Successfully created ${le.created} student(s)`})}catch(Y){t({title:"Upload Failed",description:Y.message||"Failed to process bulk upload",variant:"destructive"})}finally{C(!1)}}};return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Students"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage student accounts and programs"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ee,{variant:"outline",onClick:()=>p(!0),"data-testid":"button-bulk-upload",children:[i.jsx(vs,{className:"w-4 h-4 mr-2"}),"Bulk Upload"]}),i.jsxs(ee,{onClick:()=>h(!0),className:"bg-brand hover:bg-brand/90","data-testid":"button-add-student",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Student"]})]})]}),i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(Ae,{placeholder:"Search by name or email...",value:n,onChange:Y=>{r(Y.target.value),l(1)},className:"pl-10","data-testid":"input-search"})]}),i.jsxs(Gt,{value:s,onValueChange:Y=>{a(Y),l(1)},children:[i.jsx(Ut,{className:"w-[180px]","data-testid":"select-program-filter",children:i.jsx(Yt,{placeholder:"All Programs"})}),i.jsxs(qt,{children:[i.jsx(et,{value:"ALL",children:"All Programs"}),M.map(Y=>i.jsxs(et,{value:Y.code,children:[Y.code," - ",Y.name]},Y.id))]})]})]}),U?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-500",children:"Loading students..."})]}):W.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"No students found"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full","data-testid":"table-students",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Name"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Email"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Phone"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Program"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Last Login"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Created"}),i.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{children:W.map(Y=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-student-${Y.id}`,children:[i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-medium text-gray-900","data-testid":`text-student-name-${Y.id}`,children:Y.name})}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:Y.email}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:Y.phone||"-"}),i.jsx("td",{className:"py-3 px-4",children:Y.programs.length>0?i.jsx("div",{className:"flex flex-wrap gap-1",children:Y.programs.map(de=>i.jsx(tr,{variant:"secondary",className:"text-xs",children:de},de))}):i.jsx("span",{className:"text-gray-400",children:"-"})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(tr,{variant:Y.status==="active"?"default":"destructive",className:Y.status==="active"?"bg-green-100 text-green-700 hover:bg-green-100":"","data-testid":`badge-status-${Y.id}`,children:Y.status==="active"?"Active":"Blocked"})}),i.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:K(Y.lastLogin)}),i.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:K(Y.createdAt)}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(ZP,{children:[i.jsx(XP,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"icon","data-testid":`button-actions-${Y.id}`,children:i.jsx(W2,{className:"w-4 h-4"})})}),i.jsxs(h0,{align:"end",children:[i.jsxs(ms,{onClick:()=>$(Y),"data-testid":`button-edit-${Y.id}`,children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Edit"]}),Y.status==="active"?i.jsxs(ms,{onClick:()=>y({student:Y,newStatus:"blocked"}),className:"text-orange-600","data-testid":`button-block-${Y.id}`,children:[i.jsx(V2,{className:"w-4 h-4 mr-2"}),"Block"]}):i.jsxs(ms,{onClick:()=>y({student:Y,newStatus:"active"}),className:"text-green-600","data-testid":`button-unblock-${Y.id}`,children:[i.jsx(Py,{className:"w-4 h-4 mr-2"}),"Unblock"]}),i.jsxs(ms,{onClick:()=>x(Y),className:"text-red-600","data-testid":`button-delete-${Y.id}`,children:[i.jsx($t,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},Y.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:[i.jsxs("p",{className:"text-sm text-gray-600","data-testid":"text-pagination-info",children:["Showing ",z,"-",Z," of ",V.total," students"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>l(Y=>Math.max(1,Y-1)),disabled:o===1,"data-testid":"button-prev-page",children:i.jsx(vh,{className:"w-4 h-4"})}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",V.page," of ",V.pages]}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>l(Y=>Math.min(V.pages,Y+1)),disabled:o===V.pages,"data-testid":"button-next-page",children:i.jsx(Cn,{className:"w-4 h-4"})})]})]})]})]}),i.jsx(ct,{open:u||!!d,onOpenChange:Y=>{Y||(h(!1),f(null),D())},children:i.jsxs(it,{className:"sm:max-w-md","data-testid":"dialog-student-form",children:[i.jsx(ut,{children:i.jsx(dt,{children:d?"Edit Student":"Add New Student"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"name",children:"Full Name *"}),i.jsx(Ae,{id:"name",value:_.name,onChange:Y=>k({..._,name:Y.target.value}),placeholder:"Enter full name","data-testid":"input-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"email",children:"Email *"}),i.jsx(Ae,{id:"email",type:"email",value:_.email,onChange:Y=>k({..._,email:Y.target.value}),placeholder:"Enter email address","data-testid":"input-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"phone",children:"Phone"}),i.jsx(Ae,{id:"phone",value:_.phone,onChange:Y=>k({..._,phone:Y.target.value}),placeholder:"Enter phone number","data-testid":"input-phone"})]}),!d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"password",children:"Password"}),i.jsx(Ae,{id:"password",type:"password",value:_.password,onChange:Y=>k({..._,password:Y.target.value}),placeholder:"Leave empty for default (User@123)","data-testid":"input-password"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"program",children:"Program"}),i.jsxs(Gt,{value:_.programCode,onValueChange:Y=>k({..._,programCode:Y}),children:[i.jsx(Ut,{"data-testid":"select-program",children:i.jsx(Yt,{placeholder:"Select program"})}),i.jsx(qt,{children:M.map(Y=>i.jsxs(et,{value:Y.code,children:[Y.code," - ",Y.name]},Y.id))})]})]}),d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"status",children:"Status"}),i.jsxs(Gt,{value:_.status,onValueChange:Y=>k({..._,status:Y}),children:[i.jsx(Ut,{"data-testid":"select-status",children:i.jsx(Yt,{placeholder:"Select status"})}),i.jsxs(qt,{children:[i.jsx(et,{value:"active",children:"Active"}),i.jsx(et,{value:"blocked",children:"Blocked"})]})]})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>{h(!1),f(null),D()},"data-testid":"button-cancel",children:"Cancel"}),i.jsx(ee,{onClick:q,disabled:!_.name||!_.email||L.isPending||F.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-submit",children:L.isPending||F.isPending?"Saving...":d?"Update":"Add Student"})]})]})}),i.jsx(Sa,{open:!!m,onOpenChange:Y=>!Y&&y(null),children:i.jsxs(Si,{"data-testid":"dialog-status-confirm",children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:(m==null?void 0:m.newStatus)==="blocked"?"Block Student":"Unblock Student"}),i.jsx(Ei,{children:(m==null?void 0:m.newStatus)==="blocked"?`Are you sure you want to block ${m==null?void 0:m.student.name}? They will not be able to log in.`:`Are you sure you want to unblock ${m==null?void 0:m.student.name}? They will be able to log in again.`})]}),i.jsxs(_i,{children:[i.jsx(Ai,{"data-testid":"button-status-cancel",children:"Cancel"}),i.jsx(Ti,{onClick:()=>{m&&R.mutate({id:m.student.id,status:m.newStatus})},className:(m==null?void 0:m.newStatus)==="blocked"?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700","data-testid":"button-status-confirm",children:(m==null?void 0:m.newStatus)==="blocked"?"Block":"Unblock"})]})]})}),i.jsx(Sa,{open:!!v,onOpenChange:Y=>!Y&&x(null),children:i.jsxs(Si,{"data-testid":"dialog-delete-confirm",children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:"Delete Student"}),i.jsxs(Ei,{children:["Are you sure you want to delete ",v==null?void 0:v.name,"? This action cannot be undone."]})]}),i.jsxs(_i,{children:[i.jsx(Ai,{"data-testid":"button-delete-cancel",children:"Cancel"}),i.jsx(Ti,{onClick:()=>{v&&O.mutate(v.id)},className:"bg-red-600 hover:bg-red-700","data-testid":"button-delete-confirm",children:"Delete"})]})]})}),i.jsx(ct,{open:g,onOpenChange:Y=>!Y&&X(),children:i.jsxs(it,{className:"max-w-lg","data-testid":"dialog-bulk-upload",children:[i.jsx(ut,{children:i.jsx(dt,{children:"Bulk Upload Students"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("button",{type:"button",onClick:te,className:"flex items-center text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-download-sample",children:[i.jsx(E3,{className:"w-4 h-4 mr-1"}),"Download Sample CSV"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"csvFile",children:"CSV File *"}),i.jsx(Ae,{id:"csvFile",type:"file",accept:".csv",onChange:Y=>{var le;const de=((le=Y.target.files)==null?void 0:le[0])||null;w(de),E(null)},className:"cursor-pointer","data-testid":"input-csv-file"}),b&&i.jsxs("p",{className:"text-sm text-gray-500",children:["Selected: ",b.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"bulkProgram",children:"Program *"}),i.jsxs(Gt,{value:N,onValueChange:T,children:[i.jsx(Ut,{"data-testid":"select-bulk-program",children:i.jsx(Yt,{placeholder:"Select program"})}),i.jsx(qt,{children:M.map(Y=>i.jsxs(et,{value:Y.id.toString(),children:[Y.code," - ",Y.name]},Y.id))})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"All students will be assigned to this program"})]}),S&&i.jsxs("div",{className:"space-y-3 p-4 rounded-lg bg-gray-50 border","data-testid":"bulk-upload-result",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Upload Results"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.totalRows}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total Rows"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.created}),i.jsx("p",{className:"text-xs text-gray-500",children:"Created"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:S.skipped}),i.jsx("p",{className:"text-xs text-gray-500",children:"Skipped"})]})]}),S.errors.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Errors:"}),i.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:S.errors.map((Y,de)=>i.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[i.jsx(U2,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:["Row ",Y.row,": ",Y.reason]})]},de))})]}),S.created>0&&S.skipped===0&&i.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 p-3 rounded",children:[i.jsx(q2,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"All students uploaded successfully!"})]})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:X,"data-testid":"button-bulk-cancel",children:S?"Close":"Cancel"}),!S&&i.jsx(ee,{onClick:oe,disabled:!b||!N||A,className:"bg-brand hover:bg-brand/90","data-testid":"button-bulk-submit",children:A?"Uploading...":"Upload"})]})]})})]})}var p0="Radio",[iY,JP]=en(p0),[aY,oY]=iY(p0),eO=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...h}=e,[d,f]=j.useState(null),v=Ge(t,y=>f(y)),x=j.useRef(!1),m=d?u||!!d.closest("form"):!0;return i.jsxs(aY,{scope:n,checked:s,disabled:o,children:[i.jsx(Pe.button,{type:"button",role:"radio","aria-checked":s,"data-state":rO(s),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:me(e.onClick,y=>{s||c==null||c(),m&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),m&&i.jsx(lY,{control:d,bubbles:!x.current,name:r,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});eO.displayName=p0;var tO="RadioIndicator",nO=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=oY(tO,n);return i.jsx(On,{present:r||a.checked,children:i.jsx(Pe.span,{"data-state":rO(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});nO.displayName=tO;var lY=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=j.useRef(null),o=Rh(n),l=jh(t);return j.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(c,n),c.dispatchEvent(f)}},[o,n,r]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rO(e){return e?"checked":"unchecked"}var cY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],m0="RadioGroup",[uY,FJ]=en(m0,[pl,JP]),sO=pl(),iO=JP(),[dY,fY]=uY(m0),aO=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:d,...f}=e,v=sO(n),x=xu(u),[m,y]=Nr({prop:a,defaultProp:s,onChange:d});return i.jsx(dY,{scope:n,name:r,required:o,disabled:l,value:m,onValueChange:y,children:i.jsx(Tx,{asChild:!0,...v,orientation:c,dir:x,loop:h,children:i.jsx(Pe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...f,ref:t})})})});aO.displayName=m0;var oO="RadioGroupItem",lO=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=fY(oO,n),o=a.disabled||r,l=sO(n),c=iO(n),u=j.useRef(null),h=Ge(t,u),d=a.value===s.value,f=j.useRef(!1);return j.useEffect(()=>{const v=m=>{cY.includes(m.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",x)}},[]),i.jsx(Ax,{asChild:!0,...l,focusable:!o,active:d,children:i.jsx(eO,{disabled:o,required:a.required,checked:d,...c,...s,name:a.name,ref:h,onCheck:()=>a.onValueChange(s.value),onKeyDown:me(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:me(s.onFocus,()=>{var v;f.current&&((v=u.current)==null||v.click())})})})});lO.displayName=oO;var hY="RadioGroupIndicator",cO=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=iO(n);return i.jsx(nO,{...s,...r,ref:t})});cO.displayName=hY;var uO=aO,dO=lO,pY=cO;const fO=j.forwardRef(({className:e,...t},n)=>i.jsx(uO,{className:Ee("grid gap-2",e),...t,ref:n}));fO.displayName=uO.displayName;const hv=j.forwardRef(({className:e,...t},n)=>i.jsx(dO,{ref:n,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(pY,{className:"flex items-center justify-center",children:i.jsx(z2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));hv.displayName=dO.displayName;function mY(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState(""),[s,a]=j.useState(1),[o]=j.useState(20),[l,c]=j.useState(!1),[u,h]=j.useState(null),[d,f]=j.useState(null),[v,x]=j.useState(null),[m,y]=j.useState({name:"",email:"",phone:"",password:"",role:"COACH",status:"active"});j.useEffect(()=>{localStorage.getItem("@app:admin_token")||e("/admin/login")},[e]);const g=localStorage.getItem("@app:admin_token")||"",p=localStorage.getItem("@app:admin_user"),b=p?JSON.parse(p):null,w=(b==null?void 0:b.role)==="SUPER_ADMIN",{data:N,isLoading:T}=Ue({queryKey:["/admin/v1/admins",n,s,o],queryFn:async()=>{const O=new URLSearchParams({page:s.toString(),limit:o.toString()});n&&O.set("search",n);const D=await fetch(`/admin/v1/admins?${O}`,{headers:{Authorization:`Bearer ${g}`}});if(!D.ok)throw new Error("Failed to fetch admins");return D.json()}}),S=Se({mutationFn:async O=>{const D=await fetch("/admin/v1/admins",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(O)});if(!D.ok){const $=await D.json();throw new Error($.error||"Failed to create admin")}return D.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/admins"]}),t({title:"Admin added successfully"}),c(!1),_()},onError:O=>{t({title:"Error",description:O.message,variant:"destructive"})}}),E=Se({mutationFn:async({id:O,data:D})=>{const $=await fetch(`/admin/v1/admins/${O}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(D)});if(!$.ok)throw new Error("Failed to update admin");return $.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/admins"]}),t({title:"Admin updated successfully"}),h(null),_()},onError:()=>{t({title:"Error",description:"Failed to update admin",variant:"destructive"})}}),A=Se({mutationFn:async({id:O,status:D})=>{const $=await fetch(`/admin/v1/admins/${O}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({status:D})});if(!$.ok){const q=await $.json();throw new Error(q.error||"Failed to update status")}return $.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/admins"]}),t({title:"Status updated successfully"}),x(null)},onError:O=>{t({title:"Error",description:O.message,variant:"destructive"})}}),C=Se({mutationFn:async O=>{const D=await fetch(`/admin/v1/admins/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`}});if(!D.ok){const $=await D.json();throw new Error($.error||"Failed to delete admin")}return D.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/admins"]}),t({title:"Admin deleted successfully"}),f(null)},onError:O=>{t({title:"Error",description:O.message,variant:"destructive"})}}),_=()=>{y({name:"",email:"",phone:"",password:"",role:"COACH",status:"active"})},k=O=>{h(O),y({name:O.name,email:O.email,phone:O.phone||"",password:"",role:O.role,status:O.status})},P=()=>{u?E.mutate({id:u.id,data:{name:m.name,email:m.email,role:m.role,status:m.status}}):S.mutate(m)},M=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",B=O=>O==="SUPER_ADMIN"?i.jsxs(tr,{className:"bg-purple-100 text-purple-700 hover:bg-purple-100",children:[i.jsx(i1,{className:"w-3 h-3 mr-1"}),"Super Admin"]}):i.jsxs(tr,{variant:"secondary",className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:[i.jsx(o1,{className:"w-3 h-3 mr-1"}),"Coach"]}),U=(N==null?void 0:N.data)||[],L=(N==null?void 0:N.pagination)||{total:0,page:1,pages:1},F=(L.page-1)*o+1,R=Math.min(L.page*o,L.total);return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Admins"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage administrator accounts and roles"})]}),w&&i.jsxs(ee,{onClick:()=>c(!0),className:"bg-brand hover:bg-brand/90","data-testid":"button-add-admin",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Admin"]})]}),i.jsxs(we,{className:"p-6",children:[i.jsx("div",{className:"flex gap-4 mb-6",children:i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(Ae,{placeholder:"Search by name or email...",value:n,onChange:O=>{r(O.target.value),a(1)},className:"pl-10","data-testid":"input-search"})]})}),T?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-500",children:"Loading admins..."})]}):U.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"No admins found"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full","data-testid":"table-admins",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Name"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Email"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Role"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Last Login"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Created"}),w&&i.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{children:U.map(O=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-admin-${O.id}`,children:[i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-medium text-gray-900","data-testid":`text-admin-name-${O.id}`,children:O.name})}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.email}),i.jsx("td",{className:"py-3 px-4",children:B(O.role)}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(tr,{variant:O.status==="active"?"default":"destructive",className:O.status==="active"?"bg-green-100 text-green-700 hover:bg-green-100":"","data-testid":`badge-status-${O.id}`,children:O.status==="active"?"Active":"Blocked"})}),i.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:M(O.lastLogin)}),i.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:M(O.createdAt)}),w&&i.jsx("td",{className:"py-3 px-4 text-right",children:(b==null?void 0:b.id)!==O.id?i.jsxs(ZP,{children:[i.jsx(XP,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"icon","data-testid":`button-actions-${O.id}`,children:i.jsx(W2,{className:"w-4 h-4"})})}),i.jsxs(h0,{align:"end",children:[i.jsxs(ms,{onClick:()=>k(O),"data-testid":`button-edit-${O.id}`,children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Edit"]}),O.status==="active"?i.jsxs(ms,{onClick:()=>x({admin:O,newStatus:"blocked"}),className:"text-orange-600","data-testid":`button-block-${O.id}`,children:[i.jsx(V2,{className:"w-4 h-4 mr-2"}),"Block"]}):i.jsxs(ms,{onClick:()=>x({admin:O,newStatus:"active"}),className:"text-green-600","data-testid":`button-unblock-${O.id}`,children:[i.jsx(Py,{className:"w-4 h-4 mr-2"}),"Unblock"]}),i.jsxs(ms,{onClick:()=>f(O),className:"text-red-600","data-testid":`button-delete-${O.id}`,children:[i.jsx($t,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}):i.jsx("span",{className:"text-xs text-gray-400 italic",children:"You"})})]},O.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:[i.jsxs("p",{className:"text-sm text-gray-600","data-testid":"text-pagination-info",children:["Showing ",F,"-",R," of ",L.total," admins"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>a(O=>Math.max(1,O-1)),disabled:s===1,"data-testid":"button-prev-page",children:i.jsx(vh,{className:"w-4 h-4"})}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",L.page," of ",L.pages]}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>a(O=>Math.min(L.pages,O+1)),disabled:s===L.pages,"data-testid":"button-next-page",children:i.jsx(Cn,{className:"w-4 h-4"})})]})]})]})]}),i.jsx(ct,{open:l||!!u,onOpenChange:O=>{O||(c(!1),h(null),_())},children:i.jsxs(it,{className:"sm:max-w-md","data-testid":"dialog-admin-form",children:[i.jsx(ut,{children:i.jsx(dt,{children:u?"Edit Admin":"Add New Admin"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"name",children:"Full Name *"}),i.jsx(Ae,{id:"name",value:m.name,onChange:O=>y({...m,name:O.target.value}),placeholder:"Enter full name","data-testid":"input-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"email",children:"Email *"}),i.jsx(Ae,{id:"email",type:"email",value:m.email,onChange:O=>y({...m,email:O.target.value}),placeholder:"Enter email address","data-testid":"input-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"phone",children:"Phone"}),i.jsx(Ae,{id:"phone",value:m.phone,onChange:O=>y({...m,phone:O.target.value}),placeholder:"Enter phone number","data-testid":"input-phone"})]}),!u&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"password",children:"Password"}),i.jsx(Ae,{id:"password",type:"password",value:m.password,onChange:O=>y({...m,password:O.target.value}),placeholder:"Leave empty for default (Admin@123)","data-testid":"input-password"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ge,{children:"Role *"}),i.jsxs(fO,{value:m.role,onValueChange:O=>y({...m,role:O}),className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx(hv,{value:"SUPER_ADMIN",id:"role-super-admin","data-testid":"radio-super-admin"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(i1,{className:"w-4 h-4 text-purple-600"}),i.jsx(ge,{htmlFor:"role-super-admin",className:"cursor-pointer font-medium",children:"Super Admin"})]}),i.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"Full access to all features"})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx(hv,{value:"COACH",id:"role-coach","data-testid":"radio-coach"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(o1,{className:"w-4 h-4 text-blue-600"}),i.jsx(ge,{htmlFor:"role-coach",className:"cursor-pointer font-medium",children:"Coach"})]}),i.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"Limited admin access"})]})]})]}),u&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"status",children:"Status"}),i.jsxs(Gt,{value:m.status,onValueChange:O=>y({...m,status:O}),children:[i.jsx(Ut,{"data-testid":"select-status",children:i.jsx(Yt,{placeholder:"Select status"})}),i.jsxs(qt,{children:[i.jsx(et,{value:"active",children:"Active"}),i.jsx(et,{value:"blocked",children:"Blocked"})]})]})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>{c(!1),h(null),_()},"data-testid":"button-cancel",children:"Cancel"}),i.jsx(ee,{onClick:P,disabled:!m.name||!m.email||S.isPending||E.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-submit",children:S.isPending||E.isPending?"Saving...":u?"Update":"Add Admin"})]})]})}),i.jsx(Sa,{open:!!v,onOpenChange:O=>!O&&x(null),children:i.jsxs(Si,{"data-testid":"dialog-status-confirm",children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:(v==null?void 0:v.newStatus)==="blocked"?"Block Admin":"Unblock Admin"}),i.jsx(Ei,{children:(v==null?void 0:v.newStatus)==="blocked"?`Are you sure you want to block ${v==null?void 0:v.admin.name}? They will not be able to access the admin panel.`:`Are you sure you want to unblock ${v==null?void 0:v.admin.name}? They will be able to access the admin panel again.`})]}),i.jsxs(_i,{children:[i.jsx(Ai,{"data-testid":"button-status-cancel",children:"Cancel"}),i.jsx(Ti,{onClick:()=>{v&&A.mutate({id:v.admin.id,status:v.newStatus})},className:(v==null?void 0:v.newStatus)==="blocked"?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700","data-testid":"button-status-confirm",children:(v==null?void 0:v.newStatus)==="blocked"?"Block":"Unblock"})]})]})}),i.jsx(Sa,{open:!!d,onOpenChange:O=>!O&&f(null),children:i.jsxs(Si,{"data-testid":"dialog-delete-confirm",children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:"Delete Admin"}),i.jsxs(Ei,{children:["Are you sure you want to delete ",d==null?void 0:d.name,"? This action cannot be undone."]})]}),i.jsxs(_i,{children:[i.jsx(Ai,{"data-testid":"button-delete-cancel",children:"Cancel"}),i.jsx(Ti,{onClick:()=>{d&&C.mutate(d.id)},className:"bg-red-600 hover:bg-red-700","data-testid":"button-delete-confirm",children:"Delete"})]})]})})]})}function Ar(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ca(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const hO=6048e5,gY=864e5;let vY={};function Yh(){return vY}function Uc(e,t){var l,c,u,h;const n=Yh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Ar(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Df(e){return Uc(e,{weekStartsOn:1})}function pO(e){const t=Ar(e),n=t.getFullYear(),r=Ca(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Df(r),a=Ca(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Df(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Wj(e){const t=Ar(e);return t.setHours(0,0,0,0),t}function Hj(e){const t=Ar(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function yY(e,t){const n=Wj(e),r=Wj(t),s=+n-Hj(n),a=+r-Hj(r);return Math.round((s-a)/gY)}function xY(e){const t=pO(e),n=Ca(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Df(n)}function bY(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wY(e){if(!bY(e)&&typeof e!="number")return!1;const t=Ar(e);return!isNaN(Number(t))}function jY(e){const t=Ar(e),n=Ca(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const NY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SY=(e,t,n)=>{let r;const s=NY[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function dm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_Y={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EY={date:dm({formats:kY,defaultWidth:"full"}),time:dm({formats:_Y,defaultWidth:"full"}),dateTime:dm({formats:CY,defaultWidth:"full"})},TY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AY=(e,t,n,r)=>TY[e];function Il(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const PY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LY=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FY={ordinalNumber:LY,era:Il({values:PY,defaultWidth:"wide"}),quarter:Il({values:OY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Il({values:DY,defaultWidth:"wide"}),day:Il({values:RY,defaultWidth:"wide"}),dayPeriod:Il({values:MY,defaultWidth:"wide",formattingValues:IY,defaultFormattingWidth:"wide"})};function Ll(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?BY(l,d=>d.test(o)):$Y(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function $Y(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function BY(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function VY(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const UY=/^(\d+)(th|st|nd|rd)?/i,qY=/\d+/i,zY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WY={any:[/^b/i,/^(a|c)/i]},HY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KY={any:[/1/i,/2/i,/3/i,/4/i]},QY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eZ={ordinalNumber:VY({matchPattern:UY,parsePattern:qY,valueCallback:e=>parseInt(e,10)}),era:Ll({matchPatterns:zY,defaultMatchWidth:"wide",parsePatterns:WY,defaultParseWidth:"any"}),quarter:Ll({matchPatterns:HY,defaultMatchWidth:"wide",parsePatterns:KY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ll({matchPatterns:QY,defaultMatchWidth:"wide",parsePatterns:GY,defaultParseWidth:"any"}),day:Ll({matchPatterns:YY,defaultMatchWidth:"wide",parsePatterns:ZY,defaultParseWidth:"any"}),dayPeriod:Ll({matchPatterns:XY,defaultMatchWidth:"any",parsePatterns:JY,defaultParseWidth:"any"})},tZ={code:"en-US",formatDistance:SY,formatLong:EY,formatRelative:AY,localize:FY,match:eZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nZ(e){const t=Ar(e);return yY(t,jY(t))+1}function rZ(e){const t=Ar(e),n=+Df(t)-+xY(t);return Math.round(n/hO)+1}function mO(e,t){var h,d,f,v;const n=Ar(e),r=n.getFullYear(),s=Yh(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ca(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Uc(o,t),c=Ca(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Uc(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function sZ(e,t){var l,c,u,h;const n=Yh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=mO(e,t),a=Ca(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Uc(a,t)}function iZ(e,t){const n=Ar(e),r=+Uc(n,t)-+sZ(n,t);return Math.round(r/hO)+1}function ot(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ls={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ot(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ot(n+1,2)},d(e,t){return ot(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ot(e.getHours()%12||12,t.length)},H(e,t){return ot(e.getHours(),t.length)},m(e,t){return ot(e.getMinutes(),t.length)},s(e,t){return ot(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ot(s,t.length)}},qa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kj={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ls.y(e,t)},Y:function(e,t,n,r){const s=mO(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return ot(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ot(a,t.length)},R:function(e,t){const n=pO(e);return ot(n,t.length)},u:function(e,t){const n=e.getFullYear();return ot(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ls.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=iZ(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,t.length)},I:function(e,t,n){const r=rZ(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ls.d(e,t)},D:function(e,t,n){const r=nZ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ot(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ot(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ot(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=qa.noon:r===0?s=qa.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=qa.evening:r>=12?s=qa.afternoon:r>=4?s=qa.morning:s=qa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ls.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ls.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ls.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ls.s(e,t)},S:function(e,t){return Ls.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Gj(r);case"XXXX":case"XX":return Qi(r);case"XXXXX":case"XXX":default:return Qi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Gj(r);case"xxxx":case"xx":return Qi(r);case"xxxxx":case"xxx":default:return Qi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Qj(r,":");case"OOOO":default:return"GMT"+Qi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Qj(r,":");case"zzzz":default:return"GMT"+Qi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ot(r,t.length)},T:function(e,t,n){const r=e.getTime();return ot(r,t.length)}};function Qj(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+ot(a,2)}function Gj(e,t){return e%60===0?(e>0?"-":"+")+ot(Math.abs(e)/60,2):Qi(e,t)}function Qi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ot(Math.trunc(r/60),2),a=ot(r%60,2);return n+s+t+a}const Yj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},aZ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Yj(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Yj(r,t)).replace("{{time}}",gO(s,t))},oZ={p:gO,P:aZ},lZ=/^D+$/,cZ=/^Y+$/,uZ=["D","DD","YY","YYYY"];function dZ(e){return lZ.test(e)}function fZ(e){return cZ.test(e)}function hZ(e,t,n){const r=pZ(e,t,n);if(console.warn(r),uZ.includes(e))throw new RangeError(r)}function pZ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vZ=/^'([^]*?)'?$/,yZ=/''/g,xZ=/[a-zA-Z]/;function pv(e,t,n){var h,d,f,v;const r=Yh(),s=r.locale??tZ,a=r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(f=r.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,l=Ar(e);if(!wY(l))throw new RangeError("Invalid time value");let c=t.match(gZ).map(x=>{const m=x[0];if(m==="p"||m==="P"){const y=oZ[m];return y(x,s.formatLong)}return x}).join("").match(mZ).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:bZ(x)};if(Kj[m])return{isToken:!0,value:x};if(m.match(xZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const m=x.value;(fZ(m)||dZ(m))&&hZ(m,t,String(e));const y=Kj[m[0]];return y(l,m,s.localize,u)}).join("")}function bZ(e){const t=e.match(vZ);return t?t[1].replace(yZ,"'"):e}function wZ(){const[,e]=Ve(),{toast:t}=ht(),[n,r]=j.useState(""),[s,a]=j.useState("all"),[o,l]=j.useState("asc"),[c,u]=j.useState(!1),[h,d]=j.useState(null),f=localStorage.getItem("@app:admin_token")||"",{data:v=[]}=Ue({queryKey:["/api/admin/v1/programs"],queryFn:async()=>{const k=await fetch("/api/admin/v1/programs",{headers:{Authorization:`Bearer ${f}`}});if(!k.ok)throw new Error("Failed to fetch programs");return k.json()}}),x=new Map(v.map(k=>[k.id,k])),m=k=>{var P;return k&&((P=x.get(k))==null?void 0:P.name)||"-"},{data:y=[],isLoading:g}=Ue({queryKey:["/api/admin/v1/cms/courses"],queryFn:async()=>{const k=await fetch("/api/admin/v1/cms/courses",{headers:{Authorization:`Bearer ${f}`}});if(!k.ok)throw new Error("Failed to fetch courses");return k.json()}}),p=Se({mutationFn:async k=>{await De("DELETE",`/api/admin/v1/cms/courses/${k}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses"]}),t({title:"Course deleted successfully"}),u(!1),d(null)},onError:()=>{t({title:"Failed to delete course",variant:"destructive"})}}),b=Se({mutationFn:async({id:k,isPublished:P})=>{await De("PATCH",`/api/admin/v1/cms/courses/${k}/publish`,{isPublished:P})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses"]}),t({title:"Course updated successfully"})},onError:()=>{t({title:"Failed to update course",variant:"destructive"})}}),w=Se({mutationFn:async k=>{await De("PATCH","/api/admin/v1/cms/courses/reorder",{items:k})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses"]})}}),T=[...y].sort((k,P)=>o==="asc"?k.position-P.position:P.position-k.position).filter(k=>{const P=!n||k.title.toLowerCase().includes(n.toLowerCase()),M=s==="all"||k.programId===parseInt(s);return P&&M}),S=Array.from(new Set(y.map(k=>k.programId).filter(Boolean))),E=k=>{d(k),u(!0)},A=()=>{h&&p.mutate(h.id)},C=k=>{if(k===0)return;const P=[...T],M=[{id:P[k].id,position:P[k-1].position},{id:P[k-1].id,position:P[k].position}];w.mutate(M)},_=k=>{if(k===T.length-1)return;const P=[...T],M=[{id:P[k].id,position:P[k+1].position},{id:P[k+1].id,position:P[k].position}];w.mutate(M)};return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Courses"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage course content and curriculum"})]}),i.jsxs(ee,{onClick:()=>e("/admin/courses/create/step1"),"data-testid":"button-new-course",className:"bg-brand hover:bg-brand/90",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Course"]})]}),i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[i.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(Ae,{placeholder:"Search courses...",value:n,onChange:k=>r(k.target.value),"data-testid":"input-search-courses",className:"pl-10"})]}),i.jsxs(Gt,{value:s,onValueChange:a,children:[i.jsx(Ut,{className:"w-[180px]","data-testid":"select-program-filter",children:i.jsx(Yt,{placeholder:"Filter by Program"})}),i.jsxs(qt,{children:[i.jsx(et,{value:"all",children:"All Programs"}),S.map(k=>i.jsx(et,{value:String(k),children:m(k)},k))]})]}),i.jsxs(ee,{variant:"outline",onClick:()=>l(o==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:[o==="asc"?"ASC":"DESC",o==="asc"?i.jsx(Wo,{className:"w-4 h-4 ml-1"}):i.jsx(Xr,{className:"w-4 h-4 ml-1"})]})]}),g?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-500",children:"Loading courses..."})]}):T.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:n||s!=="all"?"No courses match your filters.":"No courses yet. Create your first course!"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full","data-testid":"table-courses",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600 w-12"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Thumbnail"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Name"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Program Code"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Created"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Status"}),i.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{children:T.map((k,P)=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-course-${k.id}`,children:[i.jsx("td",{className:"py-3 px-4 w-12",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("button",{onClick:()=>C(P),disabled:P===0,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-30","data-testid":`button-move-up-${k.id}`,children:i.jsx(Wo,{className:"w-4 h-4 text-gray-500"})}),i.jsx("button",{onClick:()=>_(P),disabled:P===T.length-1,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-30","data-testid":`button-move-down-${k.id}`,children:i.jsx(Xr,{className:"w-4 h-4 text-gray-500"})})]})}),i.jsx("td",{className:"py-3 px-4",children:k.thumbnailSignedUrl?i.jsx("img",{src:k.thumbnailSignedUrl,alt:k.title,className:"w-16 h-9 object-cover rounded"}):i.jsx("div",{className:"w-16 h-9 bg-gray-200 rounded flex items-center justify-center text-gray-400 text-xs",children:"No image"})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-medium text-gray-900",children:k.title})}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:m(k.programId)}),i.jsx("td",{className:"py-3 px-4 text-gray-600",children:k.createdAt?pv(new Date(k.createdAt),"dd MMM yy"):"-"}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(tr,{variant:k.isPublished?"default":"secondary",className:k.isPublished?"bg-green-100 text-green-700 hover:bg-green-100":"",children:k.isPublished?"Published":"Unpublished"})}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>b.mutate({id:k.id,isPublished:!k.isPublished}),"data-testid":`button-toggle-publish-${k.id}`,children:k.isPublished?i.jsx(H2,{className:"w-4 h-4"}):i.jsx(K2,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e(`/admin/courses/${k.id}`),"data-testid":`button-edit-${k.id}`,children:i.jsx(on,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>E(k),"data-testid":`button-delete-${k.id}`,className:"hover:text-red-500",children:i.jsx($t,{className:"w-4 h-4"})})]})})]},k.id))})]})})]}),i.jsx(Sa,{open:c,onOpenChange:u,children:i.jsxs(Si,{children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:"Delete Course"}),i.jsxs(Ei,{children:['Are you sure you want to delete "',h==null?void 0:h.title,'"? This will also delete all modules, folders, lessons, and files. This action cannot be undone.']})]}),i.jsxs(_i,{children:[i.jsx(Ai,{children:"Cancel"}),i.jsx(Ti,{onClick:A,className:"bg-red-600 hover:bg-red-700","data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}function jZ(){const{toast:e}=ht(),[t,n]=j.useState(!1),[r,s]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(null),[u,h]=j.useState({code:"",name:""}),d=localStorage.getItem("@app:admin_token")||"",{data:f=[],isLoading:v}=Ue({queryKey:["/api/admin/v1/programs"],queryFn:async()=>{const S=await fetch("/api/admin/v1/programs",{headers:{Authorization:`Bearer ${d}`}});if(!S.ok)throw new Error("Failed to fetch programs");return S.json()}}),x=Se({mutationFn:async S=>{await De("POST","/api/admin/v1/programs",S)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/programs"]}),e({title:"Program created successfully"}),n(!1),h({code:"",name:""})},onError:S=>{const E=(S==null?void 0:S.message)||"Failed to create program";e({title:E,variant:"destructive"})}}),m=Se({mutationFn:async({id:S,data:E})=>{await De("PUT",`/api/admin/v1/programs/${S}`,E)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/programs"]}),e({title:"Program updated successfully"}),s(!1),c(null),h({code:"",name:""})},onError:S=>{const E=(S==null?void 0:S.message)||"Failed to update program";e({title:E,variant:"destructive"})}}),y=Se({mutationFn:async S=>{await De("DELETE",`/api/admin/v1/programs/${S}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/programs"]}),e({title:"Program deleted successfully"}),o(!1),c(null)},onError:S=>{const E=(S==null?void 0:S.message)||"Failed to delete program";e({title:E,variant:"destructive"})}}),g=()=>{h({code:"",name:""}),n(!0)},p=S=>{c(S),h({code:S.code,name:S.name}),s(!0)},b=S=>{c(S),o(!0)},w=()=>{if(!u.code.trim()||!u.name.trim()){e({title:"Code and name are required",variant:"destructive"});return}x.mutate(u)},N=()=>{if(!l||!u.code.trim()||!u.name.trim()){e({title:"Code and name are required",variant:"destructive"});return}m.mutate({id:l.id,data:u})},T=()=>{l&&y.mutate(l.id)};return v?i.jsx("div",{className:"flex-1 p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),i.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):i.jsxs("div",{className:"flex-1 p-6 bg-gray-50","data-testid":"admin-programs-page",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Programs"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage program codes for courses"})]}),i.jsxs(ee,{onClick:g,className:"bg-brand hover:bg-brand/90","data-testid":"button-create-program",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Create Program"]})]}),i.jsx(we,{className:"bg-white",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full","data-testid":"table-programs",children:[i.jsx("thead",{className:"bg-gray-50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Code"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Name"}),i.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{children:f.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:3,className:"py-12 text-center text-gray-500",children:[i.jsx(Sr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No programs found"}),i.jsx("p",{className:"text-sm",children:"Create your first program to get started"})]})}):f.map(S=>i.jsxs("tr",{className:"border-b hover:bg-gray-50","data-testid":`row-program-${S.id}`,children:[i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded","data-testid":`text-program-code-${S.id}`,children:S.code})}),i.jsx("td",{className:"py-3 px-4 text-gray-900","data-testid":`text-program-name-${S.id}`,children:S.name}),i.jsxs("td",{className:"py-3 px-4 text-right",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>p(S),"data-testid":`button-edit-program-${S.id}`,children:i.jsx(on,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>b(S),className:"text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":`button-delete-program-${S.id}`,children:i.jsx($t,{className:"w-4 h-4"})})]})]},S.id))})]})})}),i.jsx(ct,{open:t,onOpenChange:n,children:i.jsxs(it,{children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Create Program"}),i.jsx(Vr,{children:"Add a new program that can be assigned to courses."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"create-code",children:"Program Code"}),i.jsx(Ae,{id:"create-code",placeholder:"e.g., MMB, USP, ENG",value:u.code,onChange:S=>h({...u,code:S.target.value}),"data-testid":"input-program-code"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"create-name",children:"Program Name"}),i.jsx(Ae,{id:"create-name",placeholder:"e.g., Mind Mastery Bootcamp",value:u.name,onChange:S=>h({...u,name:S.target.value}),"data-testid":"input-program-name"})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),i.jsx(ee,{onClick:w,disabled:x.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-submit-create",children:x.isPending?"Creating...":"Create"})]})]})}),i.jsx(ct,{open:r,onOpenChange:s,children:i.jsxs(it,{children:[i.jsxs(ut,{children:[i.jsx(dt,{children:"Edit Program"}),i.jsx(Vr,{children:"Update the program details."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"edit-code",children:"Program Code"}),i.jsx(Ae,{id:"edit-code",placeholder:"e.g., MMB, USP, ENG",value:u.code,onChange:S=>h({...u,code:S.target.value}),"data-testid":"input-edit-program-code"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"edit-name",children:"Program Name"}),i.jsx(Ae,{id:"edit-name",placeholder:"e.g., Mind Mastery Bootcamp",value:u.name,onChange:S=>h({...u,name:S.target.value}),"data-testid":"input-edit-program-name"})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsx(ee,{onClick:N,disabled:m.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-submit-update",children:m.isPending?"Saving...":"Save"})]})]})}),i.jsx(Sa,{open:a,onOpenChange:o,children:i.jsxs(Si,{children:[i.jsxs(ki,{children:[i.jsx(Ci,{children:"Delete Program"}),i.jsxs(Ei,{children:['Are you sure you want to delete "',l==null?void 0:l.name,'"? This action cannot be undone. Programs linked to courses cannot be deleted.']})]}),i.jsxs(_i,{children:[i.jsx(Ai,{children:"Cancel"}),i.jsx(Ti,{onClick:T,className:"bg-red-600 hover:bg-red-700","data-testid":"button-confirm-delete",children:y.isPending?"Deleting...":"Delete"})]})]})})]})}function Zj({code:e,label:t}){var g;const{toast:n}=ht(),r=localStorage.getItem("@app:admin_token")||"",{data:s=[],isLoading:a}=Ue({queryKey:["/api/admin/v1/cms/courses"],queryFn:async()=>{const p=await fetch("/api/admin/v1/cms/courses",{headers:{Authorization:`Bearer ${r}`}});if(!p.ok)throw new Error("Failed to fetch courses");return p.json()}}),{data:o,isLoading:l}=Ue({queryKey:["/admin/v1/frontend-mapping/features",e,"courses"],queryFn:async()=>{const p=await fetch(`/admin/v1/frontend-mapping/features/${e}/courses`,{headers:{Authorization:`Bearer ${r}`}});if(!p.ok)throw new Error("Failed to fetch mappings");return p.json()}}),c=(g=o==null?void 0:o.mappings)==null?void 0:g[0],u=c==null?void 0:c.courseId,{data:h=[],isLoading:d}=Ue({queryKey:["/api/admin/v1/cms/courses",u,"modules"],enabled:!!u,queryFn:async()=>{const p=await fetch(`/api/admin/v1/cms/courses/${u}/modules`,{headers:{Authorization:`Bearer ${r}`}});if(!p.ok)throw new Error("Failed to fetch modules");return p.json()}}),f=Se({mutationFn:async p=>{await De("POST",`/admin/v1/frontend-mapping/features/${e}/courses`,{courseId:p})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",e,"courses"]}),n({title:"Course mapped successfully"})},onError:()=>{n({title:"Failed to map course",variant:"destructive"})}}),v=Se({mutationFn:async p=>{await De("DELETE",`/admin/v1/frontend-mapping/features/${e}/courses/${p}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",e,"courses"]}),n({title:"Mapping cleared"})},onError:()=>{n({title:"Failed to clear mapping",variant:"destructive"})}}),x=p=>{if(!p)return;const b=parseInt(p);b!==u&&f.mutate(b)},m=()=>{c&&v.mutate(c.courseId)};return a||l?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-brand"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(we,{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[t," Course Selection"]}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Select a CMS course to use for ",t,". The modules from this course will be displayed."]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Gt,{value:(u==null?void 0:u.toString())||"",onValueChange:x,disabled:f.isPending,children:[i.jsx(Ut,{className:"w-[300px]","data-testid":`select-${e.toLowerCase()}-course`,children:i.jsx(Yt,{placeholder:"Select a course"})}),i.jsx(qt,{children:s.map(p=>i.jsx(et,{value:p.id.toString(),children:p.title},p.id))})]}),c&&i.jsxs(ee,{variant:"outline",size:"sm",onClick:m,disabled:v.isPending,"data-testid":`button-clear-${e.toLowerCase()}-selection`,children:[i.jsx(Pn,{className:"w-4 h-4 mr-1"}),"Clear Selection"]}),f.isPending&&i.jsx(nt,{className:"w-4 h-4 animate-spin text-brand"})]})]}),c&&i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Fr,{className:"w-5 h-5 text-brand"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Module Preview"})]}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["These modules will be shown to users in the ",t," section."]}),d?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(nt,{className:"w-5 h-5 animate-spin text-brand"})}):h.length===0?i.jsx("p",{className:"text-gray-500 text-sm py-4",children:"No modules found in this course."}):i.jsx("div",{className:"space-y-2",children:h.map((p,b)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg","data-testid":`module-item-${p.id}`,children:[i.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-brand/10 text-brand text-sm font-medium rounded",children:b+1}),i.jsx("span",{className:"text-gray-900",children:p.title})]},p.id))})]})]})}function NZ(){const[e,t]=j.useState("DYD");return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Processes"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Map CMS courses to DYD and USM process features"})]}),i.jsxs(Dh,{value:e,onValueChange:t,className:"w-full",children:[i.jsxs(bu,{className:"mb-6",children:[i.jsx(Gr,{value:"DYD","data-testid":"tab-dyd",children:"DYD"}),i.jsx(Gr,{value:"USM","data-testid":"tab-usm",children:"USM"})]}),i.jsx(Yr,{value:"DYD",children:i.jsx(Zj,{code:"DYD",label:"DYD Processes"})}),i.jsx(Yr,{value:"USM",children:i.jsx(Zj,{code:"USM",label:"USM Processes"})})]})]})}function SZ(){var y,g;const{toast:e}=ht(),t=localStorage.getItem("@app:admin_token")||"",n="BREATH",{data:r=[],isLoading:s}=Ue({queryKey:["/api/admin/v1/cms/courses"],queryFn:async()=>{const p=await fetch("/api/admin/v1/cms/courses",{headers:{Authorization:`Bearer ${t}`}});if(!p.ok)throw new Error("Failed to fetch courses");return p.json()}}),{data:a,isLoading:o}=Ue({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"],queryFn:async()=>{const p=await fetch(`/admin/v1/frontend-mapping/features/${n}/courses`,{headers:{Authorization:`Bearer ${t}`}});if(!p.ok)throw new Error("Failed to fetch mappings");return p.json()}}),l=(y=a==null?void 0:a.mappings)==null?void 0:y[0],{data:c,isLoading:u}=Ue({queryKey:["/api/public/v1/features",n],enabled:!!(l!=null&&l.courseId),queryFn:async()=>{const p=await fetch(`/api/public/v1/features/${n}`);if(!p.ok)throw new Error("Failed to fetch lessons");return p.json()}}),h=(c==null?void 0:c.lessons)||[],d=Se({mutationFn:async p=>{await De("POST",`/admin/v1/frontend-mapping/features/${n}/courses`,{courseId:p})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"]}),ve.invalidateQueries({queryKey:["/api/public/v1/features",n]}),e({title:"Course mapped successfully"})},onError:()=>{e({title:"Failed to map course",variant:"destructive"})}}),f=Se({mutationFn:async p=>{await De("DELETE",`/admin/v1/frontend-mapping/features/${n}/courses/${p}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"]}),ve.invalidateQueries({queryKey:["/api/public/v1/features",n]}),e({title:"Mapping cleared"})},onError:()=>{e({title:"Failed to clear mapping",variant:"destructive"})}}),v=p=>{p&&d.mutate(parseInt(p))},x=()=>{l&&f.mutate(l.courseId)};return s||o?i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-brand"})})}):i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wa,{className:"w-6 h-6 text-brand"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Spiritual Breaths"})]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Map a CMS course to the Spiritual Breaths feature. Lessons will be displayed directly."})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(we,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Course Selection"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select a CMS course. All lessons from this course will be shown in the Spiritual Breaths section."}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Gt,{value:((g=l==null?void 0:l.courseId)==null?void 0:g.toString())||"",onValueChange:v,children:[i.jsx(Ut,{className:"w-[300px]","data-testid":"select-breath-course",children:i.jsx(Yt,{placeholder:"Select a course"})}),i.jsx(qt,{children:r.map(p=>i.jsx(et,{value:p.id.toString(),children:p.title},p.id))})]}),l&&i.jsxs(ee,{variant:"outline",size:"sm",onClick:x,disabled:f.isPending,"data-testid":"button-clear-breath-selection",children:[i.jsx(Pn,{className:"w-4 h-4 mr-1"}),"Clear Selection"]})]})]}),l&&i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Fr,{className:"w-5 h-5 text-brand"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Lesson Preview"})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"These lessons will be shown to users in the Spiritual Breaths section."}),u?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(nt,{className:"w-5 h-5 animate-spin text-brand"})}):h.length===0?i.jsx("p",{className:"text-gray-500 text-sm py-4",children:"No lessons found in this course."}):i.jsx("div",{className:"space-y-2",children:h.map((p,b)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg","data-testid":`lesson-item-${p.id}`,children:[i.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-brand/10 text-brand text-sm font-medium rounded",children:b+1}),i.jsx("span",{className:"text-gray-900",children:p.title})]},p.id))})]})]})]})}function kZ(){const{toast:e}=ht(),t=localStorage.getItem("@app:admin_token")||"",n="ABUNDANCE",[r,s]=j.useState(""),[a,o]=j.useState([]),[l,c]=j.useState(null),{data:u=[],isLoading:h}=Ue({queryKey:["/api/admin/v1/cms/courses"],queryFn:async()=>{const E=await fetch("/api/admin/v1/cms/courses",{headers:{Authorization:`Bearer ${t}`}});if(!E.ok)throw new Error("Failed to fetch courses");return E.json()}}),{data:d,isLoading:f}=Ue({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"],queryFn:async()=>{const E=await fetch(`/admin/v1/frontend-mapping/features/${n}/courses`,{headers:{Authorization:`Bearer ${t}`}});if(!E.ok)throw new Error("Failed to fetch mappings");return E.json()}});j.useEffect(()=>{d!=null&&d.mappings&&o(d.mappings)},[d==null?void 0:d.mappings]);const v=new Set(a.map(E=>E.courseId)),x=u.filter(E=>!v.has(E.id)),m=Se({mutationFn:async E=>{await De("POST",`/admin/v1/frontend-mapping/features/${n}/courses`,{courseId:E})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"]}),s(""),e({title:"Course added successfully"})},onError:()=>{e({title:"Failed to add course",variant:"destructive"})}}),y=Se({mutationFn:async E=>{await De("DELETE",`/admin/v1/frontend-mapping/features/${n}/courses/${E}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"]}),e({title:"Course removed"})},onError:()=>{e({title:"Failed to remove course",variant:"destructive"})}}),g=Se({mutationFn:async E=>{await De("PATCH",`/admin/v1/frontend-mapping/features/${n}/courses/reorder`,{courseIds:E})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features",n,"courses"]}),e({title:"Order updated"})},onError:()=>{e({title:"Failed to reorder",variant:"destructive"}),d!=null&&d.mappings&&o(d.mappings)}}),p=()=>{r&&m.mutate(parseInt(r))},b=E=>{y.mutate(E)},w=(E,A)=>{c(A),E.dataTransfer.effectAllowed="move"},N=(E,A)=>{if(E.preventDefault(),l===null||l===A)return;const C=[...a],[_]=C.splice(l,1);C.splice(A,0,_),o(C),c(A)},T=()=>{if(l!==null){const E=a.map(A=>A.courseId);g.mutate(E)}c(null)};return h||f?i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-brand"})})}):i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(yh,{className:"w-6 h-6 text-brand"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Abundance Mastery"})]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage the Abundance Mastery course list with built-in items and CMS courses."})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(we,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Built-in Items"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"These items are always shown first and cannot be removed or reordered."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[i.jsx(Ay,{className:"w-5 h-5 text-amber-600"}),i.jsx("span",{className:"text-gray-900 font-medium",children:"Money Calendar"}),i.jsx("span",{className:"ml-auto text-xs text-amber-600 bg-amber-100 px-2 py-1 rounded",children:"Built-in"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx(Ty,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"text-gray-900 font-medium",children:"Rewiring Belief"}),i.jsx("span",{className:"ml-auto text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded",children:"Built-in"})]})]})]}),i.jsxs(we,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add CMS Course"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Add CMS courses to appear after the built-in items. You can drag to reorder."}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Gt,{value:r,onValueChange:s,children:[i.jsx(Ut,{className:"w-[300px]","data-testid":"select-abundance-course",children:i.jsx(Yt,{placeholder:"Select a course to add"})}),i.jsx(qt,{children:x.map(E=>i.jsx(et,{value:E.id.toString(),children:E.title},E.id))})]}),i.jsxs(ee,{onClick:p,disabled:!r||m.isPending,"data-testid":"button-add-abundance-course",children:[i.jsx(gt,{className:"w-4 h-4 mr-1"}),"Add Course"]})]})]}),a.length>0&&i.jsxs(we,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mapped Courses"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Drag to reorder. These courses appear after the built-in items."}),i.jsx("div",{className:"space-y-2",children:a.map((E,A)=>i.jsxs("div",{draggable:!0,onDragStart:C=>w(C,A),onDragOver:C=>N(C,A),onDragEnd:T,className:`flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-move transition-colors ${l===A?"bg-brand/10 border-2 border-brand":"hover:bg-gray-100"}`,"data-testid":`mapped-course-${E.courseId}`,children:[i.jsx(Dc,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-brand/10 text-brand text-sm font-medium rounded",children:A+1}),i.jsx("span",{className:"text-gray-900 flex-1",children:E.course.title}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>b(E.courseId),disabled:y.isPending,"data-testid":`button-remove-course-${E.courseId}`,children:i.jsx($t,{className:"w-4 h-4 text-red-500"})})]},E.id))})]})]})]})}function _Z(){var y;const{toast:e}=ht(),t=localStorage.getItem("@app:admin_token")||"",{data:n=[],isLoading:r}=Ue({queryKey:["/api/admin/v1/cms/courses"],queryFn:async()=>{const g=await fetch("/api/admin/v1/cms/courses",{headers:{Authorization:`Bearer ${t}`}});if(!g.ok)throw new Error("Failed to fetch courses");return g.json()}}),{data:s,isLoading:a}=Ue({queryKey:["/admin/v1/frontend-mapping/features","PLAYLIST","courses"],queryFn:async()=>{const g=await fetch("/admin/v1/frontend-mapping/features/PLAYLIST/courses",{headers:{Authorization:`Bearer ${t}`}});if(!g.ok)throw new Error("Failed to fetch mappings");return g.json()}}),o=(y=s==null?void 0:s.mappings)==null?void 0:y[0],l=o==null?void 0:o.courseId,{data:c=[],isLoading:u}=Ue({queryKey:["/api/admin/v1/cms/courses",l,"modules-with-lessons"],enabled:!!l,queryFn:async()=>{const g=await fetch(`/api/admin/v1/cms/courses/${l}/modules`,{headers:{Authorization:`Bearer ${t}`}});if(!g.ok)throw new Error("Failed to fetch modules");const p=await g.json();return await Promise.all(p.map(async w=>{try{const N=await fetch(`/api/admin/v1/cms/modules/${w.id}/lessons`,{headers:{Authorization:`Bearer ${t}`}});if(!N.ok)return{...w,lessonCount:0,audioLessonCount:0};const T=await N.json();let S=0;for(const E of T){const A=await fetch(`/api/admin/v1/cms/lessons/${E.id}/files`,{headers:{Authorization:`Bearer ${t}`}});A.ok&&(await A.json()).some(k=>k.fileType==="audio")&&S++}return{...w,lessonCount:T.length,audioLessonCount:S}}catch{return{...w,lessonCount:0,audioLessonCount:0}}}))}}),h=Se({mutationFn:async g=>{await De("POST","/admin/v1/frontend-mapping/features/PLAYLIST/courses",{courseId:g})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features","PLAYLIST","courses"]}),e({title:"Course mapped successfully"})},onError:()=>{e({title:"Failed to map course",variant:"destructive"})}}),d=Se({mutationFn:async g=>{await De("DELETE",`/admin/v1/frontend-mapping/features/PLAYLIST/courses/${g}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/admin/v1/frontend-mapping/features","PLAYLIST","courses"]}),e({title:"Mapping cleared"})},onError:()=>{e({title:"Failed to clear mapping",variant:"destructive"})}}),f=g=>{if(!g)return;const p=parseInt(g);p!==l&&h.mutate(p)},v=()=>{o&&d.mutate(o.courseId)},x=r||a,m=c.reduce((g,p)=>g+(p.audioLessonCount||0),0);return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"My Processes (Playlist Mapping)"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Select a CMS course to power the My Processes feature. Users will see this course's modules with their audio lessons to build playlists."})]}),x?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nt,{className:"w-6 h-6 animate-spin text-brand"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(we,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Course Selection"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select a CMS course to use for My Processes. Only audio lessons from this course will be available for user playlists."}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Gt,{value:(l==null?void 0:l.toString())||"",onValueChange:f,disabled:h.isPending,children:[i.jsx(Ut,{className:"w-[300px]","data-testid":"select-playlist-course",children:i.jsx(Yt,{placeholder:"Select a course"})}),i.jsx(qt,{children:n.map(g=>i.jsx(et,{value:g.id.toString(),children:g.title},g.id))})]}),o&&i.jsxs(ee,{variant:"outline",size:"sm",onClick:v,disabled:d.isPending,"data-testid":"button-clear-playlist-selection",children:[i.jsx(Pn,{className:"w-4 h-4 mr-1"}),"Clear Selection"]}),h.isPending&&i.jsx(nt,{className:"w-4 h-4 animate-spin text-brand"})]})]}),o&&i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"w-5 h-5 text-brand"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Content Preview"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(qn,{className:"w-4 h-4"}),i.jsxs("span",{children:[m," audio lessons total"]})]})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"These modules and their audio lessons will be available in the My Processes feature."}),u?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(nt,{className:"w-5 h-5 animate-spin text-brand"})}):c.length===0?i.jsx("p",{className:"text-gray-500 text-sm py-4",children:"No modules found in this course."}):i.jsx("div",{className:"space-y-2",children:c.map((g,p)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg","data-testid":`module-item-${g.id}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-brand/10 text-brand text-sm font-medium rounded",children:p+1}),i.jsx("span",{className:"text-gray-900",children:g.title})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[i.jsxs("span",{children:[g.lessonCount||0," lessons"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(qn,{className:"w-3 h-3"}),g.audioLessonCount||0," audio"]})]})]},g.id))})]})]})]})}function CZ(e){const t=new Date,n=new Date(e.startAt),r=new Date(e.endAt);return t<n?"scheduled":t>=n&&t<r?"active":"expired"}function EZ(e){switch(e){case"active":return i.jsx(tr,{className:"bg-green-500 text-white",children:"Active"});case"scheduled":return i.jsx(tr,{className:"bg-blue-500 text-white",children:"Scheduled"});case"expired":return i.jsx(tr,{variant:"secondary",children:"Expired"});default:return i.jsx(tr,{variant:"outline",children:e})}}function TZ(){const[,e]=Ve(),{toast:t}=ht();j.useEffect(()=>{localStorage.getItem("@app:admin_token")||e("/admin/login")},[e]);const n=localStorage.getItem("@app:admin_token")||"",{data:r=[],isLoading:s}=Ue({queryKey:["/api/admin/v1/session-banners"],queryFn:async()=>{const c=await fetch("/api/admin/v1/session-banners",{headers:{Authorization:`Bearer ${n}`}});if(!c.ok)throw new Error("Failed to fetch banners");return c.json()}}),a=Se({mutationFn:async c=>{const u=await fetch(`/api/admin/v1/session-banners/${c}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!u.ok)throw new Error("Failed to delete banner");return u.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/session-banners"]}),t({title:"Banner deleted successfully"})},onError:()=>{t({title:"Failed to delete banner",variant:"destructive"})}}),o=Se({mutationFn:async c=>{const u=await fetch(`/api/admin/v1/session-banners/${c}/duplicate`,{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!u.ok)throw new Error("Failed to duplicate banner");return u.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/session-banners"]}),t({title:"Banner duplicated successfully"})},onError:()=>{t({title:"Failed to duplicate banner",variant:"destructive"})}}),l=c=>{confirm("Are you sure you want to delete this banner?")&&a.mutate(c)};return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Session Banners"}),i.jsxs(ee,{onClick:()=>e("/admin/session-banner/banners/new"),"data-testid":"button-add-banner",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s?i.jsx("div",{className:"text-center py-8",children:"Loading..."}):r.length===0?i.jsxs(we,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No banners created yet"}),i.jsxs(ee,{onClick:()=>e("/admin/session-banner/banners/new"),"data-testid":"button-add-first-banner",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Create First Banner"]})]}):i.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=CZ(c);return i.jsx(we,{className:"p-4","data-testid":`card-banner-${c.id}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-muted rounded flex items-center justify-center",children:c.type==="session"?i.jsx(hu,{className:"w-6 h-6 text-muted-foreground"}):i.jsx(xi,{className:"w-6 h-6 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(tr,{variant:"outline",className:"capitalize",children:c.type}),EZ(u),c.liveEnabled&&c.type==="session"&&i.jsx(tr,{className:"bg-red-500 text-white",children:"LIVE"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[pv(new Date(c.startAt),"MMM d, yyyy h:mm a")," -"," ",pv(new Date(c.endAt),"MMM d, yyyy h:mm a")]}),c.ctaText&&i.jsxs("p",{className:"text-sm mt-1",children:["CTA: ",c.ctaText]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>o.mutate(c.id),disabled:o.isPending,"data-testid":`button-duplicate-${c.id}`,children:i.jsx(C3,{className:"w-4 h-4"})}),i.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/session-banner/banners/${c.id}/edit`),"data-testid":`button-edit-${c.id}`,children:i.jsx(on,{className:"w-4 h-4"})}),i.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>l(c.id),disabled:a.isPending,"data-testid":`button-delete-${c.id}`,children:i.jsx($t,{className:"w-4 h-4"})})]})]})},c.id)})})]})}function Xj(){const[,e]=Ve(),t=ns(),{toast:n}=ht(),r=!!t.id,[s,a]=j.useState({type:"session",thumbnailKey:"",videoKey:"",posterKey:"",ctaText:"",ctaLink:"",startAt:"",endAt:"",liveEnabled:!1}),[o,l]=j.useState(null),[c,u]=j.useState(null),[h,d]=j.useState(null),[f,v]=j.useState(!1),x=j.useRef(null),m=j.useRef(null),y=j.useRef(null);j.useEffect(()=>{localStorage.getItem("@app:admin_token")||e("/admin/login")},[e]);const g=localStorage.getItem("@app:admin_token")||"",{data:p,isLoading:b}=Ue({queryKey:["/api/admin/v1/session-banners",t.id],queryFn:async()=>{const C=await fetch(`/api/admin/v1/session-banners/${t.id}`,{headers:{Authorization:`Bearer ${g}`}});if(!C.ok)throw new Error("Failed to fetch banner");return C.json()},enabled:r});j.useEffect(()=>{if(p){const C=_=>new Date(_).toISOString().slice(0,16);a({type:p.type,thumbnailKey:p.thumbnailKey||"",videoKey:p.videoKey||"",posterKey:p.posterKey||"",ctaText:p.ctaText||"",ctaLink:p.ctaLink||"",startAt:C(p.startAt),endAt:C(p.endAt),liveEnabled:p.liveEnabled})}},[p]);const w=async(C,_)=>{v(!0);try{const k=await fetch(`/api/admin/v1/session-banners/upload-url?filename=${encodeURIComponent(C.name)}&contentType=${encodeURIComponent(C.type)}`,{headers:{Authorization:`Bearer ${g}`}});if(!k.ok)throw new Error("Failed to get upload URL");const{key:P,signedUrl:M}=await k.json();if(!(await fetch(M,{method:"PUT",body:C,headers:{"Content-Type":C.type}})).ok)throw new Error("Upload failed");_==="thumbnail"?(a(U=>({...U,thumbnailKey:P})),l(URL.createObjectURL(C))):_==="video"?(a(U=>({...U,videoKey:P})),u(URL.createObjectURL(C))):(a(U=>({...U,posterKey:P})),d(URL.createObjectURL(C))),n({title:`${_} uploaded successfully`})}catch(k){console.error("Upload error:",k),n({title:`Failed to upload ${_}`,variant:"destructive"})}finally{v(!1)}},N=(C,_)=>{var P;const k=(P=C.target.files)==null?void 0:P[0];k&&w(k,_)},T=Se({mutationFn:async C=>{const _=await fetch("/api/admin/v1/session-banners",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({...C,thumbnailKey:C.thumbnailKey||null,videoKey:C.videoKey||null,posterKey:C.posterKey||null,ctaText:C.ctaText||null,ctaLink:C.ctaLink||null})});if(!_.ok)throw new Error("Failed to create banner");return _.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/session-banners"]}),n({title:"Banner created successfully"}),e("/admin/session-banner/banners")},onError:()=>{n({title:"Failed to create banner",variant:"destructive"})}}),S=Se({mutationFn:async C=>{const _=await fetch(`/api/admin/v1/session-banners/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({...C,thumbnailKey:C.thumbnailKey||null,videoKey:C.videoKey||null,posterKey:C.posterKey||null,ctaText:C.ctaText||null,ctaLink:C.ctaLink||null})});if(!_.ok)throw new Error("Failed to update banner");return _.json()},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/session-banners"]}),n({title:"Banner updated successfully"}),e("/admin/session-banner/banners")},onError:()=>{n({title:"Failed to update banner",variant:"destructive"})}}),E=C=>{if(C.preventDefault(),!s.startAt||!s.endAt){n({title:"Start and end dates are required",variant:"destructive"});return}if(s.type==="session"&&!s.thumbnailKey){n({title:"Thumbnail is required for session banners",variant:"destructive"});return}if(s.type==="advertisement"&&!s.videoKey){n({title:"Video is required for advertisement banners",variant:"destructive"});return}r?S.mutate(s):T.mutate(s)},A=T.isPending||S.isPending;return r&&b?i.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:i.jsx("div",{className:"text-center py-8",children:"Loading..."})}):i.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/admin/session-banner/banners"),"data-testid":"button-back",children:i.jsx(rt,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-2xl font-bold",children:r?"Edit Banner":"Add New Banner"})]}),i.jsx(we,{className:"p-6",children:i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"type",children:"Banner Type"}),i.jsxs(Gt,{value:s.type,onValueChange:C=>a(_=>({..._,type:C})),children:[i.jsx(Ut,{"data-testid":"select-type",children:i.jsx(Yt,{placeholder:"Select type"})}),i.jsxs(qt,{children:[i.jsx(et,{value:"session",children:"Session Thumbnail"}),i.jsx(et,{value:"advertisement",children:"Advertisement Video"})]})]})]}),s.type==="session"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Thumbnail Image"}),i.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:C=>N(C,"thumbnail"),className:"hidden"}),s.thumbnailKey||o?i.jsxs("div",{className:"mt-2 relative inline-block",children:[i.jsx("div",{className:"w-48 h-32 bg-muted rounded overflow-hidden",children:o?i.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-sm",children:"Uploaded"})}),i.jsx(ee,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 w-6 h-6",onClick:()=>{a(C=>({...C,thumbnailKey:""})),l(null)},children:i.jsx(Pn,{className:"w-3 h-3"})})]}):i.jsxs(ee,{type:"button",variant:"outline",className:"mt-2",onClick:()=>{var C;return(C=x.current)==null?void 0:C.click()},disabled:f,"data-testid":"button-upload-thumbnail",children:[f?i.jsx(nt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(vs,{className:"w-4 h-4 mr-2"}),"Upload Thumbnail"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_a,{id:"liveEnabled",checked:s.liveEnabled,onCheckedChange:C=>a(_=>({..._,liveEnabled:C})),"data-testid":"switch-live-enabled"}),i.jsx(ge,{htmlFor:"liveEnabled",children:"Enable LIVE badge when session is active"})]})]}),s.type==="advertisement"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Video File"}),i.jsx("input",{ref:m,type:"file",accept:"video/*",onChange:C=>N(C,"video"),className:"hidden"}),s.videoKey||c?i.jsxs("div",{className:"mt-2 relative inline-block",children:[i.jsx("div",{className:"w-48 h-32 bg-muted rounded overflow-hidden flex items-center justify-center",children:c?i.jsx("video",{src:c,className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-muted-foreground text-sm",children:"Video uploaded"})}),i.jsx(ee,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 w-6 h-6",onClick:()=>{a(C=>({...C,videoKey:""})),u(null)},children:i.jsx(Pn,{className:"w-3 h-3"})})]}):i.jsxs(ee,{type:"button",variant:"outline",className:"mt-2",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},disabled:f,"data-testid":"button-upload-video",children:[f?i.jsx(nt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(vs,{className:"w-4 h-4 mr-2"}),"Upload Video"]})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Poster Image (optional)"}),i.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:C=>N(C,"poster"),className:"hidden"}),s.posterKey||h?i.jsxs("div",{className:"mt-2 relative inline-block",children:[i.jsx("div",{className:"w-48 h-32 bg-muted rounded overflow-hidden",children:h?i.jsx("img",{src:h,alt:"Poster",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-sm",children:"Uploaded"})}),i.jsx(ee,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 w-6 h-6",onClick:()=>{a(C=>({...C,posterKey:""})),d(null)},children:i.jsx(Pn,{className:"w-3 h-3"})})]}):i.jsxs(ee,{type:"button",variant:"outline",className:"mt-2",onClick:()=>{var C;return(C=y.current)==null?void 0:C.click()},disabled:f,"data-testid":"button-upload-poster",children:[f?i.jsx(nt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(vs,{className:"w-4 h-4 mr-2"}),"Upload Poster"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"startAt",children:"Start Date & Time"}),i.jsx(Ae,{id:"startAt",type:"datetime-local",value:s.startAt,onChange:C=>a(_=>({..._,startAt:C.target.value})),"data-testid":"input-start-at"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"endAt",children:"End Date & Time"}),i.jsx(Ae,{id:"endAt",type:"datetime-local",value:s.endAt,onChange:C=>a(_=>({..._,endAt:C.target.value})),"data-testid":"input-end-at"})]})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"ctaText",children:"CTA Text (optional)"}),i.jsx(Ae,{id:"ctaText",value:s.ctaText,onChange:C=>a(_=>({..._,ctaText:C.target.value})),placeholder:"e.g., Join Now","data-testid":"input-cta-text"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"ctaLink",children:"CTA Link (optional)"}),i.jsx(Ae,{id:"ctaLink",value:s.ctaLink,onChange:C=>a(_=>({..._,ctaLink:C.target.value})),placeholder:"e.g., https://example.com/join","data-testid":"input-cta-link"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/admin/session-banner/banners"),"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(ee,{type:"submit",disabled:A||f,"data-testid":"button-submit",children:[A&&i.jsx(nt,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Update Banner":"Create Banner"]})]})]})})]})}var ku=e=>e.type==="checkbox",Ji=e=>e instanceof Date,gn=e=>e==null;const vO=e=>typeof e=="object";var Dt=e=>!gn(e)&&!Array.isArray(e)&&vO(e)&&!Ji(e),yO=e=>Dt(e)&&e.target?ku(e.target)?e.target.checked:e.target.value:e,AZ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xO=(e,t)=>e.has(AZ(t)),PZ=e=>{const t=e.constructor&&e.constructor.prototype;return Dt(t)&&t.hasOwnProperty("isPrototypeOf")},g0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(g0&&(e instanceof Blob||r))&&(n||Dt(e)))if(t=n?[]:{},!n&&!PZ(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Wt(e[s]));else return e;return t}var Zh=e=>Array.isArray(e)?e.filter(Boolean):[],Pt=e=>e===void 0,ye=(e,t,n)=>{if(!t||!Dt(e))return n;const r=Zh(t.split(/[,[\].]+?/)).reduce((s,a)=>gn(s)?s:s[a],e);return Pt(r)||r===e?Pt(e[t])?n:e[t]:r},Mn=e=>typeof e=="boolean",v0=e=>/^\w*$/.test(e),bO=e=>Zh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(e,t,n)=>{let r=-1;const s=v0(t)?[t]:bO(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=Dt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Rf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wO=ze.createContext(null),Xh=()=>ze.useContext(wO),OZ=e=>{const{children:t,...n}=e;return ze.createElement(wO.Provider,{value:n},t)};var jO=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==mr.all&&(t._proxyFormState[o]=!r||mr.all),n&&(n[o]=!0),e[o]}});return s};function DZ(e){const t=Xh(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=ze.useState(n._formState),c=ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ze.useRef(s);return u.current=s,ze.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:a,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,a]),ze.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ze.useMemo(()=>jO(o,n,c.current,!1),[o,n])}var Ur=e=>typeof e=="string",NO=(e,t,n,r,s)=>Ur(e)?(r&&t.watch.add(e),ye(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),ye(n,a))):(r&&(t.watchAll=!0),n);function RZ(e){const t=Xh(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=ze.useRef(r),c=ze.useRef(s);l.current=r,ze.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:d=>!a&&h(NO(l.current,n._names,d.values||n._formValues,!1,c.current))}),[n,a,o]);const[u,h]=ze.useState(n._getWatch(r,s));return ze.useEffect(()=>n._removeUnmounted()),u}function MZ(e){const t=Xh(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=xO(s._names.array,n),l=RZ({control:s,name:n,defaultValue:ye(s._formValues,n,ye(s._defaultValues,n,e.defaultValue)),exact:!0}),c=DZ({control:s,name:n,exact:!0}),u=ze.useRef(e),h=ze.useRef(s.register(n,{...e.rules,value:l,...Mn(e.disabled)?{disabled:e.disabled}:{}})),d=ze.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ye(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ye(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ye(c.validatingFields,n)},error:{enumerable:!0,get:()=>ye(c.errors,n)}}),[c,n]),f=ze.useCallback(y=>h.current.onChange({target:{value:yO(y),name:n},type:Rf.CHANGE}),[n]),v=ze.useCallback(()=>h.current.onBlur({target:{value:ye(s._formValues,n),name:n},type:Rf.BLUR}),[n,s._formValues]),x=ze.useCallback(y=>{const g=ye(s._fields,n);g&&y&&(g._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:p=>y.setCustomValidity(p),reportValidity:()=>y.reportValidity()})},[s._fields,n]),m=ze.useMemo(()=>({name:n,value:l,...Mn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:f,onBlur:v,ref:x}),[n,r,c.disabled,f,v,x,l]);return ze.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(n,{...u.current.rules,...Mn(u.current.disabled)?{disabled:u.current.disabled}:{}});const g=(p,b)=>{const w=ye(s._fields,p);w&&w._f&&(w._f.mount=b)};if(g(n,!0),y){const p=Wt(ye(s._options.defaultValues,n));st(s._defaultValues,n,p),Pt(ye(s._formValues,n))&&st(s._formValues,n,p)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):g(n,!1)}},[n,s,o,a]),ze.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ze.useMemo(()=>({field:m,formState:c,fieldState:d}),[m,c,d])}const IZ=e=>e.render(MZ(e));var SO=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},fc=e=>Array.isArray(e)?e:[e],Jj=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},mv=e=>gn(e)||!vO(e);function Qs(e,t){if(mv(e)||mv(t))return e===t;if(Ji(e)&&Ji(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const a=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Ji(a)&&Ji(o)||Dt(a)&&Dt(o)||Array.isArray(a)&&Array.isArray(o)?!Qs(a,o):a!==o)return!1}}return!0}var pn=e=>Dt(e)&&!Object.keys(e).length,y0=e=>e.type==="file",gr=e=>typeof e=="function",Mf=e=>{if(!g0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kO=e=>e.type==="select-multiple",x0=e=>e.type==="radio",LZ=e=>x0(e)||ku(e),fm=e=>Mf(e)&&e.isConnected;function FZ(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Pt(e)?r++:e[t[r++]];return e}function $Z(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function Mt(e,t){const n=Array.isArray(t)?t:v0(t)?[t]:bO(t),r=n.length===1?e:FZ(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(Dt(r)&&pn(r)||Array.isArray(r)&&$Z(r))&&Mt(e,n.slice(0,-1)),e}var _O=e=>{for(const t in e)if(gr(e[t]))return!0;return!1};function If(e,t={}){const n=Array.isArray(e);if(Dt(e)||n)for(const r in e)Array.isArray(e[r])||Dt(e[r])&&!_O(e[r])?(t[r]=Array.isArray(e[r])?[]:{},If(e[r],t[r])):gn(e[r])||(t[r]=!0);return t}function CO(e,t,n){const r=Array.isArray(e);if(Dt(e)||r)for(const s in e)Array.isArray(e[s])||Dt(e[s])&&!_O(e[s])?Pt(t)||mv(n[s])?n[s]=Array.isArray(e[s])?If(e[s],[]):{...If(e[s])}:CO(e[s],gn(t)?{}:t[s],n[s]):n[s]=!Qs(e[s],t[s]);return n}var Fl=(e,t)=>CO(e,t,If(t));const eN={value:!1,isValid:!1},tN={value:!0,isValid:!0};var EO=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?tN:{value:e[0].value,isValid:!0}:tN:eN}return eN},TO=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Pt(e)?e:t?e===""?NaN:e&&+e:n&&Ur(e)?new Date(e):r?r(e):e;const nN={isValid:!1,value:null};var AO=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,nN):nN;function rN(e){const t=e.ref;return y0(t)?t.files:x0(t)?AO(e.refs).value:kO(t)?[...t.selectedOptions].map(({value:n})=>n):ku(t)?EO(e.refs).value:TO(Pt(t.value)?e.ref.value:t.value,e)}var BZ=(e,t,n,r)=>{const s={};for(const a of e){const o=ye(t,a);o&&st(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Lf=e=>e instanceof RegExp,$l=e=>Pt(e)?e:Lf(e)?e.source:Dt(e)?Lf(e.value)?e.value.source:e.value:e,sN=e=>({isOnSubmit:!e||e===mr.onSubmit,isOnBlur:e===mr.onBlur,isOnChange:e===mr.onChange,isOnAll:e===mr.all,isOnTouch:e===mr.onTouched});const iN="AsyncFunction";var VZ=e=>!!e&&!!e.validate&&!!(gr(e.validate)&&e.validate.constructor.name===iN||Dt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iN)),UZ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),aN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const hc=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=ye(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(hc(l,t))break}else if(Dt(l)&&hc(l,t))break}}};function oN(e,t,n){const r=ye(e,n);if(r||v0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=ye(t,a),l=ye(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var qZ=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return pn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||mr.all))},zZ=(e,t,n)=>!e||!t||e===t||fc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),WZ=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,HZ=(e,t)=>!Zh(ye(e,t)).length&&Mt(e,t),KZ=(e,t,n)=>{const r=fc(ye(e,n));return st(r,"root",t[n]),st(e,n,r),e},Dd=e=>Ur(e);function lN(e,t,n="validate"){if(Dd(e)||Array.isArray(e)&&e.every(Dd)||Mn(e)&&!e)return{type:n,message:Dd(e)?e:"",ref:t}}var za=e=>Dt(e)&&!Lf(e)?e:{value:e,message:""},cN=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:d,max:f,pattern:v,validate:x,name:m,valueAsNumber:y,mount:g}=e._f,p=ye(n,m);if(!g||t.has(m))return{};const b=l?l[0]:o,w=k=>{s&&b.reportValidity&&(b.setCustomValidity(Mn(k)?"":k||""),b.reportValidity())},N={},T=x0(o),S=ku(o),E=T||S,A=(y||y0(o))&&Pt(o.value)&&Pt(p)||Mf(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,C=SO.bind(null,m,r,N),_=(k,P,M,B=is.maxLength,U=is.minLength)=>{const L=k?P:M;N[m]={type:k?B:U,message:L,ref:o,...C(k?B:U,L)}};if(a?!Array.isArray(p)||!p.length:c&&(!E&&(A||gn(p))||Mn(p)&&!p||S&&!EO(l).isValid||T&&!AO(l).isValid)){const{value:k,message:P}=Dd(c)?{value:!!c,message:c}:za(c);if(k&&(N[m]={type:is.required,message:P,ref:b,...C(is.required,P)},!r))return w(P),N}if(!A&&(!gn(d)||!gn(f))){let k,P;const M=za(f),B=za(d);if(!gn(p)&&!isNaN(p)){const U=o.valueAsNumber||p&&+p;gn(M.value)||(k=U>M.value),gn(B.value)||(P=U<B.value)}else{const U=o.valueAsDate||new Date(p),L=O=>new Date(new Date().toDateString()+" "+O),F=o.type=="time",R=o.type=="week";Ur(M.value)&&p&&(k=F?L(p)>L(M.value):R?p>M.value:U>new Date(M.value)),Ur(B.value)&&p&&(P=F?L(p)<L(B.value):R?p<B.value:U<new Date(B.value))}if((k||P)&&(_(!!k,M.message,B.message,is.max,is.min),!r))return w(N[m].message),N}if((u||h)&&!A&&(Ur(p)||a&&Array.isArray(p))){const k=za(u),P=za(h),M=!gn(k.value)&&p.length>+k.value,B=!gn(P.value)&&p.length<+P.value;if((M||B)&&(_(M,k.message,P.message),!r))return w(N[m].message),N}if(v&&!A&&Ur(p)){const{value:k,message:P}=za(v);if(Lf(k)&&!p.match(k)&&(N[m]={type:is.pattern,message:P,ref:o,...C(is.pattern,P)},!r))return w(P),N}if(x){if(gr(x)){const k=await x(p,n),P=lN(k,b);if(P&&(N[m]={...P,...C(is.validate,P.message)},!r))return w(P.message),N}else if(Dt(x)){let k={};for(const P in x){if(!pn(k)&&!r)break;const M=lN(await x[P](p,n),b,P);M&&(k={...M,...C(P,M.message)},w(M.message),r&&(N[m]=k))}if(!pn(k)&&(N[m]={ref:b,...k},!r))return N}}return w(!0),N};const QZ={mode:mr.onSubmit,reValidateMode:mr.onChange,shouldFocusError:!0};function GZ(e={}){let t={...QZ,...e},n={submitCount:0,isDirty:!1,isLoading:gr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=Dt(t.defaultValues)||Dt(t.values)?Wt(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Wt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const f={array:Jj(),state:Jj()},v=sN(t.mode),x=sN(t.reValidateMode),m=t.criteriaMode===mr.all,y=I=>H=>{clearTimeout(u),u=setTimeout(I,H)},g=async I=>{if(!t.disabled&&(h.isValid||d.isValid||I)){const H=t.resolver?pn((await A()).errors):await _(r,!0);H!==n.isValid&&f.state.next({isValid:H})}},p=(I,H)=>{!t.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((I||Array.from(l.mount)).forEach(G=>{G&&(H?st(n.validatingFields,G,H):Mt(n.validatingFields,G))}),f.state.next({validatingFields:n.validatingFields,isValidating:!pn(n.validatingFields)}))},b=(I,H=[],G,se,ce=!0,J=!0)=>{if(se&&G&&!t.disabled){if(o.action=!0,J&&Array.isArray(ye(r,I))){const ie=G(ye(r,I),se.argA,se.argB);ce&&st(r,I,ie)}if(J&&Array.isArray(ye(n.errors,I))){const ie=G(ye(n.errors,I),se.argA,se.argB);ce&&st(n.errors,I,ie),HZ(n.errors,I)}if((h.touchedFields||d.touchedFields)&&J&&Array.isArray(ye(n.touchedFields,I))){const ie=G(ye(n.touchedFields,I),se.argA,se.argB);ce&&st(n.touchedFields,I,ie)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Fl(s,a)),f.state.next({name:I,isDirty:P(I,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else st(a,I,H)},w=(I,H)=>{st(n.errors,I,H),f.state.next({errors:n.errors})},N=I=>{n.errors=I,f.state.next({errors:n.errors,isValid:!1})},T=(I,H,G,se)=>{const ce=ye(r,I);if(ce){const J=ye(a,I,Pt(G)?ye(s,I):G);Pt(J)||se&&se.defaultChecked||H?st(a,I,H?J:rN(ce._f)):U(I,J),o.mount&&g()}},S=(I,H,G,se,ce)=>{let J=!1,ie=!1;const _e={name:I};if(!t.disabled){if(!G||se){(h.isDirty||d.isDirty)&&(ie=n.isDirty,n.isDirty=_e.isDirty=P(),J=ie!==_e.isDirty);const Me=Qs(ye(s,I),H);ie=!!ye(n.dirtyFields,I),Me?Mt(n.dirtyFields,I):st(n.dirtyFields,I,!0),_e.dirtyFields=n.dirtyFields,J=J||(h.dirtyFields||d.dirtyFields)&&ie!==!Me}if(G){const Me=ye(n.touchedFields,I);Me||(st(n.touchedFields,I,G),_e.touchedFields=n.touchedFields,J=J||(h.touchedFields||d.touchedFields)&&Me!==G)}J&&ce&&f.state.next(_e)}return J?_e:{}},E=(I,H,G,se)=>{const ce=ye(n.errors,I),J=(h.isValid||d.isValid)&&Mn(H)&&n.isValid!==H;if(t.delayError&&G?(c=y(()=>w(I,G)),c(t.delayError)):(clearTimeout(u),c=null,G?st(n.errors,I,G):Mt(n.errors,I)),(G?!Qs(ce,G):ce)||!pn(se)||J){const ie={...se,...J&&Mn(H)?{isValid:H}:{},errors:n.errors,name:I};n={...n,...ie},f.state.next(ie)}},A=async I=>{p(I,!0);const H=await t.resolver(a,t.context,BZ(I||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return p(I),H},C=async I=>{const{errors:H}=await A(I);if(I)for(const G of I){const se=ye(H,G);se?st(n.errors,G,se):Mt(n.errors,G)}else n.errors=H;return H},_=async(I,H,G={valid:!0})=>{for(const se in I){const ce=I[se];if(ce){const{_f:J,...ie}=ce;if(J){const _e=l.array.has(J.name),Me=ce._f&&VZ(ce._f);Me&&h.validatingFields&&p([se],!0);const ae=await cN(ce,l.disabled,a,m,t.shouldUseNativeValidation&&!H,_e);if(Me&&h.validatingFields&&p([se]),ae[J.name]&&(G.valid=!1,H))break;!H&&(ye(ae,J.name)?_e?KZ(n.errors,ae,J.name):st(n.errors,J.name,ae[J.name]):Mt(n.errors,J.name))}!pn(ie)&&await _(ie,H,G)}}return G.valid},k=()=>{for(const I of l.unMount){const H=ye(r,I);H&&(H._f.refs?H._f.refs.every(G=>!fm(G)):!fm(H._f.ref))&&X(I)}l.unMount=new Set},P=(I,H)=>!t.disabled&&(I&&H&&st(a,I,H),!Qs($(),s)),M=(I,H,G)=>NO(I,l,{...o.mount?a:Pt(H)?s:Ur(I)?{[I]:H}:H},G,H),B=I=>Zh(ye(o.mount?a:s,I,t.shouldUnregister?ye(s,I,[]):[])),U=(I,H,G={})=>{const se=ye(r,I);let ce=H;if(se){const J=se._f;J&&(!J.disabled&&st(a,I,TO(H,J)),ce=Mf(J.ref)&&gn(H)?"":H,kO(J.ref)?[...J.ref.options].forEach(ie=>ie.selected=ce.includes(ie.value)):J.refs?ku(J.ref)?J.refs.length>1?J.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(ce)?!!ce.find(_e=>_e===ie.value):ce===ie.value)):J.refs[0]&&(J.refs[0].checked=!!ce):J.refs.forEach(ie=>ie.checked=ie.value===ce):y0(J.ref)?J.ref.value="":(J.ref.value=ce,J.ref.type||f.state.next({name:I,values:Wt(a)})))}(G.shouldDirty||G.shouldTouch)&&S(I,ce,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&D(I)},L=(I,H,G)=>{for(const se in H){const ce=H[se],J=`${I}.${se}`,ie=ye(r,J);(l.array.has(I)||Dt(ce)||ie&&!ie._f)&&!Ji(ce)?L(J,ce,G):U(J,ce,G)}},F=(I,H,G={})=>{const se=ye(r,I),ce=l.array.has(I),J=Wt(H);st(a,I,J),ce?(f.array.next({name:I,values:Wt(a)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&G.shouldDirty&&f.state.next({name:I,dirtyFields:Fl(s,a),isDirty:P(I,J)})):se&&!se._f&&!gn(J)?L(I,J,G):U(I,J,G),aN(I,l)&&f.state.next({...n}),f.state.next({name:o.mount?I:void 0,values:Wt(a)})},R=async I=>{o.mount=!0;const H=I.target;let G=H.name,se=!0;const ce=ye(r,G),J=ie=>{se=Number.isNaN(ie)||Ji(ie)&&isNaN(ie.getTime())||Qs(ie,ye(a,G,ie))};if(ce){let ie,_e;const Me=H.type?rN(ce._f):yO(I),ae=I.type===Rf.BLUR||I.type===Rf.FOCUS_OUT,Le=!UZ(ce._f)&&!t.resolver&&!ye(n.errors,G)&&!ce._f.deps||WZ(ae,ye(n.touchedFields,G),n.isSubmitted,x,v),pt=aN(G,l,ae);st(a,G,Me),ae?(ce._f.onBlur&&ce._f.onBlur(I),c&&c(0)):ce._f.onChange&&ce._f.onChange(I);const jn=S(G,Me,ae),QO=!pn(jn)||pt;if(!ae&&f.state.next({name:G,type:I.type,values:Wt(a)}),Le)return(h.isValid||d.isValid)&&(t.mode==="onBlur"?ae&&g():ae||g()),QO&&f.state.next({name:G,...pt?{}:jn});if(!ae&&pt&&f.state.next({...n}),t.resolver){const{errors:k0}=await A([G]);if(J(Me),se){const GO=oN(n.errors,r,G),_0=oN(k0,r,GO.name||G);ie=_0.error,G=_0.name,_e=pn(k0)}}else p([G],!0),ie=(await cN(ce,l.disabled,a,m,t.shouldUseNativeValidation))[G],p([G]),J(Me),se&&(ie?_e=!1:(h.isValid||d.isValid)&&(_e=await _(r,!0)));se&&(ce._f.deps&&D(ce._f.deps),E(G,_e,ie,jn))}},O=(I,H)=>{if(ye(n.errors,H)&&I.focus)return I.focus(),1},D=async(I,H={})=>{let G,se;const ce=fc(I);if(t.resolver){const J=await C(Pt(I)?I:ce);G=pn(J),se=I?!ce.some(ie=>ye(J,ie)):G}else I?(se=(await Promise.all(ce.map(async J=>{const ie=ye(r,J);return await _(ie&&ie._f?{[J]:ie}:ie)}))).every(Boolean),!(!se&&!n.isValid)&&g()):se=G=await _(r);return f.state.next({...!Ur(I)||(h.isValid||d.isValid)&&G!==n.isValid?{}:{name:I},...t.resolver||!I?{isValid:G}:{},errors:n.errors}),H.shouldFocus&&!se&&hc(r,O,I?ce:l.mount),se},$=I=>{const H={...o.mount?a:s};return Pt(I)?H:Ur(I)?ye(H,I):I.map(G=>ye(H,G))},q=(I,H)=>({invalid:!!ye((H||n).errors,I),isDirty:!!ye((H||n).dirtyFields,I),error:ye((H||n).errors,I),isValidating:!!ye(n.validatingFields,I),isTouched:!!ye((H||n).touchedFields,I)}),K=I=>{I&&fc(I).forEach(H=>Mt(n.errors,H)),f.state.next({errors:I?n.errors:{}})},W=(I,H,G)=>{const se=(ye(r,I,{_f:{}})._f||{}).ref,ce=ye(n.errors,I)||{},{ref:J,message:ie,type:_e,...Me}=ce;st(n.errors,I,{...Me,...H,ref:se}),f.state.next({name:I,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&se&&se.focus&&se.focus()},V=(I,H)=>gr(I)?f.state.subscribe({next:G=>I(M(void 0,H),G)}):M(I,H,!0),z=I=>f.state.subscribe({next:H=>{zZ(I.name,H.name,I.exact)&&qZ(H,I.formState||h,re,I.reRenderRoot)&&I.callback({values:{...a},...n,...H})}}).unsubscribe,Z=I=>(o.mount=!0,d={...d,...I.formState},z({...I,formState:d})),X=(I,H={})=>{for(const G of I?fc(I):l.mount)l.mount.delete(G),l.array.delete(G),H.keepValue||(Mt(r,G),Mt(a,G)),!H.keepError&&Mt(n.errors,G),!H.keepDirty&&Mt(n.dirtyFields,G),!H.keepTouched&&Mt(n.touchedFields,G),!H.keepIsValidating&&Mt(n.validatingFields,G),!t.shouldUnregister&&!H.keepDefaultValue&&Mt(s,G);f.state.next({values:Wt(a)}),f.state.next({...n,...H.keepDirty?{isDirty:P()}:{}}),!H.keepIsValid&&g()},te=({disabled:I,name:H})=>{(Mn(I)&&o.mount||I||l.disabled.has(H))&&(I?l.disabled.add(H):l.disabled.delete(H))},oe=(I,H={})=>{let G=ye(r,I);const se=Mn(H.disabled)||Mn(t.disabled);return st(r,I,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:I}},name:I,mount:!0,...H}}),l.mount.add(I),G?te({disabled:Mn(H.disabled)?H.disabled:t.disabled,name:I}):T(I,!0,H.value),{...se?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:$l(H.min),max:$l(H.max),minLength:$l(H.minLength),maxLength:$l(H.maxLength),pattern:$l(H.pattern)}:{},name:I,onChange:R,onBlur:R,ref:ce=>{if(ce){oe(I,H),G=ye(r,I);const J=Pt(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,ie=LZ(J),_e=G._f.refs||[];if(ie?_e.find(Me=>Me===J):J===G._f.ref)return;st(r,I,{_f:{...G._f,...ie?{refs:[..._e.filter(fm),J,...Array.isArray(ye(s,I))?[{}]:[]],ref:{type:J.type,name:I}}:{ref:J}}}),T(I,!1,void 0,J)}else G=ye(r,I,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(xO(l.array,I)&&o.action)&&l.unMount.add(I)}}},Y=()=>t.shouldFocusError&&hc(r,O,l.mount),de=I=>{Mn(I)&&(f.state.next({disabled:I}),hc(r,(H,G)=>{const se=ye(r,G);se&&(H.disabled=se._f.disabled||I,Array.isArray(se._f.refs)&&se._f.refs.forEach(ce=>{ce.disabled=se._f.disabled||I}))},0,!1))},le=(I,H)=>async G=>{let se;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ce=Wt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:ie}=await A();n.errors=J,ce=ie}else await _(r);if(l.disabled.size)for(const J of l.disabled)st(ce,J,void 0);if(Mt(n.errors,"root"),pn(n.errors)){f.state.next({errors:{}});try{await I(ce,G)}catch(J){se=J}}else H&&await H({...n.errors},G),Y(),setTimeout(Y);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},Ce=(I,H={})=>{ye(r,I)&&(Pt(H.defaultValue)?F(I,Wt(ye(s,I))):(F(I,H.defaultValue),st(s,I,Wt(H.defaultValue))),H.keepTouched||Mt(n.touchedFields,I),H.keepDirty||(Mt(n.dirtyFields,I),n.isDirty=H.defaultValue?P(I,Wt(ye(s,I))):P()),H.keepError||(Mt(n.errors,I),h.isValid&&g()),f.state.next({...n}))},Xe=(I,H={})=>{const G=I?Wt(I):s,se=Wt(G),ce=pn(I),J=ce?s:se;if(H.keepDefaultValues||(s=G),!H.keepValues){if(H.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(Fl(s,a))]);for(const _e of Array.from(ie))ye(n.dirtyFields,_e)?st(J,_e,ye(a,_e)):F(_e,ye(J,_e))}else{if(g0&&Pt(I))for(const ie of l.mount){const _e=ye(r,ie);if(_e&&_e._f){const Me=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Mf(Me)){const ae=Me.closest("form");if(ae){ae.reset();break}}}}for(const ie of l.mount)F(ie,ye(J,ie))}a=Wt(J),f.array.next({values:{...J}}),f.state.next({values:{...J}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!Qs(I,s)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:H.keepDirtyValues?H.keepDefaultValues&&a?Fl(s,a):n.dirtyFields:H.keepDefaultValues&&I?Fl(s,I):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(I,H)=>Xe(gr(I)?I(a):I,H),ne=(I,H={})=>{const G=ye(r,I),se=G&&G._f;if(se){const ce=se.refs?se.refs[0]:se.ref;ce.focus&&(ce.focus(),H.shouldSelect&&gr(ce.select)&&ce.select())}},re=I=>{n={...n,...I}},pe={control:{register:oe,unregister:X,getFieldState:q,handleSubmit:le,setError:W,_subscribe:z,_runSchema:A,_getWatch:M,_getDirty:P,_setValid:g,_setFieldArray:b,_setDisabledField:te,_setErrors:N,_getFieldArray:B,_reset:Xe,_resetDefaultValues:()=>gr(t.defaultValues)&&t.defaultValues().then(I=>{Oe(I,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:de,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(I){o=I},get _defaultValues(){return s},get _names(){return l},set _names(I){l=I},get _formState(){return n},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:Z,trigger:D,register:oe,handleSubmit:le,watch:V,setValue:F,getValues:$,reset:Oe,resetField:Ce,clearErrors:K,unregister:X,setError:W,setFocus:ne,getFieldState:q};return{...pe,formControl:pe}}function YZ(e={}){const t=ze.useRef(void 0),n=ze.useRef(void 0),[r,s]=ze.useState({isDirty:!1,isValidating:!1,isLoading:gr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:gr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:GZ(e),formState:r},e.formControl&&e.defaultValues&&!gr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,ze.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),ze.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ze.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),ze.useEffect(()=>{e.values&&!Qs(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),ze.useEffect(()=>{e.errors&&!pn(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),ze.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ze.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=jO(r,a),t.current}const uN=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ye(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},PO=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?uN(r.ref,n,e):r.refs&&r.refs.forEach(s=>uN(s,n,e))}},ZZ=(e,t)=>{t.shouldUseNativeValidation&&PO(e,t);const n={};for(const r in e){const s=ye(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(XZ(t.names||Object.keys(e),r)){const o=Object.assign({},ye(n,r));st(o,"root",a),st(n,r,o)}else st(n,r,a)}return n},XZ=(e,t)=>e.some(n=>n.startsWith(t+"."));var JZ=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(d){return e.push(d)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=SO(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},eX=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&PO({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:ZZ(JZ(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Je;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Je||(Je={}));var gv;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(gv||(gv={}));const Ne=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),us=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map<"u"&&e instanceof Map?Ne.map:typeof Set<"u"&&e instanceof Set?Ne.set:typeof Date<"u"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},ue=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tX=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Vn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Vn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vn.create=e=>new Vn(e);const el=(e,t)=>{let n;switch(e.code){case ue.invalid_type:e.received===Ne.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Je.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(e.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(e.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Je.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ue.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ue.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=t.defaultError,Je.assertNever(e)}return{message:n}};let OO=el;function nX(e){OO=e}function Ff(){return OO}const $f=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},rX=[];function be(e,t){const n=Ff(),r=$f({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===el?void 0:el].filter(s=>!!s)});e.common.issues.push(r)}class dn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Be;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return dn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Be;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const Be=Object.freeze({status:"aborted"}),co=e=>({status:"dirty",value:e}),yn=e=>({status:"valid",value:e}),vv=e=>e.status==="aborted",yv=e=>e.status==="dirty",Ea=e=>e.status==="valid",qc=e=>typeof Promise<"u"&&e instanceof Promise;function Bf(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function DO(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));var Gl,Yl;class es{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dN=(e,t)=>{if(Ea(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vn(e.common.issues);return this._error=n,this._error}}};function We(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=h??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Qe{get description(){return this._def.description}_getType(t){return us(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dn,ctx:{common:t.parent.common,data:t.data,parsedType:us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(qc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:us(t)},a=this._parseSync({data:t,path:s.path,parent:s});return dN(s,a)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:us(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return Ea(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>Ea(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:us(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(qc(s)?s:Promise.resolve(s));return dN(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:ue.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Er({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Zr.create(this,this._def)}nullable(){return Ri.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this)}promise(){return nl.create(this,this._def)}or(t){return Kc.create([this,t],this._def)}and(t){return Qc.create(this,t,this._def)}transform(t){return new Er({...We(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Jc({...We(this._def),innerType:this,defaultValue:n,typeName:$e.ZodDefault})}brand(){return new b0({typeName:$e.ZodBranded,type:this,...We(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new eu({...We(this._def),innerType:this,catchValue:n,typeName:$e.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return _u.create(this,t)}readonly(){return tu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sX=/^c[^\s-]{8,}$/i,iX=/^[0-9a-z]+$/,aX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lX=/^[a-z0-9_-]{21}$/i,cX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hm;const hX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xX=new RegExp(`^${RO}$`);function MO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function bX(e){return new RegExp(`^${MO(e)}$`)}function IO(e){let t=`${RO}T${MO(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function wX(e,t){return!!((t==="v4"||!t)&&hX.test(e)||(t==="v6"||!t)&&mX.test(e))}function jX(e,t){if(!cX.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function NX(e,t){return!!((t==="v4"||!t)&&pX.test(e)||(t==="v6"||!t)&&gX.test(e))}class vr extends Qe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const a=this._getOrReturnCtx(t);return be(a,{code:ue.invalid_type,expected:Ne.string,received:a.parsedType}),Be}const r=new dn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),be(s,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),be(s,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?be(s,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&be(s,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")dX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"email",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")hm||(hm=new RegExp(fX,"u")),hm.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"emoji",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")oX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"uuid",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")lX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"nanoid",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")sX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"cuid",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")iX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"cuid2",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")aX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"ulid",code:ue.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),be(s,{validation:"url",code:ue.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"regex",code:ue.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),be(s,{code:ue.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),be(s,{code:ue.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),be(s,{code:ue.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?IO(a).test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{code:ue.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?xX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{code:ue.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?bX(a).test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{code:ue.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?uX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"duration",code:ue.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?wX(t.data,a.version)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"ip",code:ue.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?jX(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"jwt",code:ue.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?NX(t.data,a.version)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"cidr",code:ue.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?vX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"base64",code:ue.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?yX.test(t.data)||(s=this._getOrReturnCtx(t,s),be(s,{validation:"base64url",code:ue.invalid_string,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:ue.invalid_string,...Te.errToObj(r)})}_addCheck(t){return new vr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Te.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Te.errToObj(n)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vr.create=e=>{var t;return new vr({checks:[],typeName:$e.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...We(e)})};function SX(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class Pi extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const a=this._getOrReturnCtx(t);return be(a,{code:ue.invalid_type,expected:Ne.number,received:a.parsedType}),Be}let r;const s=new dn;for(const a of this._def.checks)a.kind==="int"?Je.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),be(r,{code:ue.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?SX(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),be(r,{code:ue.not_finite,message:a.message}),s.dirty()):Je.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,r,s){return new Pi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(t){return new Pi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Je.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Pi.create=e=>new Pi({checks:[],typeName:$e.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...We(e)});class Oi extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ne.bigint)return this._getInvalidInput(t);let r;const s=new dn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Je.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return be(n,{code:ue.invalid_type,expected:Ne.bigint,received:n.parsedType}),Be}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,r,s){return new Oi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(t){return new Oi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Oi.create=e=>{var t;return new Oi({checks:[],typeName:$e.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...We(e)})};class zc extends Qe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ne.boolean,received:r.parsedType}),Be}return yn(t.data)}}zc.create=e=>new zc({typeName:$e.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...We(e)});class Ta extends Qe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const a=this._getOrReturnCtx(t);return be(a,{code:ue.invalid_type,expected:Ne.date,received:a.parsedType}),Be}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return be(a,{code:ue.invalid_date}),Be}const r=new dn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),be(s,{code:ue.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),be(s,{code:ue.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Je.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ta({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ta.create=e=>new Ta({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:$e.ZodDate,...We(e)});class Vf extends Qe{_parse(t){if(this._getType(t)!==Ne.symbol){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ne.symbol,received:r.parsedType}),Be}return yn(t.data)}}Vf.create=e=>new Vf({typeName:$e.ZodSymbol,...We(e)});class Wc extends Qe{_parse(t){if(this._getType(t)!==Ne.undefined){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ne.undefined,received:r.parsedType}),Be}return yn(t.data)}}Wc.create=e=>new Wc({typeName:$e.ZodUndefined,...We(e)});class Hc extends Qe{_parse(t){if(this._getType(t)!==Ne.null){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ne.null,received:r.parsedType}),Be}return yn(t.data)}}Hc.create=e=>new Hc({typeName:$e.ZodNull,...We(e)});class tl extends Qe{constructor(){super(...arguments),this._any=!0}_parse(t){return yn(t.data)}}tl.create=e=>new tl({typeName:$e.ZodAny,...We(e)});class da extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yn(t.data)}}da.create=e=>new da({typeName:$e.ZodUnknown,...We(e)});class As extends Qe{_parse(t){const n=this._getOrReturnCtx(t);return be(n,{code:ue.invalid_type,expected:Ne.never,received:n.parsedType}),Be}}As.create=e=>new As({typeName:$e.ZodNever,...We(e)});class Uf extends Qe{_parse(t){if(this._getType(t)!==Ne.undefined){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ne.void,received:r.parsedType}),Be}return yn(t.data)}}Uf.create=e=>new Uf({typeName:$e.ZodVoid,...We(e)});class wr extends Qe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Ne.array)return be(n,{code:ue.invalid_type,expected:Ne.array,received:n.parsedType}),Be;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(be(n,{code:o?ue.too_big:ue.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(be(n,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(be(n,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new es(n,o,n.path,l)))).then(o=>dn.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new es(n,o,n.path,l)));return dn.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new wr({...this._def,minLength:{value:t,message:Te.toString(n)}})}max(t,n){return new wr({...this._def,maxLength:{value:t,message:Te.toString(n)}})}length(t,n){return new wr({...this._def,exactLength:{value:t,message:Te.toString(n)}})}nonempty(t){return this.min(1,t)}}wr.create=(e,t)=>new wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...We(t)});function Wa(e){if(e instanceof Nt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Zr.create(Wa(r))}return new Nt({...e._def,shape:()=>t})}else return e instanceof wr?new wr({...e._def,type:Wa(e.element)}):e instanceof Zr?Zr.create(Wa(e.unwrap())):e instanceof Ri?Ri.create(Wa(e.unwrap())):e instanceof ts?ts.create(e.items.map(t=>Wa(t))):e}class Nt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Je.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ne.object){const u=this._getOrReturnCtx(t);return be(u,{code:ue.invalid_type,expected:Ne.object,received:u.parsedType}),Be}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof As&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new es(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof As){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(be(s,{code:ue.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const d=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new es(s,d,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const d=await h.key,f=await h.value;u.push({key:d,value:f,alwaysSet:h.alwaysSet})}return u}).then(u=>dn.mergeObjectSync(r,u)):dn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new Nt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Te.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Nt({...this._def,unknownKeys:"strip"})}passthrough(){return new Nt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Nt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Nt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:$e.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Nt({...this._def,catchall:t})}pick(t){const n={};return Je.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Nt({...this._def,shape:()=>n})}omit(t){const n={};return Je.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Nt({...this._def,shape:()=>n})}deepPartial(){return Wa(this)}partial(t){const n={};return Je.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new Nt({...this._def,shape:()=>n})}required(t){const n={};return Je.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Zr;)a=a._def.innerType;n[r]=a}}),new Nt({...this._def,shape:()=>n})}keyof(){return LO(Je.objectKeys(this.shape))}}Nt.create=(e,t)=>new Nt({shape:()=>e,unknownKeys:"strip",catchall:As.create(),typeName:$e.ZodObject,...We(t)});Nt.strictCreate=(e,t)=>new Nt({shape:()=>e,unknownKeys:"strict",catchall:As.create(),typeName:$e.ZodObject,...We(t)});Nt.lazycreate=(e,t)=>new Nt({shape:e,unknownKeys:"strip",catchall:As.create(),typeName:$e.ZodObject,...We(t)});class Kc extends Qe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Vn(l.ctx.common.issues));return be(n,{code:ue.invalid_union,unionErrors:o}),Be}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Vn(c));return be(n,{code:ue.invalid_union,unionErrors:l}),Be}}get options(){return this._def.options}}Kc.create=(e,t)=>new Kc({options:e,typeName:$e.ZodUnion,...We(t)});const os=e=>e instanceof Yc?os(e.schema):e instanceof Er?os(e.innerType()):e instanceof Zc?[e.value]:e instanceof Di?e.options:e instanceof Xc?Je.objectValues(e.enum):e instanceof Jc?os(e._def.innerType):e instanceof Wc?[void 0]:e instanceof Hc?[null]:e instanceof Zr?[void 0,...os(e.unwrap())]:e instanceof Ri?[null,...os(e.unwrap())]:e instanceof b0||e instanceof tu?os(e.unwrap()):e instanceof eu?os(e._def.innerType):[];class Jh extends Qe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.object)return be(n,{code:ue.invalid_type,expected:Ne.object,received:n.parsedType}),Be;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(be(n,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const o=os(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new Jh({typeName:$e.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...We(r)})}}function xv(e,t){const n=us(e),r=us(t);if(e===t)return{valid:!0,data:e};if(n===Ne.object&&r===Ne.object){const s=Je.objectKeys(t),a=Je.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=xv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ne.array&&r===Ne.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=xv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Ne.date&&r===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Qc extends Qe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(vv(a)||vv(o))return Be;const l=xv(a.value,o.value);return l.valid?((yv(a)||yv(o))&&n.dirty(),{status:n.value,value:l.data}):(be(r,{code:ue.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qc.create=(e,t,n)=>new Qc({left:e,right:t,typeName:$e.ZodIntersection,...We(n)});class ts extends Qe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.array)return be(r,{code:ue.invalid_type,expected:Ne.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return be(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(be(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new es(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>dn.mergeArray(n,o)):dn.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new ts({...this._def,rest:t})}}ts.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ts({items:e,typeName:$e.ZodTuple,rest:null,...We(t)})};class Gc extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.object)return be(r,{code:ue.invalid_type,expected:Ne.object,received:r.parsedType}),Be;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new es(r,l,r.path,l)),value:o._parse(new es(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?dn.mergeObjectAsync(n,s):dn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Qe?new Gc({keyType:t,valueType:n,typeName:$e.ZodRecord,...We(r)}):new Gc({keyType:vr.create(),valueType:t,typeName:$e.ZodRecord,...We(n)})}}class qf extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.map)return be(r,{code:ue.invalid_type,expected:Ne.map,received:r.parsedType}),Be;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new es(r,l,r.path,[u,"key"])),value:a._parse(new es(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Be;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Be;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}qf.create=(e,t,n)=>new qf({valueType:t,keyType:e,typeName:$e.ZodMap,...We(n)});class Aa extends Qe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.set)return be(r,{code:ue.invalid_type,expected:Ne.set,received:r.parsedType}),Be;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(be(r,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(be(r,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Be;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new es(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Aa({...this._def,minSize:{value:t,message:Te.toString(n)}})}max(t,n){return new Aa({...this._def,maxSize:{value:t,message:Te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Aa.create=(e,t)=>new Aa({valueType:e,minSize:null,maxSize:null,typeName:$e.ZodSet,...We(t)});class No extends Qe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.function)return be(n,{code:ue.invalid_type,expected:Ne.function,received:n.parsedType}),Be;function r(l,c){return $f({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ff(),el].filter(u=>!!u),issueData:{code:ue.invalid_arguments,argumentsError:c}})}function s(l,c){return $f({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ff(),el].filter(u=>!!u),issueData:{code:ue.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof nl){const l=this;return yn(async function(...c){const u=new Vn([]),h=await l._def.args.parseAsync(c,a).catch(v=>{throw u.addIssue(r(c,v)),u}),d=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(d,a).catch(v=>{throw u.addIssue(s(d,v)),u})})}else{const l=this;return yn(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Vn([r(c,u.error)]);const h=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(h,a);if(!d.success)throw new Vn([s(h,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new No({...this._def,args:ts.create(t).rest(da.create())})}returns(t){return new No({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new No({args:t||ts.create([]).rest(da.create()),returns:n||da.create(),typeName:$e.ZodFunction,...We(r)})}}class Yc extends Qe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yc.create=(e,t)=>new Yc({getter:e,typeName:$e.ZodLazy,...We(t)});class Zc extends Qe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return be(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:t.data}}get value(){return this._def.value}}Zc.create=(e,t)=>new Zc({value:e,typeName:$e.ZodLiteral,...We(t)});function LO(e,t){return new Di({values:e,typeName:$e.ZodEnum,...We(t)})}class Di extends Qe{constructor(){super(...arguments),Gl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return be(n,{expected:Je.joinValues(r),received:n.parsedType,code:ue.invalid_type}),Be}if(Bf(this,Gl)||DO(this,Gl,new Set(this._def.values)),!Bf(this,Gl).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return be(n,{received:n.data,code:ue.invalid_enum_value,options:r}),Be}return yn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Di.create(t,{...this._def,...n})}exclude(t,n=this._def){return Di.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Gl=new WeakMap;Di.create=LO;class Xc extends Qe{constructor(){super(...arguments),Yl.set(this,void 0)}_parse(t){const n=Je.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ne.string&&r.parsedType!==Ne.number){const s=Je.objectValues(n);return be(r,{expected:Je.joinValues(s),received:r.parsedType,code:ue.invalid_type}),Be}if(Bf(this,Yl)||DO(this,Yl,new Set(Je.getValidEnumValues(this._def.values))),!Bf(this,Yl).has(t.data)){const s=Je.objectValues(n);return be(r,{received:r.data,code:ue.invalid_enum_value,options:s}),Be}return yn(t.data)}get enum(){return this._def.values}}Yl=new WeakMap;Xc.create=(e,t)=>new Xc({values:e,typeName:$e.ZodNativeEnum,...We(t)});class nl extends Qe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.promise&&n.common.async===!1)return be(n,{code:ue.invalid_type,expected:Ne.promise,received:n.parsedType}),Be;const r=n.parsedType===Ne.promise?n.data:Promise.resolve(n.data);return yn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}nl.create=(e,t)=>new nl({type:e,typeName:$e.ZodPromise,...We(t)});class Er extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{be(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Be;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Be:c.status==="dirty"||n.value==="dirty"?co(c.value):c});{if(n.value==="aborted")return Be;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||n.value==="dirty"?co(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Be:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Be:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ea(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ea(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);Je.assertNever(s)}}Er.create=(e,t,n)=>new Er({schema:e,typeName:$e.ZodEffects,effect:t,...We(n)});Er.createWithPreprocess=(e,t,n)=>new Er({schema:t,effect:{type:"preprocess",transform:e},typeName:$e.ZodEffects,...We(n)});class Zr extends Qe{_parse(t){return this._getType(t)===Ne.undefined?yn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zr.create=(e,t)=>new Zr({innerType:e,typeName:$e.ZodOptional,...We(t)});class Ri extends Qe{_parse(t){return this._getType(t)===Ne.null?yn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ri.create=(e,t)=>new Ri({innerType:e,typeName:$e.ZodNullable,...We(t)});class Jc extends Qe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Jc.create=(e,t)=>new Jc({innerType:e,typeName:$e.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...We(t)});class eu extends Qe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return qc(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eu.create=(e,t)=>new eu({innerType:e,typeName:$e.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...We(t)});class zf extends Qe{_parse(t){if(this._getType(t)!==Ne.nan){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ne.nan,received:r.parsedType}),Be}return{status:"valid",value:t.data}}}zf.create=e=>new zf({typeName:$e.ZodNaN,...We(e)});const kX=Symbol("zod_brand");class b0 extends Qe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _u extends Qe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"?(n.dirty(),co(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Be:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new _u({in:t,out:n,typeName:$e.ZodPipeline})}}class tu extends Qe{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Ea(s)&&(s.value=Object.freeze(s.value)),s);return qc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}tu.create=(e,t)=>new tu({innerType:e,typeName:$e.ZodReadonly,...We(t)});function fN(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function FO(e,t={},n){return e?tl.create().superRefine((r,s)=>{var a,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var u,h;if(!c){const d=fN(t,r),f=(h=(u=d.fatal)!==null&&u!==void 0?u:n)!==null&&h!==void 0?h:!0;s.addIssue({code:"custom",...d,fatal:f})}});if(!l){const c=fN(t,r),u=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:u})}}):tl.create()}const _X={object:Nt.lazycreate};var $e;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($e||($e={}));const CX=(e,t={message:`Input not instance of ${e.name}`})=>FO(n=>n instanceof e,t),$O=vr.create,BO=Pi.create,EX=zf.create,TX=Oi.create,VO=zc.create,AX=Ta.create,PX=Vf.create,OX=Wc.create,DX=Hc.create,RX=tl.create,MX=da.create,IX=As.create,LX=Uf.create,FX=wr.create,$X=Nt.create,BX=Nt.strictCreate,VX=Kc.create,UX=Jh.create,qX=Qc.create,zX=ts.create,WX=Gc.create,HX=qf.create,KX=Aa.create,QX=No.create,GX=Yc.create,YX=Zc.create,ZX=Di.create,XX=Xc.create,JX=nl.create,hN=Er.create,eJ=Zr.create,tJ=Ri.create,nJ=Er.createWithPreprocess,rJ=_u.create,sJ=()=>$O().optional(),iJ=()=>BO().optional(),aJ=()=>VO().optional(),oJ={string:e=>vr.create({...e,coerce:!0}),number:e=>Pi.create({...e,coerce:!0}),boolean:e=>zc.create({...e,coerce:!0}),bigint:e=>Oi.create({...e,coerce:!0}),date:e=>Ta.create({...e,coerce:!0})},lJ=Be;var od=Object.freeze({__proto__:null,defaultErrorMap:el,setErrorMap:nX,getErrorMap:Ff,makeIssue:$f,EMPTY_PATH:rX,addIssueToContext:be,ParseStatus:dn,INVALID:Be,DIRTY:co,OK:yn,isAborted:vv,isDirty:yv,isValid:Ea,isAsync:qc,get util(){return Je},get objectUtil(){return gv},ZodParsedType:Ne,getParsedType:us,ZodType:Qe,datetimeRegex:IO,ZodString:vr,ZodNumber:Pi,ZodBigInt:Oi,ZodBoolean:zc,ZodDate:Ta,ZodSymbol:Vf,ZodUndefined:Wc,ZodNull:Hc,ZodAny:tl,ZodUnknown:da,ZodNever:As,ZodVoid:Uf,ZodArray:wr,ZodObject:Nt,ZodUnion:Kc,ZodDiscriminatedUnion:Jh,ZodIntersection:Qc,ZodTuple:ts,ZodRecord:Gc,ZodMap:qf,ZodSet:Aa,ZodFunction:No,ZodLazy:Yc,ZodLiteral:Zc,ZodEnum:Di,ZodNativeEnum:Xc,ZodPromise:nl,ZodEffects:Er,ZodTransformer:Er,ZodOptional:Zr,ZodNullable:Ri,ZodDefault:Jc,ZodCatch:eu,ZodNaN:zf,BRAND:kX,ZodBranded:b0,ZodPipeline:_u,ZodReadonly:tu,custom:FO,Schema:Qe,ZodSchema:Qe,late:_X,get ZodFirstPartyTypeKind(){return $e},coerce:oJ,any:RX,array:FX,bigint:TX,boolean:VO,date:AX,discriminatedUnion:UX,effect:hN,enum:ZX,function:QX,instanceof:CX,intersection:qX,lazy:GX,literal:YX,map:HX,nan:EX,nativeEnum:XX,never:IX,null:DX,nullable:tJ,number:BO,object:$X,oboolean:aJ,onumber:iJ,optional:eJ,ostring:sJ,pipeline:rJ,preprocess:nJ,promise:JX,record:WX,set:KX,strictObject:BX,string:$O,symbol:PX,transformer:hN,tuple:zX,undefined:OX,union:VX,unknown:MX,void:LX,NEVER:lJ,ZodIssueCode:ue,quotelessJson:tX,ZodError:Vn});const cJ=OZ,UO=j.createContext({}),pm=({...e})=>i.jsx(UO.Provider,{value:{name:e.name},children:i.jsx(IZ,{...e})}),ep=()=>{const e=j.useContext(UO),t=j.useContext(qO),{getFieldState:n,formState:r}=Xh(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},qO=j.createContext({}),Rd=j.forwardRef(({className:e,...t},n)=>{const r=j.useId();return i.jsx(qO.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:Ee("space-y-2",e),...t})})});Rd.displayName="FormItem";const Md=j.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=ep();return i.jsx(ge,{ref:n,className:Ee(r&&"text-destructive",e),htmlFor:s,...t})});Md.displayName="FormLabel";const Id=j.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=ep();return i.jsx(f2,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});Id.displayName="FormControl";const uJ=j.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=ep();return i.jsx("p",{ref:n,id:r,className:Ee("text-sm text-muted-foreground",e),...t})});uJ.displayName="FormDescription";const Ld=j.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=ep(),o=s?String((s==null?void 0:s.message)??""):t;return o?i.jsx("p",{ref:r,id:a,className:Ee("text-sm font-medium text-destructive",e),...n,children:o}):null});Ld.displayName="FormMessage";const dJ=od.object({title:od.string().min(1,"Title is required"),programId:od.string().optional(),description:od.string().optional()});function fJ(){const[,e]=Ve(),{toast:t}=ht(),n=localStorage.getItem("@app:admin_token")||"",{data:r=[]}=Ue({queryKey:["/api/admin/v1/programs"],queryFn:async()=>{const l=await fetch("/api/admin/v1/programs",{headers:{Authorization:`Bearer ${n}`}});if(!l.ok)throw new Error("Failed to fetch programs");return l.json()}}),s=YZ({resolver:eX(dJ),defaultValues:{title:"",programId:"",description:""}}),a=Se({mutationFn:async l=>{const c={title:l.title,programId:l.programId&&l.programId!=="none"?parseInt(l.programId):null,description:l.description||null};return(await De("POST","/api/admin/v1/cms/courses",c)).json()},onSuccess:l=>{t({title:"Course created successfully"}),e(`/admin/courses/create/step2/${l.id}`)},onError:()=>{t({title:"Failed to create course",variant:"destructive"})}}),o=l=>{a.mutate(l)};return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Course"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Step 1: Basic Information"})]}),i.jsxs("div",{className:"max-w-2xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-4",children:[i.jsx("span",{className:"bg-brand text-white px-3 py-1 rounded-full font-medium",children:"1"}),i.jsx("span",{className:"text-gray-900 font-medium",children:"Basic Info"}),i.jsx("span",{className:"mx-2 text-gray-400",children:"-"}),i.jsx("span",{className:"bg-gray-200 text-gray-500 px-3 py-1 rounded-full",children:"2"}),i.jsx("span",{className:"text-gray-500",children:"Thumbnail"}),i.jsx("span",{className:"mx-2 text-gray-400",children:"-"}),i.jsx("span",{className:"bg-gray-200 text-gray-500 px-3 py-1 rounded-full",children:"3"}),i.jsx("span",{className:"text-gray-500",children:"Curriculum"})]})}),i.jsxs(we,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Course Basic Information"}),i.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Enter the basic details for your new course."}),i.jsx(cJ,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6",children:[i.jsx(pm,{control:s.control,name:"title",render:({field:l})=>i.jsxs(Rd,{children:[i.jsx(Md,{children:"Course Title"}),i.jsx(Id,{children:i.jsx(Ae,{...l,placeholder:"Enter course title","data-testid":"input-title"})}),i.jsx(Ld,{})]})}),i.jsx(pm,{control:s.control,name:"programId",render:({field:l})=>i.jsxs(Rd,{children:[i.jsx(Md,{children:"Program (Optional)"}),i.jsxs(Gt,{onValueChange:l.onChange,value:l.value,children:[i.jsx(Id,{children:i.jsx(Ut,{"data-testid":"select-program",children:i.jsx(Yt,{placeholder:"Select a program"})})}),i.jsxs(qt,{children:[i.jsx(et,{value:"none",children:"-- No Program --"}),r.map(c=>i.jsxs(et,{value:String(c.id),children:[c.name," (",c.code,")"]},c.id))]})]}),i.jsx(Ld,{})]})}),i.jsx(pm,{control:s.control,name:"description",render:({field:l})=>i.jsxs(Rd,{children:[i.jsx(Md,{children:"Description (Optional)"}),i.jsx(Id,{children:i.jsx(fr,{...l,placeholder:"Enter course description","data-testid":"input-description",className:"min-h-[100px]"})}),i.jsx(Ld,{})]})}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(ee,{type:"button",variant:"outline",onClick:()=>e("/admin/courses"),"data-testid":"button-back",children:[i.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back"]}),i.jsxs(ee,{type:"submit",disabled:a.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-continue",children:[a.isPending?"Creating...":"Continue",i.jsx(B2,{className:"w-4 h-4 ml-2"})]})]})]})})]})]})]})}function hJ(){const e=ns(),t=parseInt(e.id||"0"),[,n]=Ve(),{toast:r}=ht(),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(!1),h=localStorage.getItem("@app:admin_token")||"",{data:d,isLoading:f}=Ue({queryKey:["/api/admin/v1/cms/courses",t],queryFn:async()=>{const T=await fetch(`/api/admin/v1/cms/courses/${t}`,{headers:{Authorization:`Bearer ${h}`}});if(!T.ok)throw new Error("Failed to fetch course");return T.json()},enabled:!!t}),v=Se({mutationFn:async T=>{await De("PUT",`/api/admin/v1/cms/courses/${t}`,T)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses"]})}}),x=async T=>{if(!T.type.startsWith("image/")){r({title:"Please select an image file",variant:"destructive"});return}if(T.size>2*1024*1024){r({title:"Image must be less than 2MB",variant:"destructive"});return}a(!0);try{const S=await De("POST","/api/admin/v1/cms/files/get-upload-url",{filename:T.name,contentType:T.type,courseId:t,uploadType:"thumbnail"}),{uploadUrl:E,key:A,signedUrl:C}=await S.json();await fetch(E,{method:"PUT",body:T,headers:{"Content-Type":T.type}}),await v.mutateAsync({thumbnailKey:A}),l(C),r({title:"Thumbnail uploaded successfully"})}catch(S){console.error("Upload error:",S),r({title:"Failed to upload thumbnail",variant:"destructive"})}finally{a(!1)}},m=T=>{var E;const S=(E=T.target.files)==null?void 0:E[0];S&&x(S)},y=j.useCallback(T=>{T.preventDefault(),u(!1);const S=T.dataTransfer.files[0];S&&x(S)},[t]),g=T=>{T.preventDefault(),u(!0)},p=()=>{u(!1)},b=()=>{n(`/admin/courses/create/step3/${t}`)},w=()=>{n(`/admin/courses/create/step3/${t}`)},N=o||(d==null?void 0:d.thumbnailSignedUrl);return f?i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full"})})}):i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Course"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Step 2: Upload Thumbnail"})]}),i.jsxs("div",{className:"max-w-2xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-4",children:[i.jsx("span",{className:"bg-gray-200 text-gray-500 px-3 py-1 rounded-full",children:"1"}),i.jsx("span",{className:"text-gray-500",children:"Basic Info"}),i.jsx("span",{className:"mx-2 text-gray-400",children:"-"}),i.jsx("span",{className:"bg-brand text-white px-3 py-1 rounded-full font-medium",children:"2"}),i.jsx("span",{className:"text-gray-900 font-medium",children:"Thumbnail"}),i.jsx("span",{className:"mx-2 text-gray-400",children:"-"}),i.jsx("span",{className:"bg-gray-200 text-gray-500 px-3 py-1 rounded-full",children:"3"}),i.jsx("span",{className:"text-gray-500",children:"Curriculum"})]})}),i.jsxs(we,{className:"p-6 mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Upload Course Thumbnail"}),i.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Add a thumbnail image for your course. This will be displayed in the course list."}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{onDrop:y,onDragOver:g,onDragLeave:p,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${c?"border-brand bg-brand/5":"border-gray-300 hover:border-gray-400"}`,children:N?i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:N,alt:"Thumbnail preview",className:"max-w-full h-auto max-h-[200px] rounded-lg mx-auto"}),i.jsx("button",{onClick:()=>{l(null),v.mutate({thumbnailKey:void 0})},className:"absolute top-2 right-2 p-1 bg-red-600 rounded-full hover:bg-red-700","data-testid":"button-remove-thumbnail",children:i.jsx(Pn,{className:"w-4 h-4 text-white"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:i.jsx(hu,{className:"w-8 h-8 text-gray-400"})})}),i.jsx("p",{className:"text-gray-600 mb-2",children:s?"Uploading...":"Drag and drop your image here, or"}),i.jsxs("label",{className:"inline-block",children:[i.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:m,className:"hidden",disabled:s,"data-testid":"input-thumbnail"}),i.jsx(ee,{type:"button",variant:"outline",disabled:s,asChild:!0,children:i.jsxs("span",{children:[i.jsx(vs,{className:"w-4 h-4 mr-2"}),"Browse Files"]})})]})]})}),i.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[i.jsx("p",{children:"Recommended specs:"}),i.jsxs("ul",{className:"list-disc list-inside ml-2",children:[i.jsx("li",{children:"Aspect ratio: 16:9"}),i.jsx("li",{children:"Recommended size: 1024 x 576 pixels"}),i.jsx("li",{children:"Formats: JPG or PNG"}),i.jsx("li",{children:"Max size: 2 MB"})]})]})]})]}),i.jsx(we,{className:"p-4 mb-6",children:i.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700 text-sm","data-testid":"button-skip",children:"I don't have one - Skip for now"})}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs(ee,{type:"button",variant:"outline",onClick:()=>n("/admin/courses/create/step1"),"data-testid":"button-back",children:[i.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back"]}),i.jsxs(ee,{onClick:b,className:"bg-brand hover:bg-brand/90","data-testid":"button-continue",children:["Continue",i.jsx(B2,{className:"w-4 h-4 ml-2"})]})]})]})]})}var w0="Collapsible",[pJ,$J]=en(w0),[mJ,j0]=pJ(w0),zO=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,u]=Nr({prop:r,defaultProp:s,onChange:o});return i.jsx(mJ,{scope:n,disabled:a,contentId:br(),open:c,onOpenToggle:j.useCallback(()=>u(h=>!h),[u]),children:i.jsx(Pe.div,{"data-state":S0(c),"data-disabled":a?"":void 0,...l,ref:t})})});zO.displayName=w0;var WO="CollapsibleTrigger",HO=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=j0(WO,n);return i.jsx(Pe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":S0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:me(e.onClick,s.onOpenToggle)})});HO.displayName=WO;var N0="CollapsibleContent",KO=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=j0(N0,e.__scopeCollapsible);return i.jsx(On,{present:n||s.open,children:({present:a})=>i.jsx(gJ,{...r,ref:t,present:a})})});KO.displayName=N0;var gJ=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...a}=e,o=j0(N0,n),[l,c]=j.useState(r),u=j.useRef(null),h=Ge(t,u),d=j.useRef(0),f=d.current,v=j.useRef(0),x=v.current,m=o.open||l,y=j.useRef(m),g=j.useRef(void 0);return j.useEffect(()=>{const p=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(p)},[]),Jt(()=>{const p=u.current;if(p){g.current=g.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const b=p.getBoundingClientRect();d.current=b.height,v.current=b.width,y.current||(p.style.transitionDuration=g.current.transitionDuration,p.style.animationName=g.current.animationName),c(r)}},[o.open,r]),i.jsx(Pe.div,{"data-state":S0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:m&&s})});function S0(e){return e?"open":"closed"}var vJ=zO;const Wf=vJ,Hf=HO,Kf=KO;function yJ(){const e=ns(),t=parseInt(e.id||"0"),[,n]=Ve(),{toast:r}=ht(),[s,a]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[h,d]=j.useState(null),[f,v]=j.useState(null),[x,m]=j.useState(null),[y,g]=j.useState(""),[p,b]=j.useState(""),[w,N]=j.useState(""),[T,S]=j.useState(""),[E,A]=j.useState(null),[C,_]=j.useState(null),[k,P]=j.useState(new Set),[M,B]=j.useState(new Set),U=localStorage.getItem("@app:admin_token")||"",{data:L,isLoading:F}=Ue({queryKey:["/api/admin/v1/cms/courses",t],queryFn:async()=>{const I=await fetch(`/api/admin/v1/cms/courses/${t}`,{headers:{Authorization:`Bearer ${U}`}});if(!I.ok)throw new Error("Failed to fetch course");return I.json()},enabled:!!t}),R=Se({mutationFn:async I=>{await De("POST","/api/admin/v1/cms/modules",{courseId:t,title:I})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),a(!1),g(""),r({title:"Module created"})}}),O=Se({mutationFn:async({id:I,title:H})=>{await De("PUT",`/api/admin/v1/cms/modules/${I}`,{title:H})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),a(!1),d(null),g(""),r({title:"Module updated"})}}),D=Se({mutationFn:async I=>{await De("DELETE",`/api/admin/v1/cms/modules/${I}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),r({title:"Module deleted"})}}),$=Se({mutationFn:async({moduleId:I,title:H})=>{await De("POST","/api/admin/v1/cms/folders",{moduleId:I,title:H})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),l(!1),b(""),A(null),r({title:"Folder created"})}}),q=Se({mutationFn:async({id:I,title:H})=>{await De("PUT",`/api/admin/v1/cms/folders/${I}`,{title:H})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),l(!1),v(null),b(""),r({title:"Folder updated"})}}),K=Se({mutationFn:async I=>{await De("DELETE",`/api/admin/v1/cms/folders/${I}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),r({title:"Folder deleted"})}}),W=Se({mutationFn:async I=>{await De("POST","/api/admin/v1/cms/lessons",I)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),u(!1),N(""),S(""),A(null),_(null),r({title:"Lesson created"})}}),V=Se({mutationFn:async({id:I,title:H,description:G})=>{await De("PUT",`/api/admin/v1/cms/lessons/${I}`,{title:H,description:G})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),u(!1),m(null),N(""),S(""),r({title:"Lesson updated"})}}),z=Se({mutationFn:async I=>{await De("DELETE",`/api/admin/v1/cms/lessons/${I}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),r({title:"Lesson deleted"})}}),Z=Se({mutationFn:async I=>{await De("PUT",`/api/admin/v1/cms/courses/${t}`,{isPublished:I})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses"]}),r({title:L!=null&&L.isPublished?"Course unpublished":"Course published"})}}),X=I=>{const H=new Set(k);H.has(I)?H.delete(I):H.add(I),P(H)},te=I=>{const H=new Set(M);H.has(I)?H.delete(I):H.add(I),B(H)},oe=()=>{d(null),g(""),a(!0)},Y=I=>{d(I),g(I.title),a(!0)},de=I=>{v(null),A(I),b(""),l(!0)},le=I=>{v(I),b(I.title),l(!0)},Ce=(I,H)=>{m(null),A(I),_(H||null),N(""),S(""),u(!0)},Xe=()=>{y.trim()&&(h?O.mutate({id:h.id,title:y}):R.mutate(y))},Oe=()=>{p.trim()&&(f?q.mutate({id:f.id,title:p}):E&&$.mutate({moduleId:E,title:p}))},ne=()=>{w.trim()&&(x?V.mutate({id:x.id,title:w,description:T}):E&&W.mutate({moduleId:E,folderId:C||void 0,title:w,description:T}))},re=()=>{n("/admin/courses")};if(F)return i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full"})})});const he=(I,H)=>{const G=L==null?void 0:L.modules.find(se=>se.id===I);return(G==null?void 0:G.lessons.filter(se=>se.folderId===H))||[]},pe=I=>{const H=L==null?void 0:L.modules.find(G=>G.id===I);return(H==null?void 0:H.lessons.filter(G=>!G.folderId))||[]};return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Course"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Step 3: Build Curriculum"})]}),i.jsxs("div",{className:"max-w-4xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-4",children:[i.jsx("span",{className:"bg-gray-200 text-gray-500 px-3 py-1 rounded-full",children:"1"}),i.jsx("span",{className:"text-gray-500",children:"Basic Info"}),i.jsx("span",{className:"mx-2 text-gray-400",children:"-"}),i.jsx("span",{className:"bg-gray-200 text-gray-500 px-3 py-1 rounded-full",children:"2"}),i.jsx("span",{className:"text-gray-500",children:"Thumbnail"}),i.jsx("span",{className:"mx-2 text-gray-400",children:"-"}),i.jsx("span",{className:"bg-brand text-white px-3 py-1 rounded-full font-medium",children:"3"}),i.jsx("span",{className:"text-gray-900 font-medium",children:"Curriculum"})]})}),i.jsxs(we,{className:"p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:L==null?void 0:L.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Build your course curriculum by adding modules, folders, and lessons."})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{htmlFor:"publish-toggle",className:"text-gray-700",children:"Publish"}),i.jsx(_a,{id:"publish-toggle",checked:(L==null?void 0:L.isPublished)||!1,onCheckedChange:I=>Z.mutate(I),"data-testid":"switch-publish"})]}),i.jsxs(ee,{onClick:oe,className:"bg-brand hover:bg-brand/90","data-testid":"button-add-module",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Module"]})]})]}),(L==null?void 0:L.modules.length)===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:i.jsx("p",{children:"No modules yet. Add your first module to get started."})}):i.jsx("div",{className:"space-y-4",children:L==null?void 0:L.modules.map(I=>i.jsx(Wf,{open:k.has(I.id),onOpenChange:()=>X(I.id),children:i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs(Hf,{className:"w-full px-4 py-3 bg-gray-50 flex items-center justify-between hover:bg-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dc,{className:"w-4 h-4 text-gray-400"}),k.has(I.id)?i.jsx(Xr,{className:"w-4 h-4 text-gray-500"}):i.jsx(Cn,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"font-medium text-gray-900",children:I.title}),i.jsxs("span",{className:"text-gray-500 text-sm",children:["(",I.lessons.length," lessons)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",onClick:H=>H.stopPropagation(),children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>de(I.id),title:"Add Folder","data-testid":`button-add-folder-${I.id}`,children:i.jsx(df,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>Ce(I.id),title:"Add Lesson","data-testid":`button-add-lesson-${I.id}`,children:i.jsx(gt,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>Y(I),"data-testid":`button-edit-module-${I.id}`,children:i.jsx(on,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>D.mutate(I.id),className:"hover:text-red-500","data-testid":`button-delete-module-${I.id}`,children:i.jsx($t,{className:"w-4 h-4"})})]})]}),i.jsx(Kf,{children:i.jsxs("div",{className:"p-4 space-y-3",children:[I.folders.map(H=>i.jsx(Wf,{open:M.has(H.id),onOpenChange:()=>te(H.id),children:i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden ml-6",children:[i.jsxs(Hf,{className:"w-full px-3 py-2 bg-gray-50 flex items-center justify-between hover:bg-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(df,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-gray-800",children:H.title})]}),i.jsxs("div",{className:"flex items-center gap-1",onClick:G=>G.stopPropagation(),children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>Ce(I.id,H.id),className:"h-8 w-8",children:i.jsx(gt,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>le(H),className:"h-8 w-8",children:i.jsx(on,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>K.mutate(H.id),className:"h-8 w-8 hover:text-red-500",children:i.jsx($t,{className:"w-3 h-3"})})]})]}),i.jsx(Kf,{children:i.jsx("div",{className:"p-2 space-y-1",children:he(I.id,H.id).map(G=>i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-gray-700",children:G.title}),i.jsx("div",{className:"flex gap-1",children:G.files.map(se=>i.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 rounded text-gray-600",children:[se.fileType==="video"&&i.jsx(xi,{className:"w-3 h-3 inline"}),se.fileType==="audio"&&i.jsx(qn,{className:"w-3 h-3 inline"}),se.fileType==="script"&&i.jsx(ca,{className:"w-3 h-3 inline"})]},se.id))})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>n(`/admin/courses/${t}/lessons/${G.id}?from=create`),className:"h-8 w-8",children:i.jsx(on,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>z.mutate(G.id),className:"h-8 w-8 hover:text-red-500",children:i.jsx($t,{className:"w-3 h-3"})})]})]},G.id))})})]})},H.id)),pe(I.id).map(H=>i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded hover:bg-gray-50 ml-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-gray-700",children:H.title}),i.jsx("div",{className:"flex gap-1",children:H.files.map(G=>i.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 rounded text-gray-600",children:[G.fileType==="video"&&i.jsx(xi,{className:"w-3 h-3 inline"}),G.fileType==="audio"&&i.jsx(qn,{className:"w-3 h-3 inline"}),G.fileType==="script"&&i.jsx(ca,{className:"w-3 h-3 inline"})]},G.id))})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>n(`/admin/courses/${t}/lessons/${H.id}?from=create`),className:"h-8 w-8",children:i.jsx(on,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>z.mutate(H.id),className:"h-8 w-8 hover:text-red-500",children:i.jsx($t,{className:"w-3 h-3"})})]})]},H.id))]})})]})},I.id))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs(ee,{variant:"outline",onClick:()=>n(`/admin/courses/create/step2/${t}`),"data-testid":"button-back",children:[i.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back"]}),i.jsx(ee,{onClick:re,className:"bg-brand hover:bg-brand/90","data-testid":"button-finish",children:"Finish"})]})]}),i.jsx(ct,{open:s,onOpenChange:a,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:h?"Edit Module":"Add Module"})}),i.jsxs("div",{className:"py-4",children:[i.jsx(ge,{htmlFor:"module-title",children:"Module Title"}),i.jsx(Ae,{id:"module-title",value:y,onChange:I=>g(I.target.value),placeholder:"Enter module title",className:"mt-2","data-testid":"input-module-title"})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),i.jsx(ee,{onClick:Xe,disabled:!y.trim(),className:"bg-brand hover:bg-brand/90","data-testid":"button-save-module",children:h?"Update":"Create"})]})]})}),i.jsx(ct,{open:o,onOpenChange:l,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:f?"Edit Folder":"Add Folder"})}),i.jsxs("div",{className:"py-4",children:[i.jsx(ge,{htmlFor:"folder-title",children:"Folder Title"}),i.jsx(Ae,{id:"folder-title",value:p,onChange:I=>b(I.target.value),placeholder:"Enter folder title",className:"mt-2","data-testid":"input-folder-title"})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),i.jsx(ee,{onClick:Oe,disabled:!p.trim(),className:"bg-brand hover:bg-brand/90","data-testid":"button-save-folder",children:f?"Update":"Create"})]})]})}),i.jsx(ct,{open:c,onOpenChange:u,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:x?"Edit Lesson":"Add Lesson"})}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"lesson-title",children:"Lesson Title"}),i.jsx(Ae,{id:"lesson-title",value:w,onChange:I=>N(I.target.value),placeholder:"Enter lesson title",className:"mt-2","data-testid":"input-lesson-title"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"lesson-description",children:"Description (Optional)"}),i.jsx(Ae,{id:"lesson-description",value:T,onChange:I=>S(I.target.value),placeholder:"Enter lesson description",className:"mt-2","data-testid":"input-lesson-description"})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),i.jsx(ee,{onClick:ne,disabled:!w.trim(),className:"bg-brand hover:bg-brand/90","data-testid":"button-save-lesson",children:x?"Update":"Create"})]})]})})]})}function xJ(){const e=ns(),t=parseInt(e.id||"0"),[,n]=Ve(),{toast:r}=ht(),[s,a]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[h,d]=j.useState(!1),[f,v]=j.useState(!1),[x,m]=j.useState(!1),[y,g]=j.useState(!1),[p,b]=j.useState(null),[w,N]=j.useState(null),[T,S]=j.useState(null),[E,A]=j.useState(""),[C,_]=j.useState(""),[k,P]=j.useState(""),[M,B]=j.useState(""),[U,L]=j.useState(null),[F,R]=j.useState(null),[O,D]=j.useState(new Set),[$,q]=j.useState(new Set),K=localStorage.getItem("@app:admin_token")||"",{data:W,isLoading:V}=Ue({queryKey:["/api/admin/v1/cms/courses",t],queryFn:async()=>{const ae=await fetch(`/api/admin/v1/cms/courses/${t}`,{headers:{Authorization:`Bearer ${K}`}});if(!ae.ok)throw new Error("Failed to fetch course");return ae.json()},enabled:!!t}),{data:z=[]}=Ue({queryKey:["/api/admin/v1/programs"],queryFn:async()=>{const ae=await fetch("/api/admin/v1/programs",{headers:{Authorization:`Bearer ${K}`}});if(!ae.ok)throw new Error("Failed to fetch programs");return ae.json()}});j.useEffect(()=>{W&&(a(W.title),l(W.programId?String(W.programId):""),u(W.description||""))},[W]);const Z=Se({mutationFn:async ae=>{await De("PUT",`/api/admin/v1/cms/courses/${t}`,ae)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses"]}),r({title:"Course updated"})}}),X=Se({mutationFn:async ae=>{await De("POST","/api/admin/v1/cms/modules",{courseId:t,title:ae})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),v(!1),A(""),r({title:"Module created"})}}),te=Se({mutationFn:async({id:ae,title:Le})=>{await De("PUT",`/api/admin/v1/cms/modules/${ae}`,{title:Le})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),v(!1),b(null),A(""),r({title:"Module updated"})}}),oe=Se({mutationFn:async ae=>{await De("DELETE",`/api/admin/v1/cms/modules/${ae}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),r({title:"Module deleted"})}}),Y=Se({mutationFn:async({moduleId:ae,title:Le})=>{await De("POST","/api/admin/v1/cms/folders",{moduleId:ae,title:Le})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),m(!1),_(""),L(null),r({title:"Folder created"})}}),de=Se({mutationFn:async({id:ae,title:Le})=>{await De("PUT",`/api/admin/v1/cms/folders/${ae}`,{title:Le})},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),m(!1),N(null),_(""),r({title:"Folder updated"})}}),le=Se({mutationFn:async ae=>{await De("DELETE",`/api/admin/v1/cms/folders/${ae}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),r({title:"Folder deleted"})}}),Ce=Se({mutationFn:async ae=>{await De("POST","/api/admin/v1/cms/lessons",ae)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),g(!1),P(""),B(""),L(null),R(null),r({title:"Lesson created"})}}),Xe=Se({mutationFn:async ae=>{await De("DELETE",`/api/admin/v1/cms/lessons/${ae}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/courses",t]}),r({title:"Lesson deleted"})}}),Oe=async ae=>{if(!ae.type.startsWith("image/")){r({title:"Please select an image file",variant:"destructive"});return}d(!0);try{const Le=await De("POST","/api/admin/v1/cms/files/get-upload-url",{filename:ae.name,contentType:ae.type,courseId:t,uploadType:"thumbnail"}),{uploadUrl:pt,key:jn}=await Le.json();await fetch(pt,{method:"PUT",body:ae,headers:{"Content-Type":ae.type}}),await Z.mutateAsync({thumbnailKey:jn}),r({title:"Thumbnail uploaded"})}catch(Le){console.error("Upload error:",Le),r({title:"Failed to upload thumbnail",variant:"destructive"})}finally{d(!1)}},ne=ae=>{const Le=new Set(O);Le.has(ae)?Le.delete(ae):Le.add(ae),D(Le)},re=ae=>{const Le=new Set($);Le.has(ae)?Le.delete(ae):Le.add(ae),q(Le)},he=()=>{b(null),A(""),v(!0)},pe=ae=>{b(ae),A(ae.title),v(!0)},I=ae=>{N(null),L(ae),_(""),m(!0)},H=ae=>{N(ae),_(ae.title),m(!0)},G=(ae,Le)=>{S(null),L(ae),R(Le||null),P(""),B(""),g(!0)},se=()=>{E.trim()&&(p?te.mutate({id:p.id,title:E}):X.mutate(E))},ce=()=>{C.trim()&&(w?de.mutate({id:w.id,title:C}):U&&Y.mutate({moduleId:U,title:C}))},J=()=>{k.trim()&&U&&Ce.mutate({moduleId:U,folderId:F||void 0,title:k,description:M})},ie=()=>{Z.mutate({title:s,programId:o&&o!=="none"?parseInt(o):null,description:c})};if(V)return i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full"})})});const _e=(ae,Le)=>{const pt=W==null?void 0:W.modules.find(jn=>jn.id===ae);return(pt==null?void 0:pt.lessons.filter(jn=>jn.folderId===Le))||[]},Me=ae=>{const Le=W==null?void 0:W.modules.find(pt=>pt.id===ae);return(Le==null?void 0:Le.lessons.filter(pt=>!pt.folderId))||[]};return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Course"}),i.jsx("p",{className:"text-gray-600 mt-1",children:W==null?void 0:W.title})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{htmlFor:"publish-toggle",className:"text-gray-700",children:"Published"}),i.jsx(_a,{id:"publish-toggle",checked:(W==null?void 0:W.isPublished)||!1,onCheckedChange:ae=>Z.mutate({isPublished:ae}),"data-testid":"switch-publish"})]})})]}),i.jsxs("div",{className:"max-w-5xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs(ee,{variant:"outline",onClick:()=>n("/admin/courses"),"data-testid":"button-back",children:[i.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back to Courses"]}),i.jsxs(ee,{onClick:ie,disabled:Z.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-save-course",children:[i.jsx(Cg,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}),i.jsxs(Dh,{defaultValue:"curriculum",className:"space-y-6",children:[i.jsxs(bu,{children:[i.jsx(Gr,{value:"info",children:"Course Info"}),i.jsx(Gr,{value:"curriculum",children:"Curriculum"})]}),i.jsx(Yr,{value:"info",children:i.jsxs(we,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Course Information"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Title"}),i.jsx(Ae,{value:s||(W==null?void 0:W.title)||"",onChange:ae=>a(ae.target.value),className:"mt-2","data-testid":"input-title"})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Program (Optional)"}),i.jsxs(Gt,{value:o,onValueChange:l,children:[i.jsx(Ut,{className:"mt-2","data-testid":"select-program",children:i.jsx(Yt,{placeholder:"Select a program"})}),i.jsxs(qt,{children:[i.jsx(et,{value:"none",children:"-- No Program --"}),z.map(ae=>i.jsxs(et,{value:String(ae.id),children:[ae.name," (",ae.code,")"]},ae.id))]})]})]})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Description"}),i.jsx(fr,{value:c||(W==null?void 0:W.description)||"",onChange:ae=>u(ae.target.value),className:"mt-2 min-h-[100px]","data-testid":"input-description"})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Thumbnail"}),i.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[W!=null&&W.thumbnailSignedUrl?i.jsx("img",{src:W.thumbnailSignedUrl,alt:"Course thumbnail",className:"w-32 h-18 object-cover rounded"}):i.jsx("div",{className:"w-32 h-18 bg-gray-100 rounded flex items-center justify-center",children:i.jsx(hu,{className:"w-8 h-8 text-gray-400"})}),i.jsxs("label",{children:[i.jsx("input",{type:"file",accept:"image/*",onChange:ae=>{var Le;return((Le=ae.target.files)==null?void 0:Le[0])&&Oe(ae.target.files[0])},className:"hidden",disabled:h}),i.jsx(ee,{variant:"outline",disabled:h,asChild:!0,children:i.jsx("span",{children:h?"Uploading...":"Change Thumbnail"})})]})]})]}),i.jsxs(ee,{onClick:ie,disabled:Z.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-save-info",children:[i.jsx(Cg,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),i.jsx(Yr,{value:"curriculum",children:i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Course Curriculum"}),i.jsxs(ee,{onClick:he,className:"bg-brand hover:bg-brand/90","data-testid":"button-add-module",children:[i.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Module"]})]}),(W==null?void 0:W.modules.length)===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:i.jsx("p",{children:"No modules yet. Add your first module to get started."})}):i.jsx("div",{className:"space-y-4",children:W==null?void 0:W.modules.map(ae=>i.jsx(Wf,{open:O.has(ae.id),onOpenChange:()=>ne(ae.id),children:i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs(Hf,{className:"w-full px-4 py-3 bg-gray-50 flex items-center justify-between hover:bg-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dc,{className:"w-4 h-4 text-gray-400"}),O.has(ae.id)?i.jsx(Xr,{className:"w-4 h-4 text-gray-500"}):i.jsx(Cn,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"font-medium text-gray-900",children:ae.title}),i.jsxs("span",{className:"text-gray-500 text-sm",children:["(",ae.lessons.length," lessons)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",onClick:Le=>Le.stopPropagation(),children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>I(ae.id),title:"Add Folder",children:i.jsx(df,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>G(ae.id),title:"Add Lesson",children:i.jsx(gt,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>pe(ae),children:i.jsx(on,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>oe.mutate(ae.id),className:"hover:text-red-500",children:i.jsx($t,{className:"w-4 h-4"})})]})]}),i.jsx(Kf,{children:i.jsxs("div",{className:"p-4 space-y-3",children:[ae.folders.map(Le=>i.jsx(Wf,{open:$.has(Le.id),onOpenChange:()=>re(Le.id),children:i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden ml-6",children:[i.jsxs(Hf,{className:"w-full px-3 py-2 bg-gray-50 flex items-center justify-between hover:bg-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(df,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-gray-800",children:Le.title})]}),i.jsxs("div",{className:"flex items-center gap-1",onClick:pt=>pt.stopPropagation(),children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>G(ae.id,Le.id),className:"h-8 w-8",children:i.jsx(gt,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>H(Le),className:"h-8 w-8",children:i.jsx(on,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>le.mutate(Le.id),className:"h-8 w-8 hover:text-red-500",children:i.jsx($t,{className:"w-3 h-3"})})]})]}),i.jsx(Kf,{children:i.jsx("div",{className:"p-2 space-y-1",children:_e(ae.id,Le.id).map(pt=>i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-gray-700",children:pt.title}),i.jsx("div",{className:"flex gap-1",children:pt.files.map(jn=>i.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 rounded text-gray-600",children:[jn.fileType==="video"&&i.jsx(xi,{className:"w-3 h-3 inline"}),jn.fileType==="audio"&&i.jsx(qn,{className:"w-3 h-3 inline"}),jn.fileType==="script"&&i.jsx(ca,{className:"w-3 h-3 inline"})]},jn.id))})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>n(`/admin/courses/${t}/lessons/${pt.id}?from=edit`),className:"h-8 w-8",children:i.jsx(on,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>Xe.mutate(pt.id),className:"h-8 w-8 hover:text-red-500",children:i.jsx($t,{className:"w-3 h-3"})})]})]},pt.id))})})]})},Le.id)),Me(ae.id).map(Le=>i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded hover:bg-gray-50 ml-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-gray-700",children:Le.title}),i.jsx("div",{className:"flex gap-1",children:Le.files.map(pt=>i.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 rounded text-gray-600",children:[pt.fileType==="video"&&i.jsx(xi,{className:"w-3 h-3 inline"}),pt.fileType==="audio"&&i.jsx(qn,{className:"w-3 h-3 inline"}),pt.fileType==="script"&&i.jsx(ca,{className:"w-3 h-3 inline"})]},pt.id))})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>n(`/admin/courses/${t}/lessons/${Le.id}?from=edit`),className:"h-8 w-8",children:i.jsx(on,{className:"w-3 h-3"})}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>Xe.mutate(Le.id),className:"h-8 w-8 hover:text-red-500",children:i.jsx($t,{className:"w-3 h-3"})})]})]},Le.id))]})})]})},ae.id))})]})})]})]}),i.jsx(ct,{open:f,onOpenChange:v,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:p?"Edit Module":"Add Module"})}),i.jsxs("div",{className:"py-4",children:[i.jsx(ge,{htmlFor:"module-title",children:"Module Title"}),i.jsx(Ae,{id:"module-title",value:E,onChange:ae=>A(ae.target.value),placeholder:"Enter module title",className:"mt-2","data-testid":"input-module-title"})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(ee,{onClick:se,disabled:!E.trim(),className:"bg-brand hover:bg-brand/90","data-testid":"button-save-module",children:p?"Update":"Create"})]})]})}),i.jsx(ct,{open:x,onOpenChange:m,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:w?"Edit Folder":"Add Folder"})}),i.jsxs("div",{className:"py-4",children:[i.jsx(ge,{htmlFor:"folder-title",children:"Folder Title"}),i.jsx(Ae,{id:"folder-title",value:C,onChange:ae=>_(ae.target.value),placeholder:"Enter folder title",className:"mt-2","data-testid":"input-folder-title"})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),i.jsx(ee,{onClick:ce,disabled:!C.trim(),className:"bg-brand hover:bg-brand/90","data-testid":"button-save-folder",children:w?"Update":"Create"})]})]})}),i.jsx(ct,{open:y,onOpenChange:g,children:i.jsxs(it,{children:[i.jsx(ut,{children:i.jsx(dt,{children:T?"Edit Lesson":"Add Lesson"})}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"lesson-title",children:"Lesson Title"}),i.jsx(Ae,{id:"lesson-title",value:k,onChange:ae=>P(ae.target.value),placeholder:"Enter lesson title",className:"mt-2","data-testid":"input-lesson-title"})]}),i.jsxs("div",{children:[i.jsx(ge,{htmlFor:"lesson-description",children:"Description (Optional)"}),i.jsx(Ae,{id:"lesson-description",value:M,onChange:ae=>B(ae.target.value),placeholder:"Enter lesson description",className:"mt-2","data-testid":"input-lesson-description"})]})]}),i.jsxs(Bt,{children:[i.jsx(ee,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsx(ee,{onClick:J,disabled:!k.trim(),className:"bg-brand hover:bg-brand/90","data-testid":"button-save-lesson",children:T?"Update":"Create"})]})]})})]})}function bJ(){const e=ns(),t=parseInt(e.courseId||"0"),n=parseInt(e.lessonId||"0"),[,r]=Ve(),s=yy(),{toast:a}=ht(),o=j.useMemo(()=>new URLSearchParams(s).get("from")==="create",[s]),l=()=>{r(o?`/admin/courses/create/step3/${t}`:`/admin/courses/${t}`)},[c,u]=j.useState(""),[h,d]=j.useState(""),[f,v]=j.useState([]),x=localStorage.getItem("@app:admin_token")||"",{data:m,isLoading:y}=Ue({queryKey:["/api/admin/v1/cms/lessons",n],queryFn:async()=>{const _=await fetch(`/api/admin/v1/cms/lessons/${n}`,{headers:{Authorization:`Bearer ${x}`}});if(!_.ok)throw new Error("Failed to fetch lesson");return _.json()},enabled:!!n}),{data:g=[],isLoading:p}=Ue({queryKey:["/api/admin/v1/cms/files",n],queryFn:async()=>{const _=await fetch(`/api/admin/v1/cms/files?lessonId=${n}`,{headers:{Authorization:`Bearer ${x}`}});if(!_.ok)throw new Error("Failed to fetch files");return _.json()},enabled:!!n}),b=Se({mutationFn:async _=>{await De("PUT",`/api/admin/v1/cms/lessons/${n}`,_)},onSuccess:()=>{a({title:"Lesson updated"})},onError:()=>{a({title:"Failed to update lesson",variant:"destructive"})}}),w=Se({mutationFn:async _=>{await De("DELETE",`/api/admin/v1/cms/files/${_}`)},onSuccess:()=>{ve.invalidateQueries({queryKey:["/api/admin/v1/cms/files",n]}),a({title:"File deleted"})},onError:()=>{a({title:"Failed to delete file",variant:"destructive"})}}),N=_=>_.startsWith("video/")?"video":_.startsWith("audio/")?"audio":_==="application/pdf"?"script":null,T=async(_,k)=>{const P=_.target.files;if(P){for(let M=0;M<P.length;M++){const B=P[M],U=N(B.type);if(k==="video"&&U!=="video"){a({title:"Please select a video file",variant:"destructive"});continue}if(k==="audio"&&U!=="audio"){a({title:"Please select an audio file",variant:"destructive"});continue}if(k==="script"&&B.type!=="application/pdf"){a({title:"Please select a PDF file",variant:"destructive"});continue}const L={file:B,fileType:k,progress:0,status:"pending"};v(F=>[...F,L]),S(L)}_.target.value=""}},S=async _=>{try{v(L=>L.map(F=>F.file===_.file?{...F,status:"uploading",progress:10}:F));const k=await De("POST","/api/admin/v1/cms/files/get-upload-url",{filename:_.file.name,contentType:_.file.type,lessonId:n,fileType:_.fileType}),{uploadUrl:P,key:M,publicUrl:B}=await k.json();v(L=>L.map(F=>F.file===_.file?{...F,progress:30}:F));const U=new XMLHttpRequest;await new Promise((L,F)=>{U.upload.addEventListener("progress",R=>{if(R.lengthComputable){const O=Math.round(R.loaded/R.total*60)+30;v(D=>D.map($=>$.file===_.file?{...$,progress:O}:$))}}),U.addEventListener("load",()=>{U.status>=200&&U.status<300?L():F(new Error("Upload failed"))}),U.addEventListener("error",()=>F(new Error("Upload failed"))),U.open("PUT",P),U.setRequestHeader("Content-Type",_.file.type),U.send(_.file)}),v(L=>L.map(F=>F.file===_.file?{...F,progress:95}:F)),await De("POST","/api/admin/v1/cms/files/confirm",{lessonId:n,fileType:_.fileType,r2Key:M,publicUrl:B,sizeMb:Math.round(_.file.size/(1024*1024))}),v(L=>L.map(F=>F.file===_.file?{...F,status:"done",progress:100}:F)),ve.invalidateQueries({queryKey:["/api/admin/v1/cms/files",n]}),setTimeout(()=>{v(L=>L.filter(F=>F.file!==_.file))},2e3)}catch(k){console.error("Upload error:",k),v(P=>P.map(M=>M.file===_.file?{...M,status:"error"}:M)),a({title:"Failed to upload file",variant:"destructive"})}},E=_=>{v(k=>k.filter(P=>P.file!==_.file))},A=()=>{if(!c.trim()){a({title:"Title is required",variant:"destructive"});return}b.mutate({title:c,description:h})},C=_=>{switch(_){case"video":return i.jsx(xi,{className:"w-5 h-5 text-blue-500"});case"audio":return i.jsx(qn,{className:"w-5 h-5 text-green-500"});case"script":return i.jsx(ca,{className:"w-5 h-5 text-orange-500"});default:return i.jsx(ca,{className:"w-5 h-5 text-gray-500"})}};return y?i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-brand border-t-transparent rounded-full"})})}):i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Lesson"}),i.jsx("p",{className:"text-gray-600 mt-1",children:m==null?void 0:m.title})]}),i.jsxs("div",{className:"max-w-3xl",children:[i.jsxs(ee,{variant:"outline",onClick:l,className:"mb-6","data-testid":"button-back",children:[i.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back to Course"]}),i.jsxs(we,{className:"p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Lesson Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Title"}),i.jsx(Ae,{value:c||(m==null?void 0:m.title)||"",onChange:_=>u(_.target.value),placeholder:"Enter lesson title",className:"mt-2","data-testid":"input-title"})]}),i.jsxs("div",{children:[i.jsx(ge,{children:"Description (Optional)"}),i.jsx(fr,{value:h||(m==null?void 0:m.description)||"",onChange:_=>d(_.target.value),placeholder:"Enter lesson description",className:"mt-2 min-h-[80px]","data-testid":"input-description"})]}),i.jsxs(ee,{onClick:A,disabled:b.isPending,className:"bg-brand hover:bg-brand/90","data-testid":"button-save",children:[i.jsx(Cg,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),i.jsxs(we,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Lesson Files"}),i.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Upload video, audio, or PDF script files for this lesson."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[i.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[i.jsx(xi,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Video"}),i.jsxs("label",{children:[i.jsx("input",{type:"file",accept:"video/*",onChange:_=>T(_,"video"),className:"hidden","data-testid":"input-video"}),i.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs("span",{children:[i.jsx(vs,{className:"w-3 h-3 mr-2"}),"Upload"]})})]})]}),i.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-green-400 transition-colors",children:[i.jsx(qn,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Audio"}),i.jsxs("label",{children:[i.jsx("input",{type:"file",accept:"audio/*",onChange:_=>T(_,"audio"),className:"hidden","data-testid":"input-audio"}),i.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs("span",{children:[i.jsx(vs,{className:"w-3 h-3 mr-2"}),"Upload"]})})]})]}),i.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-orange-400 transition-colors",children:[i.jsx(ca,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Script (PDF)"}),i.jsxs("label",{children:[i.jsx("input",{type:"file",accept:"application/pdf",onChange:_=>T(_,"script"),className:"hidden","data-testid":"input-script"}),i.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs("span",{children:[i.jsx(vs,{className:"w-3 h-3 mr-2"}),"Upload"]})})]})]})]}),f.length>0&&i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Uploading..."}),f.map((_,k)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[C(_.fileType),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-gray-900 truncate",children:_.file.name}),i.jsx(e0,{value:_.progress,className:"h-1 mt-1"})]}),_.status==="error"&&i.jsx("span",{className:"text-xs text-red-500",children:"Failed"}),_.status==="done"&&i.jsx("span",{className:"text-xs text-green-500",children:"Done"}),_.status!=="done"&&i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>E(_),className:"h-8 w-8 hover:text-red-500",children:i.jsx(Pn,{className:"w-4 h-4"})})]},k))]}),p?i.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading files..."}):g.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:i.jsx("p",{children:"No files uploaded yet."})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Uploaded Files"}),g.map(_=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[C(_.fileType),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-900",children:[_.fileType.charAt(0).toUpperCase()+_.fileType.slice(1)," File"]}),i.jsx("p",{className:"text-xs text-gray-500",children:_.sizeMb?`${_.sizeMb} MB`:"Size unknown"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[_.publicUrl&&i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>window.open(_.publicUrl,"_blank"),children:"View"}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>w.mutate(_.id),className:"hover:text-red-500","data-testid":`button-delete-file-${_.id}`,children:i.jsx($t,{className:"w-4 h-4"})})]})]},_.id))]})]})]})]})}function pN(){return i.jsxs(Gk,{children:[i.jsx(Fe,{path:"/admin/login",component:YU}),i.jsx(Fe,{path:"/admin",component:ZU}),i.jsx(Fe,{path:"/admin/interventions",component:s7}),i.jsx(Fe,{path:"/admin/sessions",component:r7}),i.jsx(Fe,{path:"/admin/articles",component:$Q}),i.jsx(Fe,{path:"/admin/music-journaling",component:BQ}),i.jsx(Fe,{path:"/admin/project-heart",component:VQ}),i.jsx(Fe,{path:"/admin/users/students",component:sY}),i.jsx(Fe,{path:"/admin/users/admins",component:mY}),i.jsx(Fe,{path:"/admin/courses",component:wZ}),i.jsx(Fe,{path:"/admin/programs",component:jZ}),i.jsx(Fe,{path:"/admin/courses/create/step1",component:fJ}),i.jsx(Fe,{path:"/admin/courses/create/step2/:id",component:hJ}),i.jsx(Fe,{path:"/admin/courses/create/step3/:id",component:yJ}),i.jsx(Fe,{path:"/admin/courses/:id",component:xJ}),i.jsx(Fe,{path:"/admin/courses/:courseId/lessons/:lessonId",component:bJ}),i.jsx(Fe,{path:"/admin/processes",component:NZ}),i.jsx(Fe,{path:"/admin/spiritual-breaths",component:SZ}),i.jsx(Fe,{path:"/admin/abundance-mastery",component:kZ}),i.jsx(Fe,{path:"/admin/my-processes",component:_Z}),i.jsx(Fe,{path:"/admin/session-banner/banners",component:TZ}),i.jsx(Fe,{path:"/admin/session-banner/banners/new",component:Xj}),i.jsx(Fe,{path:"/admin/session-banner/banners/:id/edit",component:Xj}),i.jsx(Fe,{component:LA})]})}function wJ(){const[e]=Ve(),t=e.startsWith("/admin"),n=e==="/admin/login",r=e==="/login";return i.jsx(yM,{client:ve,children:i.jsxs(KL,{children:[i.jsx(GL,{children:i.jsx(YL,{children:t?n?i.jsx(j1,{children:i.jsx(pN,{})}):i.jsx(XL,{children:i.jsx(j1,{children:i.jsx(pN,{})})}):r?i.jsx(x1,{children:i.jsx(mj,{})}):i.jsx(ZL,{children:i.jsx(x1,{children:i.jsx(mj,{})})})})}),i.jsx(jI,{})]})})}Fk(document.getElementById("root")).render(i.jsx(wJ,{}));
